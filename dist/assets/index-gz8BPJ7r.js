var SS=Object.defineProperty;var jS=(r,t,i)=>t in r?SS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var hs=(r,t,i)=>jS(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();function Ro(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function NS(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var c=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:function(){return r[a]}})}),i}var tm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function TS(){if(Yx)return $l;Yx=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,c,h){var p=null;if(h!==void 0&&(p=""+h),c.key!==void 0&&(p=""+c.key),"key"in c){h={};for(var x in c)x!=="key"&&(h[x]=c[x])}else h=c;return c=h.ref,{$$typeof:r,type:a,key:p,ref:c!==void 0?c:null,props:h}}return $l.Fragment=t,$l.jsx=i,$l.jsxs=i,$l}var Kx;function ES(){return Kx||(Kx=1,tm.exports=TS()),tm.exports}var l=ES(),nm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function AS(){if(Wx)return De;Wx=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),j=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=j&&O[j]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function U(O,J,se){this.props=O,this.context=J,this.refs=M,this.updater=se||A}U.prototype.isReactComponent={},U.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function z(){}z.prototype=U.prototype;function k(O,J,se){this.props=O,this.context=J,this.refs=M,this.updater=se||A}var B=k.prototype=new z;B.constructor=k,C(B,U.prototype),B.isPureReactComponent=!0;var P=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function ae(O,J,se,ce,fe,xe){return se=xe.ref,{$$typeof:r,type:O,key:J,ref:se!==void 0?se:null,props:xe}}function re(O,J){return ae(O.type,J,void 0,void 0,void 0,O.props)}function me(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function Le(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return J[se]})}var _e=/\/+/g;function Be(O,J){return typeof O=="object"&&O!==null&&O.key!=null?Le(""+O.key):J.toString(36)}function Kt(){}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Kt,Kt):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ot(O,J,se,ce,fe){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var de=!1;if(O===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(O.$$typeof){case r:case t:de=!0;break;case w:return de=O._init,ot(de(O._payload),J,se,ce,fe)}}if(de)return fe=fe(O),de=ce===""?"."+Be(O,0):ce,P(fe)?(se="",de!=null&&(se=de.replace(_e,"$&/")+"/"),ot(fe,J,se,"",function(ei){return ei})):fe!=null&&(me(fe)&&(fe=re(fe,se+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(_e,"$&/")+"/")+de)),J.push(fe)),1;de=0;var ut=ce===""?".":ce+":";if(P(O))for(var Fe=0;Fe<O.length;Fe++)ce=O[Fe],xe=ut+Be(ce,Fe),de+=ot(ce,J,se,xe,fe);else if(Fe=T(O),typeof Fe=="function")for(O=Fe.call(O),Fe=0;!(ce=O.next()).done;)ce=ce.value,xe=ut+Be(ce,Fe++),de+=ot(ce,J,se,xe,fe);else if(xe==="object"){if(typeof O.then=="function")return ot(pt(O),J,se,ce,fe);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return de}function W(O,J,se){if(O==null)return O;var ce=[],fe=0;return ot(O,ce,"","",function(xe){return J.call(se,xe,fe++)}),ce}function ue(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Qe(){}return De.Children={map:W,forEach:function(O,J,se){W(O,function(){J.apply(this,arguments)},se)},count:function(O){var J=0;return W(O,function(){J++}),J},toArray:function(O){return W(O,function(J){return J})||[]},only:function(O){if(!me(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=U,De.Fragment=i,De.Profiler=c,De.PureComponent=k,De.StrictMode=a,De.Suspense=y,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},De.cache=function(O){return function(){return O.apply(null,arguments)}},De.cloneElement=function(O,J,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=C({},O.props),fe=O.key,xe=void 0;if(J!=null)for(de in J.ref!==void 0&&(xe=void 0),J.key!==void 0&&(fe=""+J.key),J)!X.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(ce[de]=J[de]);var de=arguments.length-2;if(de===1)ce.children=se;else if(1<de){for(var ut=Array(de),Fe=0;Fe<de;Fe++)ut[Fe]=arguments[Fe+2];ce.children=ut}return ae(O.type,fe,void 0,void 0,xe,ce)},De.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},De.createElement=function(O,J,se){var ce,fe={},xe=null;if(J!=null)for(ce in J.key!==void 0&&(xe=""+J.key),J)X.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=J[ce]);var de=arguments.length-2;if(de===1)fe.children=se;else if(1<de){for(var ut=Array(de),Fe=0;Fe<de;Fe++)ut[Fe]=arguments[Fe+2];fe.children=ut}if(O&&O.defaultProps)for(ce in de=O.defaultProps,de)fe[ce]===void 0&&(fe[ce]=de[ce]);return ae(O,xe,void 0,void 0,null,fe)},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:x,render:O}},De.isValidElement=me,De.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ue}},De.memo=function(O,J){return{$$typeof:v,type:O,compare:J===void 0?null:J}},De.startTransition=function(O){var J=R.T,se={};R.T=se;try{var ce=O(),fe=R.S;fe!==null&&fe(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Qe,le)}catch(xe){le(xe)}finally{R.T=J}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(O){return R.H.use(O)},De.useActionState=function(O,J,se){return R.H.useActionState(O,J,se)},De.useCallback=function(O,J){return R.H.useCallback(O,J)},De.useContext=function(O){return R.H.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O,J){return R.H.useDeferredValue(O,J)},De.useEffect=function(O,J,se){var ce=R.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(O,J)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(O,J,se){return R.H.useImperativeHandle(O,J,se)},De.useInsertionEffect=function(O,J){return R.H.useInsertionEffect(O,J)},De.useLayoutEffect=function(O,J){return R.H.useLayoutEffect(O,J)},De.useMemo=function(O,J){return R.H.useMemo(O,J)},De.useOptimistic=function(O,J){return R.H.useOptimistic(O,J)},De.useReducer=function(O,J,se){return R.H.useReducer(O,J,se)},De.useRef=function(O){return R.H.useRef(O)},De.useState=function(O){return R.H.useState(O)},De.useSyncExternalStore=function(O,J,se){return R.H.useSyncExternalStore(O,J,se)},De.useTransition=function(){return R.H.useTransition()},De.version="19.1.0",De}var Jx;function vp(){return Jx||(Jx=1,nm.exports=AS()),nm.exports}var $=vp();const Bn=Ro($);var im={exports:{}},ql={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function CS(){return Xx||(Xx=1,function(r){function t(W,ue){var le=W.length;W.push(ue);e:for(;0<le;){var Qe=le-1>>>1,O=W[Qe];if(0<c(O,ue))W[Qe]=ue,W[le]=O,le=Qe;else break e}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ue=W[0],le=W.pop();if(le!==ue){W[0]=le;e:for(var Qe=0,O=W.length,J=O>>>1;Qe<J;){var se=2*(Qe+1)-1,ce=W[se],fe=se+1,xe=W[fe];if(0>c(ce,le))fe<O&&0>c(xe,ce)?(W[Qe]=xe,W[fe]=le,Qe=fe):(W[Qe]=ce,W[se]=le,Qe=se);else if(fe<O&&0>c(xe,le))W[Qe]=xe,W[fe]=le,Qe=fe;else break e}}return ue}function c(W,ue){var le=W.sortIndex-ue.sortIndex;return le!==0?le:W.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,x=p.now();r.unstable_now=function(){return p.now()-x}}var y=[],v=[],w=1,j=null,T=3,A=!1,C=!1,M=!1,U=!1,z=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(W){for(var ue=i(v);ue!==null;){if(ue.callback===null)a(v);else if(ue.startTime<=W)a(v),ue.sortIndex=ue.expirationTime,t(y,ue);else break;ue=i(v)}}function R(W){if(M=!1,P(W),!C)if(i(y)!==null)C=!0,X||(X=!0,Be());else{var ue=i(v);ue!==null&&ot(R,ue.startTime-W)}}var X=!1,ae=-1,re=5,me=-1;function Le(){return U?!0:!(r.unstable_now()-me<re)}function _e(){if(U=!1,X){var W=r.unstable_now();me=W;var ue=!0;try{e:{C=!1,M&&(M=!1,k(ae),ae=-1),A=!0;var le=T;try{t:{for(P(W),j=i(y);j!==null&&!(j.expirationTime>W&&Le());){var Qe=j.callback;if(typeof Qe=="function"){j.callback=null,T=j.priorityLevel;var O=Qe(j.expirationTime<=W);if(W=r.unstable_now(),typeof O=="function"){j.callback=O,P(W),ue=!0;break t}j===i(y)&&a(y),P(W)}else a(y);j=i(y)}if(j!==null)ue=!0;else{var J=i(v);J!==null&&ot(R,J.startTime-W),ue=!1}}break e}finally{j=null,T=le,A=!1}ue=void 0}}finally{ue?Be():X=!1}}}var Be;if(typeof B=="function")Be=function(){B(_e)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,pt=Kt.port2;Kt.port1.onmessage=_e,Be=function(){pt.postMessage(null)}}else Be=function(){z(_e,0)};function ot(W,ue){ae=z(function(){W(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var le=T;T=ue;try{return W()}finally{T=le}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=T;T=W;try{return ue()}finally{T=le}},r.unstable_scheduleCallback=function(W,ue,le){var Qe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Qe+le:Qe):le=Qe,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,W={id:w++,callback:ue,priorityLevel:W,startTime:le,expirationTime:O,sortIndex:-1},le>Qe?(W.sortIndex=le,t(v,W),i(y)===null&&W===i(v)&&(M?(k(ae),ae=-1):M=!0,ot(R,le-Qe))):(W.sortIndex=O,t(y,W),C||A||(C=!0,X||(X=!0,Be()))),W},r.unstable_shouldYield=Le,r.unstable_wrapCallback=function(W){var ue=T;return function(){var le=T;T=ue;try{return W.apply(this,arguments)}finally{T=le}}}}(am)),am}var ev;function OS(){return ev||(ev=1,sm.exports=CS()),sm.exports}var rm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function kS(){if(tv)return nn;tv=1;var r=vp();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,v,w){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:j==null?null:""+j,children:y,containerInfo:v,implementation:w}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,w)},nn.flushSync=function(y){var v=p.T,w=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=v,a.p=w,a.d.f()}},nn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var w=v.as,j=x(w,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,A=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:j,integrity:T,fetchPriority:A}):w==="script"&&a.d.X(y,{crossOrigin:j,integrity:T,fetchPriority:A,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},nn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=x(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},nn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,j=x(w,v.crossOrigin);a.d.L(y,w,{crossOrigin:j,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},nn.preloadModule=function(y,v){if(typeof y=="string")if(v){var w=x(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,v){return y(v)},nn.useFormState=function(y,v,w){return p.H.useFormState(y,v,w)},nn.useFormStatus=function(){return p.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var nv;function E0(){if(nv)return rm.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rm.exports=kS(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function RS(){if(iv)return ql;iv=1;var r=OS(),t=vp(),i=E0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(h(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,d=n;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return x(m),e;if(g===d)return x(m),n;g=g.sibling}throw Error(a(188))}if(o.return!==d.return)o=m,d=g;else{for(var S=!1,E=m.child;E;){if(E===o){S=!0,o=m,d=g;break}if(E===d){S=!0,d=m,o=g;break}E=E.sibling}if(!S){for(E=g.child;E;){if(E===o){S=!0,o=g,d=m;break}if(E===d){S=!0,d=g,o=m;break}E=E.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==d)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),Le=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Be(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Symbol.for("react.client.reference");function pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Kt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case U:return"Profiler";case M:return"StrictMode";case R:return"Suspense";case X:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case B:return(e.displayName||"Context")+".Provider";case k:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:pt(e.type)||"Memo";case re:n=e._payload,e=e._init;try{return pt(e(n))}catch{}}return null}var ot=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Qe=[],O=-1;function J(e){return{current:e}}function se(e){0>O||(e.current=Qe[O],Qe[O]=null,O--)}function ce(e,n){O++,Qe[O]=e.current,e.current=n}var fe=J(null),xe=J(null),de=J(null),ut=J(null);function Fe(e,n){switch(ce(de,n),ce(xe,e),ce(fe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sx(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sx(n),e=jx(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(fe),ce(fe,e)}function ei(){se(fe),se(xe),se(de)}function wa(e){e.memoizedState!==null&&ce(ut,e);var n=fe.current,o=jx(n,e.type);n!==o&&(ce(xe,e),ce(fe,o))}function _s(e){xe.current===e&&(se(fe),se(xe)),ut.current===e&&(se(ut),Il._currentValue=le)}var Di=Object.prototype.hasOwnProperty,Sa=r.unstable_scheduleCallback,Bo=r.unstable_cancelCallback,Ec=r.unstable_shouldYield,Ac=r.unstable_requestPaint,fn=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,Cc=r.unstable_ImmediatePriority,zo=r.unstable_UserBlockingPriority,bs=r.unstable_NormalPriority,Oc=r.unstable_LowPriority,Uo=r.unstable_IdlePriority,ah=r.log,rh=r.unstable_setDisableYieldValue,Ii=null,Wt=null;function ti(e){if(typeof ah=="function"&&rh(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Ii,e)}catch{}}var an=Math.clz32?Math.clz32:oh,kc=Math.log,Rc=Math.LN2;function oh(e){return e>>>=0,e===0?32:31-(kc(e)/Rc|0)|0}var ja=256,ws=4194304;function gi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gr(e,n,o){var d=e.pendingLanes;if(d===0)return 0;var m=0,g=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=d&134217727;return E!==0?(d=E&~g,d!==0?m=gi(d):(S&=E,S!==0?m=gi(S):o||(o=E&~e,o!==0&&(m=gi(o))))):(E=d&~g,E!==0?m=gi(E):S!==0?m=gi(S):o||(o=d&~e,o!==0&&(m=gi(o)))),m===0?0:n!==0&&n!==m&&(n&g)===0&&(g=m&-m,o=n&-n,g>=o||g===32&&(o&4194048)!==0)?n:m}function ni(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var e=ja;return ja<<=1,(ja&4194048)===0&&(ja=256),e}function Go(){var e=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),e}function yr(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ch(e,n,o,d,m,g){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,Q=e.hiddenUpdates;for(o=S&~o;0<o;){var ee=31-an(o),ne=1<<ee;E[ee]=0,I[ee]=-1;var V=Q[ee];if(V!==null)for(Q[ee]=null,ee=0;ee<V.length;ee++){var Y=V[ee];Y!==null&&(Y.lane&=-536870913)}o&=~ne}d!==0&&Mc(e,d,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(S&~n))}function Mc(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var d=31-an(n);e.entangledLanes|=n,e.entanglements[d]=e.entanglements[d]|1073741824|o&4194090}function Pc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var d=31-an(o),m=1<<d;m&n|e[d]&n&&(e[d]|=n),o&=~m}}function $o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dc(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:qx(e.type))}function Ho(e,n){var o=ue.p;try{return ue.p=e,n()}finally{ue.p=o}}var yi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+yi,Jt="__reactProps$"+yi,js="__reactContainer$"+yi,mn="__reactEvents$"+yi,be="__reactListeners$"+yi,Ic="__reactHandles$"+yi,Zo="__reactResources$"+yi,Ns="__reactMarker$"+yi;function xr(e){delete e[Lt],delete e[Jt],delete e[mn],delete e[be],delete e[Ic]}function xi(e){var n=e[Lt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[js]||o[Lt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Ax(e);e!==null;){if(o=e[Lt])return o;e=Ax(e)}return n}e=o,o=e.parentNode}return null}function Bi(e){if(e=e[Lt]||e[js]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function zi(e){var n=e[Zo];return n||(n=e[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(e){e[Ns]=!0}var Bc=new Set,zc={};function Ui(e,n){Gi(e,n),Gi(e+"Capture",n)}function Gi(e,n){for(zc[e]=n,e=0;e<n.length;e++)Bc.add(n[e])}var uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},Uc={};function dh(e){return Di.call(Uc,e)?!0:Di.call(Na,e)?!1:uh.test(e)?Uc[e]=!0:(Na[e]=!0,!1)}function vr(e,n,o){if(dh(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var d=n.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function _r(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function ii(e,n,o,d){if(d===null)e.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+d)}}var Ta,Ts;function $i(e){if(Ta===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ta=n&&n[1]||"",Ts=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+e+Ts}var br=!1;function qi(e,n){if(!e||br)return"";br=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var V=Y}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(Y){V=Y}e.call(ne.prototype)}}else{try{throw Error()}catch(Y){V=Y}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&V&&typeof Y.stack=="string")return[Y.stack,V.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=d.DetermineComponentFrameRoot(),S=g[0],E=g[1];if(S&&E){var I=S.split(`
`),Q=E.split(`
`);for(m=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(d===I.length||m===Q.length)for(d=I.length-1,m=Q.length-1;1<=d&&0<=m&&I[d]!==Q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(I[d]!==Q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||I[d]!==Q[m]){var ee=`
`+I[d].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=d&&0<=m);break}}}finally{br=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?$i(o):""}function He(e){switch(e.tag){case 26:case 27:case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 15:return qi(e.type,!1);case 11:return qi(e.type.render,!1);case 1:return qi(e.type,!0);case 31:return $i("Activity");default:return""}}function nt(e){try{var n="";do n+=He(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Es(e){var n=Hi(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,g.call(this,S)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function As(e){e._valueTracker||(e._valueTracker=Es(e))}function Pe(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),d="";return e&&(d=Hi(e)?e.checked?"true":"false":e.value),e=d,e!==o?(n.setValue(e),!0):!1}function it(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qo=/[\n"\\]/g;function $t(e){return e.replace(Qo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xt(e,n,o,d,m,g,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Gt(n)):e.value!==""+Gt(n)&&(e.value=""+Gt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Cs(e,S,Gt(n)):o!=null?Cs(e,S,Gt(o)):d!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Gt(E):e.removeAttribute("name")}function Gc(e,n,o,d,m,g,S,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;o=o!=null?""+Gt(o):"",n=n!=null?""+Gt(n):o,E||n===e.value||(e.value=n),e.defaultValue=n}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,e.checked=E?e.checked:!!d,e.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function Cs(e,n,o){n==="number"&&it(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function pn(e,n,o,d){if(e=e.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=n.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&d&&(e[o].defaultSelected=!0)}else{for(o=""+Gt(o),n=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,d&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function dt(e,n,o){if(n!=null&&(n=""+Gt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Gt(o):""}function vi(e,n,o,d){if(n==null){if(d!=null){if(o!=null)throw Error(a(92));if(ot(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),n=o}o=Gt(n),e.defaultValue=o,d=e.textContent,d===o&&d!==""&&d!==null&&(e.value=d)}function $n(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wr(e,n,o){var d=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":d?e.setProperty(n,o):typeof o!="number"||o===0||Ea.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Os(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||n!=null&&n.hasOwnProperty(d)||(d.indexOf("--")===0?e.setProperty(d,""):d==="float"?e.cssFloat="":e[d]="");for(var m in n)d=n[m],n.hasOwnProperty(m)&&o[m]!==d&&wr(e,m,d)}else for(var g in n)n.hasOwnProperty(g)&&wr(e,g,n[g])}function Aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(e){return Sr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ca=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,_i=null;function $c(e){var n=Bi(e);if(n&&(e=n.stateNode)){var o=e[Jt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Xt(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var d=o[n];if(d!==e&&d.form===e.form){var m=d[Jt]||null;if(!m)throw Error(a(90));Xt(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<o.length;n++)d=o[n],d.form===e.form&&Pe(d)}break e;case"textarea":dt(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&pn(e,!!o.multiple,n,!1)}}}var Re=!1;function wn(e,n,o){if(Re)return e(n,o);Re=!0;try{var d=e(n);return d}finally{if(Re=!1,(Zi!==null||_i!==null)&&(Du(),Zi&&(n=Zi,e=_i,_i=Zi=null,$c(n),e)))for(n=0;n<e.length;n++)$c(e[n])}}function Ve(e,n){var o=e.stateNode;if(o===null)return null;var d=o[Jt]||null;if(d===null)return null;o=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=!1;if(qn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Oa=!1}var Hn=null,si=null,Ls=null;function Ms(){if(Ls)return Ls;var e,n=si,o=n.length,d,m="value"in Hn?Hn.value:Hn.textContent,g=m.length;for(e=0;e<o&&n[e]===m[e];e++);var S=o-e;for(d=1;d<=S&&n[o-d]===m[g-d];d++);return Ls=m.slice(e,1<d?1-d:void 0)}function gt(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function Vo(){return!1}function qt(e){function n(o,d,m,g,S){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zn:Vo,this.isPropagationStopped=Vo,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=qt(Fi),Vi=w({},Fi,{view:0,detail:0}),hh=qt(Vi),jr,Ue,Ra,en=w({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(jr=e.screenX-Ra.screenX,Ue=e.screenY-Ra.screenY):Ue=jr=0,Ra=e),jr)},movementY:function(e){return"movementY"in e?e.movementY:Ue}}),Ps=qt(en),qc=w({},en,{dataTransfer:0}),fh=qt(qc),Yo=w({},Vi,{relatedTarget:0}),Ko=qt(Yo),Hc=w({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=qt(Hc),ph=w({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wo=qt(ph),gh=w({},Fi,{data:0}),Sn=qt(gh),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bi[e])?!!n[e]:!1}function Nr(){return Qc}var Jo=w({},Vi,{key:function(e){if(e.key){var n=yh[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return e.type==="keypress"?gt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xh=qt(Jo),Fc=w({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=qt(Fc),vh=w({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),_h=qt(vh),el=w({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=qt(el),Vc=w({},en,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yc=qt(Vc),Tr=w({},Fi,{newState:0,oldState:0}),Yi=qt(Tr),wh=[9,13,27,32],Ki=qn&&"CompositionEvent"in window,Mt=null;qn&&"documentMode"in document&&(Mt=document.documentMode);var Kc=qn&&"TextEvent"in window&&!Mt,tl=qn&&(!Ki||Mt&&8<Mt&&11>=Mt),Wc=" ",Er=!1;function Ar(e,n){switch(e){case"keyup":return wh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function Xc(e,n){switch(e){case"compositionend":return Jc(n);case"keypress":return n.which!==32?null:(Er=!0,Wc);case"textInput":return e=n.data,e===Wc&&Er?null:e;default:return null}}function Sh(e,n){if(Ds)return e==="compositionend"||!Ki&&Ar(e,n)?(e=Ms(),Ls=si=Hn=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tl&&n.locale!=="ko"?null:n.data;default:return null}}var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jn[e.type]:n==="textarea"}function eu(e,n,o,d){Zi?_i?_i.push(d):_i=[d]:Zi=d,n=$u(n,"onChange"),0<n.length&&(o=new ka("onChange","change",null,o,d),e.push({event:o,listeners:n}))}var rn=null,La=null;function Is(e){xx(e,0)}function Cr(e){var n=Gn(e);if(Pe(n))return e}function Bs(e,n){if(e==="change")return n}var nl=!1;if(qn){var zs;if(qn){var il="oninput"in document;if(!il){var ai=document.createElement("div");ai.setAttribute("oninput","return;"),il=typeof ai.oninput=="function"}zs=il}else zs=!1;nl=zs&&(!document.documentMode||9<document.documentMode)}function Ma(){rn&&(rn.detachEvent("onpropertychange",tu),La=rn=null)}function tu(e){if(e.propertyName==="value"&&Cr(La)){var n=[];eu(n,La,e,Rs(e)),wn(Is,n)}}function sl(e,n,o){e==="focusin"?(Ma(),rn=n,La=o,rn.attachEvent("onpropertychange",tu)):e==="focusout"&&Ma()}function jh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(La)}function ri(e,n){if(e==="click")return Cr(n)}function Nh(e,n){if(e==="input"||e==="change")return Cr(n)}function Us(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:Us;function ln(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),d=Object.keys(n);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!Di.call(n,m)||!on(e[m],n[m]))return!1}return!0}function Pa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function al(e,n){var o=Pa(e);e=0;for(var d;o;){if(o.nodeType===3){if(d=e+o.textContent.length,e<=n&&d>=n)return{node:o,offset:n-e};e=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pa(o)}}function Or(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Or(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Da(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=it(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=it(e.document)}return n}function Ia(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var kr=qn&&"documentMode"in document&&11>=document.documentMode,Nn=null,Gs=null,Ji=null,Rr=!1;function nu(e,n,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rr||Nn==null||Nn!==it(d)||(d=Nn,"selectionStart"in d&&Ia(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ji&&ln(Ji,d)||(Ji=d,d=$u(Gs,"onSelect"),0<d.length&&(n=new ka("onSelect","select",null,n,o),e.push({event:n,listeners:d}),n.target=Nn)))}function Qn(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var $s={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},Lr={},iu={};qn&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function wi(e){if(Lr[e])return Lr[e];if(!$s[e])return e;var n=$s[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in iu)return Lr[e]=n[o];return e}var su=wi("animationend"),Tn=wi("animationiteration"),Ba=wi("animationstart"),Th=wi("transitionrun"),Mr=wi("transitionstart"),Eh=wi("transitioncancel"),rl=wi("transitionend"),au=new Map,Xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xi.push("scrollEnd");function En(e,n){au.set(e,n),Ui(n,[e])}var es=new WeakMap;function cn(e,n){if(typeof e=="object"&&e!==null){var o=es.get(e);return o!==void 0?o:(n={value:e,source:n,stack:nt(n)},es.set(e,n),n)}return{value:e,source:n,stack:nt(n)}}var un=[],qs=0,An=0;function za(){for(var e=qs,n=An=qs=0;n<e;){var o=un[n];un[n++]=null;var d=un[n];un[n++]=null;var m=un[n];un[n++]=null;var g=un[n];if(un[n++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}g!==0&&Ga(o,m,g)}}function Ua(e,n,o,d){un[qs++]=e,un[qs++]=n,un[qs++]=o,un[qs++]=d,An|=d,e.lanes|=d,e=e.alternate,e!==null&&(e.lanes|=d)}function ts(e,n,o,d){return Ua(e,n,o,d),Si(e)}function Hs(e,n){return Ua(e,null,null,n),Si(e)}function Ga(e,n,o){e.lanes|=o;var d=e.alternate;d!==null&&(d.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,d=g.alternate,d!==null&&(d.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&n!==null&&(m=31-an(o),e=g.hiddenUpdates,d=e[m],d===null?e[m]=[n]:d.push(n),n.lane=o|536870912),g):null}function Si(e){if(50<Cl)throw Cl=0,Nf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ns={};function ru(e,n,o,d){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,o,d){return new ru(e,n,o,d)}function Pr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,n){var o=e.alternate;return o===null?(o=dn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function ol(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function $a(e,n,o,d,m,g){var S=0;if(d=e,typeof e=="function")Pr(e)&&(S=1);else if(typeof e=="string")S=uS(e,o,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=dn(31,o,n,m),e.elementType=me,e.lanes=g,e;case C:return ji(o.children,m,g,n);case M:S=8,m|=24;break;case U:return e=dn(12,o,n,m|2),e.elementType=U,e.lanes=g,e;case R:return e=dn(13,o,n,m),e.elementType=R,e.lanes=g,e;case X:return e=dn(19,o,n,m),e.elementType=X,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:case B:S=10;break e;case k:S=9;break e;case P:S=11;break e;case ae:S=14;break e;case re:S=16,d=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),d=null}return n=dn(S,o,n,m),n.elementType=e,n.type=d,n.lanes=g,n}function ji(e,n,o,d){return e=dn(7,e,d,n),e.lanes=o,e}function ll(e,n,o){return e=dn(6,e,null,n),e.lanes=o,e}function Dr(e,n,o){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var is=[],Zs=0,s=null,u=0,f=[],_=0,b=null,N=1,D="";function H(e,n){is[Zs++]=u,is[Zs++]=s,s=e,u=n}function K(e,n,o){f[_++]=N,f[_++]=D,f[_++]=b,b=e;var d=N;e=D;var m=32-an(d)-1;d&=~(1<<m),o+=1;var g=32-an(n)+m;if(30<g){var S=m-m%5;g=(d&(1<<S)-1).toString(32),d>>=S,m-=S,N=1<<32-an(n)+m|o<<m|d,D=g+e}else N=1<<g|o<<m|d,D=e}function ie(e){e.return!==null&&(H(e,1),K(e,1,0))}function he(e){for(;e===s;)s=is[--Zs],is[Zs]=null,u=is[--Zs],is[Zs]=null;for(;e===b;)b=f[--_],f[_]=null,D=f[--_],f[_]=null,N=f[--_],f[_]=null}var ge=null,ve=null,ke=!1,st=null,ht=!1,Pt=Error(a(519));function gn(e){var n=Error(a(418,""));throw Fs(cn(n,e)),Pt}function ou(e){var n=e.stateNode,o=e.type,d=e.memoizedProps;switch(n[Lt]=e,n[Jt]=d,o){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(o=0;o<kl.length;o++)qe(kl[o],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),Gc(n,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),As(n);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),vi(n,d.value,d.defaultValue,d.children),As(n)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||d.suppressHydrationWarning===!0||wx(n.textContent,o)?(d.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),d.onScroll!=null&&qe("scroll",n),d.onScrollEnd!=null&&qe("scrollend",n),d.onClick!=null&&(n.onclick=qu),n=!0):n=!1,n||gn(e)}function lu(e){for(ge=e.return;ge;)switch(ge.tag){case 5:case 13:ht=!1;return;case 27:case 3:ht=!0;return;default:ge=ge.return}}function qa(e){if(e!==ge)return!1;if(!ke)return lu(e),ke=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Gf(e.type,e.memoizedProps)),o=!o),o&&ve&&gn(e),lu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){ve=ui(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,la(e.type)?(e=Zf,Zf=null,ve=e):ve=n):ve=ge?ui(e.stateNode.nextSibling):null;return!0}function Qs(){ve=ge=null,ke=!1}function cu(){var e=st;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),st=null),e}function Fs(e){st===null?st=[e]:st.push(e)}var lt=J(null),Vn=null,oi=null;function Ni(e,n,o){ce(lt,n._currentValue),n._currentValue=o}function li(e){e._currentValue=lt.current,se(lt)}function Ha(e,n,o){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===o)break;e=e.return}}function Ir(e,n,o,d){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=m;for(var I=0;I<n.length;I++)if(E.context===n[I]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),Ha(g.return,o,e),d||(S=null);break e}g=E.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(a(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Ha(S,o,e),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===e){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Za(e,n,o,d){e=null;for(var m=n,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=m.type;on(m.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(m===ut.current){if(S=m.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}m=m.return}e!==null&&Ir(n,e,o,d),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qa(e){Vn=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return lg(Vn,e)}function du(e,n){return Vn===null&&Qa(e),lg(e,n)}function lg(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},oi===null){if(e===null)throw Error(a(308));oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else oi=oi.next=n;return o}var cw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,d){e.push(d)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},uw=r.unstable_scheduleCallback,dw=r.unstable_NormalPriority,At={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new cw,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&uw(dw,function(){e.controller.abort()})}var ul=null,Ch=0,Br=0,zr=null;function hw(e,n){if(ul===null){var o=ul=[];Ch=0,Br=Rf(),zr={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Ch++,n.then(cg,cg),n}function cg(){if(--Ch===0&&ul!==null){zr!==null&&(zr.status="fulfilled");var e=ul;ul=null,Br=0,zr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fw(e,n){var o=[],d={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){d.status="fulfilled",d.value=n;for(var m=0;m<o.length;m++)(0,o[m])(n)},function(m){for(d.status="rejected",d.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),d}var ug=W.S;W.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&hw(e,n),ug!==null&&ug(e,n)};var Fa=J(null);function Oh(){var e=Fa.current;return e!==null?e:at.pooledCache}function hu(e,n){n===null?ce(Fa,Fa.current):ce(Fa,n.pool)}function dg(){var e=Oh();return e===null?null:{parent:At._currentValue,pool:e}}var dl=Error(a(460)),hg=Error(a(474)),fu=Error(a(542)),kh={then:function(){}};function fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function mg(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(mu,mu),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gg(e),e;default:if(typeof n.status=="string")n.then(mu,mu);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(d){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=d}},function(d){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=d}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gg(e),e}throw hl=n,dl}}var hl=null;function pg(){if(hl===null)throw Error(a(459));var e=hl;return hl=null,e}function gg(e){if(e===dl||e===fu)throw Error(a(483))}var Vs=!1;function Rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(e,n,o){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var m=d.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),d.pending=n,n=Si(e),Ga(e,null,o),n}return Ua(e,d,n,o),Si(e)}function fl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Pc(e,o)}}function Mh(e,n){var o=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?m=g=n:g=g.next=n}else m=g=n;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,callbacks:d.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Ph=!1;function ml(){if(Ph){var e=zr;if(e!==null)throw e}}function pl(e,n,o,d){Ph=!1;var m=e.updateQueue;Vs=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var I=E,Q=I.next;I.next=null,S===null?g=Q:S.next=Q,S=I;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==S&&(E===null?ee.firstBaseUpdate=Q:E.next=Q,ee.lastBaseUpdate=I))}if(g!==null){var ne=m.baseState;S=0,ee=Q=I=null,E=g;do{var V=E.lane&-536870913,Y=V!==E.lane;if(Y?(Ze&V)===V:(d&V)===V){V!==0&&V===Br&&(Ph=!0),ee!==null&&(ee=ee.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=e,Te=E;V=n;var et=o;switch(Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){ne=Ce.call(et,ne,V);break e}ne=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,V=typeof Ce=="function"?Ce.call(et,ne,V):Ce,V==null)break e;ne=w({},ne,V);break e;case 2:Vs=!0}}V=E.callback,V!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[V]:Y.push(V))}else Y={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(Q=ee=Y,I=ne):ee=ee.next=Y,S|=V;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);ee===null&&(I=ne),m.baseState=I,m.firstBaseUpdate=Q,m.lastBaseUpdate=ee,g===null&&(m.shared.lanes=0),sa|=S,e.lanes=S,e.memoizedState=ne}}function yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function xg(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)yg(o[e],n)}var Ur=J(null),pu=J(0);function vg(e,n){e=us,ce(pu,e),ce(Ur,n),us=e|n.baseLanes}function Dh(){ce(pu,us),ce(Ur,Ur.current)}function Ih(){us=pu.current,se(Ur),se(pu)}var Ws=0,ze=null,Je=null,bt=null,gu=!1,Gr=!1,Va=!1,yu=0,gl=0,$r=null,mw=0;function xt(){throw Error(a(321))}function Bh(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!on(e[o],n[o]))return!1;return!0}function zh(e,n,o,d,m,g){return Ws=g,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=e===null||e.memoizedState===null?ny:iy,Va=!1,g=o(d,m),Va=!1,Gr&&(g=bg(n,o,d,m)),_g(e),g}function _g(e){W.H=Su;var n=Je!==null&&Je.next!==null;if(Ws=0,bt=Je=ze=null,gu=!1,gl=0,$r=null,n)throw Error(a(300));e===null||Dt||(e=e.dependencies,e!==null&&uu(e)&&(Dt=!0))}function bg(e,n,o,d){ze=e;var m=0;do{if(Gr&&($r=null),gl=0,Gr=!1,25<=m)throw Error(a(301));if(m+=1,bt=Je=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=bw,g=n(o,d)}while(Gr);return g}function pw(){var e=W.H,n=e.useState()[0];return n=typeof n.then=="function"?yl(n):n,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(ze.flags|=1024),n}function Uh(){var e=yu!==0;return yu=0,e}function Gh(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function $h(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}Ws=0,bt=Je=ze=null,Gr=!1,gl=yu=0,$r=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ze.memoizedState=bt=e:bt=bt.next=e,bt}function wt(){if(Je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var n=bt===null?ze.memoizedState:bt.next;if(n!==null)bt=n,Je=e;else{if(e===null)throw ze.alternate===null?Error(a(467)):Error(a(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},bt===null?ze.memoizedState=bt=e:bt=bt.next=e}return bt}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var n=gl;return gl+=1,$r===null&&($r=[]),e=mg($r,e,n),n=ze,(bt===null?n.memoizedState:bt.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?ny:iy),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===B)return tn(e)}throw Error(a(438,String(e)))}function Hh(e){var n=null,o=ze.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var d=ze.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(n={data:d.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=qh(),ze.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),d=0;d<e;d++)o[d]=Le;return n.index++,o}function ss(e,n){return typeof n=="function"?n(e):n}function vu(e){var n=wt();return Zh(n,Je,e)}function Zh(e,n,o){var d=e.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=o;var m=e.baseQueue,g=d.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}n.baseQueue=m=g,d.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{n=m.next;var E=S=null,I=null,Q=n,ee=!1;do{var ne=Q.lane&-536870913;if(ne!==Q.lane?(Ze&ne)===ne:(Ws&ne)===ne){var V=Q.revertLane;if(V===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ne===Br&&(ee=!0);else if((Ws&V)===V){Q=Q.next,V===Br&&(ee=!0);continue}else ne={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(E=I=ne,S=g):I=I.next=ne,ze.lanes|=V,sa|=V;ne=Q.action,Va&&o(g,ne),g=Q.hasEagerState?Q.eagerState:o(g,ne)}else V={lane:ne,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(E=I=V,S=g):I=I.next=V,ze.lanes|=ne,sa|=ne;Q=Q.next}while(Q!==null&&Q!==n);if(I===null?S=g:I.next=E,!on(g,e.memoizedState)&&(Dt=!0,ee&&(o=zr,o!==null)))throw o;e.memoizedState=g,e.baseState=S,e.baseQueue=I,d.lastRenderedState=g}return m===null&&(d.lanes=0),[e.memoizedState,d.dispatch]}function Qh(e){var n=wt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var d=o.dispatch,m=o.pending,g=n.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do g=e(g,S.action),S=S.next;while(S!==m);on(g,n.memoizedState)||(Dt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),o.lastRenderedState=g}return[g,d]}function wg(e,n,o){var d=ze,m=wt(),g=ke;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!on((Je||m).memoizedState,o);S&&(m.memoizedState=o,Dt=!0),m=m.queue;var E=Ng.bind(null,d,m,e);if(xl(2048,8,E,[e]),m.getSnapshot!==n||S||bt!==null&&bt.memoizedState.tag&1){if(d.flags|=2048,qr(9,_u(),jg.bind(null,d,m,o,n),null),at===null)throw Error(a(349));g||(Ws&124)!==0||Sg(d,n,o)}return o}function Sg(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ze.updateQueue,n===null?(n=qh(),ze.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function jg(e,n,o,d){n.value=o,n.getSnapshot=d,Tg(n)&&Eg(e)}function Ng(e,n,o){return o(function(){Tg(n)&&Eg(e)})}function Tg(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!on(e,o)}catch{return!0}}function Eg(e){var n=Hs(e,2);n!==null&&Ln(n,e,2)}function Fh(e){var n=yn();if(typeof e=="function"){var o=e;if(e=o(),Va){ti(!0);try{o()}finally{ti(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},n}function Ag(e,n,o,d){return e.baseState=o,Zh(e,Je,typeof d=="function"?d:ss)}function gw(e,n,o,d,m){if(wu(e))throw Error(a(485));if(e=n.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};W.T!==null?o(!0):g.isTransition=!1,d(g),o=n.pending,o===null?(g.next=n.pending=g,Cg(n,g)):(g.next=o.next,n.pending=o.next=g)}}function Cg(e,n){var o=n.action,d=n.payload,m=e.state;if(n.isTransition){var g=W.T,S={};W.T=S;try{var E=o(m,d),I=W.S;I!==null&&I(S,E),Og(e,n,E)}catch(Q){Vh(e,n,Q)}finally{W.T=g}}else try{g=o(m,d),Og(e,n,g)}catch(Q){Vh(e,n,Q)}}function Og(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){kg(e,n,d)},function(d){return Vh(e,n,d)}):kg(e,n,o)}function kg(e,n,o){n.status="fulfilled",n.value=o,Rg(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Cg(e,o)))}function Vh(e,n,o){var d=e.pending;if(e.pending=null,d!==null){d=d.next;do n.status="rejected",n.reason=o,Rg(n),n=n.next;while(n!==d)}e.action=null}function Rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lg(e,n){return n}function Mg(e,n){if(ke){var o=at.formState;if(o!==null){e:{var d=ze;if(ke){if(ve){t:{for(var m=ve,g=ht;m.nodeType!==8;){if(!g){m=null;break t}if(m=ui(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ve=ui(m.nextSibling),d=m.data==="F!";break e}}gn(d)}d=!1}d&&(n=o[0])}}return o=yn(),o.memoizedState=o.baseState=n,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:n},o.queue=d,o=Xg.bind(null,ze,d),d.dispatch=o,d=Fh(!1),g=Xh.bind(null,ze,!1,d.queue),d=yn(),m={state:n,dispatch:null,action:e,pending:null},d.queue=m,o=gw.bind(null,ze,m,g,o),m.dispatch=o,d.memoizedState=e,[n,o,!1]}function Pg(e){var n=wt();return Dg(n,Je,e)}function Dg(e,n,o){if(n=Zh(e,n,Lg)[0],e=vu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var d=yl(n)}catch(S){throw S===dl?fu:S}else d=n;n=wt();var m=n.queue,g=m.dispatch;return o!==n.memoizedState&&(ze.flags|=2048,qr(9,_u(),yw.bind(null,m,o),null)),[d,g,e]}function yw(e,n){e.action=n}function Ig(e){var n=wt(),o=Je;if(o!==null)return Dg(n,o,e);wt(),n=n.memoizedState,o=wt();var d=o.queue.dispatch;return o.memoizedState=e,[n,d,!1]}function qr(e,n,o,d){return e={tag:e,create:o,deps:d,inst:n,next:null},n=ze.updateQueue,n===null&&(n=qh(),ze.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(d=o.next,o.next=e,e.next=d,n.lastEffect=e),e}function _u(){return{destroy:void 0,resource:void 0}}function Bg(){return wt().memoizedState}function bu(e,n,o,d){var m=yn();d=d===void 0?null:d,ze.flags|=e,m.memoizedState=qr(1|n,_u(),o,d)}function xl(e,n,o,d){var m=wt();d=d===void 0?null:d;var g=m.memoizedState.inst;Je!==null&&d!==null&&Bh(d,Je.memoizedState.deps)?m.memoizedState=qr(n,g,o,d):(ze.flags|=e,m.memoizedState=qr(1|n,g,o,d))}function zg(e,n){bu(8390656,8,e,n)}function Ug(e,n){xl(2048,8,e,n)}function Gg(e,n){return xl(4,2,e,n)}function $g(e,n){return xl(4,4,e,n)}function qg(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hg(e,n,o){o=o!=null?o.concat([e]):null,xl(4,4,qg.bind(null,n,e),o)}function Yh(){}function Zg(e,n){var o=wt();n=n===void 0?null:n;var d=o.memoizedState;return n!==null&&Bh(n,d[1])?d[0]:(o.memoizedState=[e,n],e)}function Qg(e,n){var o=wt();n=n===void 0?null:n;var d=o.memoizedState;if(n!==null&&Bh(n,d[1]))return d[0];if(d=e(),Va){ti(!0);try{e()}finally{ti(!1)}}return o.memoizedState=[d,n],d}function Kh(e,n,o){return o===void 0||(Ws&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=Yy(),ze.lanes|=e,sa|=e,o)}function Fg(e,n,o,d){return on(o,n)?o:Ur.current!==null?(e=Kh(e,o,d),on(e,n)||(Dt=!0),e):(Ws&42)===0?(Dt=!0,e.memoizedState=o):(e=Yy(),ze.lanes|=e,sa|=e,n)}function Vg(e,n,o,d,m){var g=ue.p;ue.p=g!==0&&8>g?g:8;var S=W.T,E={};W.T=E,Xh(e,!1,n,o);try{var I=m(),Q=W.S;if(Q!==null&&Q(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=fw(I,d);vl(e,n,ee,Rn(e))}else vl(e,n,d,Rn(e))}catch(ne){vl(e,n,{then:function(){},status:"rejected",reason:ne},Rn())}finally{ue.p=g,W.T=S}}function xw(){}function Wh(e,n,o,d){if(e.tag!==5)throw Error(a(476));var m=Yg(e).queue;Vg(e,m,n,le,o===null?xw:function(){return Kg(e),o(d)})}function Yg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:le},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kg(e){var n=Yg(e).next.queue;vl(e,n,{},Rn())}function Jh(){return tn(Il)}function Wg(){return wt().memoizedState}function Jg(){return wt().memoizedState}function vw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Rn();e=Ys(o);var d=Ks(n,e,o);d!==null&&(Ln(d,n,o),fl(d,n,o)),n={cache:Ah()},e.payload=n;return}n=n.return}}function _w(e,n,o){var d=Rn();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wu(e)?ey(n,o):(o=ts(e,n,o,d),o!==null&&(Ln(o,e,d),ty(o,n,d)))}function Xg(e,n,o){var d=Rn();vl(e,n,o,d)}function vl(e,n,o,d){var m={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wu(e))ey(n,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var S=n.lastRenderedState,E=g(S,o);if(m.hasEagerState=!0,m.eagerState=E,on(E,S))return Ua(e,n,m,0),at===null&&za(),!1}catch{}finally{}if(o=ts(e,n,m,d),o!==null)return Ln(o,e,d),ty(o,n,d),!0}return!1}function Xh(e,n,o,d){if(d={lane:2,revertLane:Rf(),action:d,hasEagerState:!1,eagerState:null,next:null},wu(e)){if(n)throw Error(a(479))}else n=ts(e,o,d,2),n!==null&&Ln(n,e,2)}function wu(e){var n=e.alternate;return e===ze||n!==null&&n===ze}function ey(e,n){Gr=gu=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function ty(e,n,o){if((o&4194048)!==0){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Pc(e,o)}}var Su={readContext:tn,use:xu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},ny={readContext:tn,use:xu,useCallback:function(e,n){return yn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:zg,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,bu(4194308,4,qg.bind(null,n,e),o)},useLayoutEffect:function(e,n){return bu(4194308,4,e,n)},useInsertionEffect:function(e,n){bu(4,2,e,n)},useMemo:function(e,n){var o=yn();n=n===void 0?null:n;var d=e();if(Va){ti(!0);try{e()}finally{ti(!1)}}return o.memoizedState=[d,n],d},useReducer:function(e,n,o){var d=yn();if(o!==void 0){var m=o(n);if(Va){ti(!0);try{o(n)}finally{ti(!1)}}}else m=n;return d.memoizedState=d.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},d.queue=e,e=e.dispatch=_w.bind(null,ze,e),[d.memoizedState,e]},useRef:function(e){var n=yn();return e={current:e},n.memoizedState=e},useState:function(e){e=Fh(e);var n=e.queue,o=Xg.bind(null,ze,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Yh,useDeferredValue:function(e,n){var o=yn();return Kh(o,e,n)},useTransition:function(){var e=Fh(!1);return e=Vg.bind(null,ze,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var d=ze,m=yn();if(ke){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),at===null)throw Error(a(349));(Ze&124)!==0||Sg(d,n,o)}m.memoizedState=o;var g={value:o,getSnapshot:n};return m.queue=g,zg(Ng.bind(null,d,g,e),[e]),d.flags|=2048,qr(9,_u(),jg.bind(null,d,g,o,n),null),o},useId:function(){var e=yn(),n=at.identifierPrefix;if(ke){var o=D,d=N;o=(d&~(1<<32-an(d)-1)).toString(32)+o,n=""+n+"R"+o,o=yu++,0<o&&(n+="H"+o.toString(32)),n+=""}else o=mw++,n=""+n+"r"+o.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Jh,useFormState:Mg,useActionState:Mg,useOptimistic:function(e){var n=yn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Xh.bind(null,ze,!0,o),o.dispatch=n,[e,n]},useMemoCache:Hh,useCacheRefresh:function(){return yn().memoizedState=vw.bind(null,ze)}},iy={readContext:tn,use:xu,useCallback:Zg,useContext:tn,useEffect:Ug,useImperativeHandle:Hg,useInsertionEffect:Gg,useLayoutEffect:$g,useMemo:Qg,useReducer:vu,useRef:Bg,useState:function(){return vu(ss)},useDebugValue:Yh,useDeferredValue:function(e,n){var o=wt();return Fg(o,Je.memoizedState,e,n)},useTransition:function(){var e=vu(ss)[0],n=wt().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:wg,useId:Wg,useHostTransitionStatus:Jh,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var o=wt();return Ag(o,Je,e,n)},useMemoCache:Hh,useCacheRefresh:Jg},bw={readContext:tn,use:xu,useCallback:Zg,useContext:tn,useEffect:Ug,useImperativeHandle:Hg,useInsertionEffect:Gg,useLayoutEffect:$g,useMemo:Qg,useReducer:Qh,useRef:Bg,useState:function(){return Qh(ss)},useDebugValue:Yh,useDeferredValue:function(e,n){var o=wt();return Je===null?Kh(o,e,n):Fg(o,Je.memoizedState,e,n)},useTransition:function(){var e=Qh(ss)[0],n=wt().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:wg,useId:Wg,useHostTransitionStatus:Jh,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var o=wt();return Je!==null?Ag(o,Je,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:Jg},Hr=null,_l=0;function ju(e){var n=_l;return _l+=1,Hr===null&&(Hr=[]),mg(Hr,e,n)}function bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===j?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sy(e){var n=e._init;return n(e._payload)}function ay(e){function n(q,G){if(e){var Z=q.deletions;Z===null?(q.deletions=[G],q.flags|=16):Z.push(G)}}function o(q,G){if(!e)return null;for(;G!==null;)n(q,G),G=G.sibling;return null}function d(q){for(var G=new Map;q!==null;)q.key!==null?G.set(q.key,q):G.set(q.index,q),q=q.sibling;return G}function m(q,G){return q=Fn(q,G),q.index=0,q.sibling=null,q}function g(q,G,Z){return q.index=Z,e?(Z=q.alternate,Z!==null?(Z=Z.index,Z<G?(q.flags|=67108866,G):Z):(q.flags|=67108866,G)):(q.flags|=1048576,G)}function S(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function E(q,G,Z,te){return G===null||G.tag!==6?(G=ll(Z,q.mode,te),G.return=q,G):(G=m(G,Z),G.return=q,G)}function I(q,G,Z,te){var ye=Z.type;return ye===C?ee(q,G,Z.props.children,te,Z.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===re&&sy(ye)===G.type)?(G=m(G,Z.props),bl(G,Z),G.return=q,G):(G=$a(Z.type,Z.key,Z.props,null,q.mode,te),bl(G,Z),G.return=q,G)}function Q(q,G,Z,te){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Dr(Z,q.mode,te),G.return=q,G):(G=m(G,Z.children||[]),G.return=q,G)}function ee(q,G,Z,te,ye){return G===null||G.tag!==7?(G=ji(Z,q.mode,te,ye),G.return=q,G):(G=m(G,Z),G.return=q,G)}function ne(q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ll(""+G,q.mode,Z),G.return=q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return Z=$a(G.type,G.key,G.props,null,q.mode,Z),bl(Z,G),Z.return=q,Z;case A:return G=Dr(G,q.mode,Z),G.return=q,G;case re:var te=G._init;return G=te(G._payload),ne(q,G,Z)}if(ot(G)||Be(G))return G=ji(G,q.mode,Z,null),G.return=q,G;if(typeof G.then=="function")return ne(q,ju(G),Z);if(G.$$typeof===B)return ne(q,du(q,G),Z);Nu(q,G)}return null}function V(q,G,Z,te){var ye=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ye!==null?null:E(q,G,""+Z,te);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===ye?I(q,G,Z,te):null;case A:return Z.key===ye?Q(q,G,Z,te):null;case re:return ye=Z._init,Z=ye(Z._payload),V(q,G,Z,te)}if(ot(Z)||Be(Z))return ye!==null?null:ee(q,G,Z,te,null);if(typeof Z.then=="function")return V(q,G,ju(Z),te);if(Z.$$typeof===B)return V(q,G,du(q,Z),te);Nu(q,Z)}return null}function Y(q,G,Z,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(Z)||null,E(G,q,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return q=q.get(te.key===null?Z:te.key)||null,I(G,q,te,ye);case A:return q=q.get(te.key===null?Z:te.key)||null,Q(G,q,te,ye);case re:var Ge=te._init;return te=Ge(te._payload),Y(q,G,Z,te,ye)}if(ot(te)||Be(te))return q=q.get(Z)||null,ee(G,q,te,ye,null);if(typeof te.then=="function")return Y(q,G,Z,ju(te),ye);if(te.$$typeof===B)return Y(q,G,Z,du(G,te),ye);Nu(G,te)}return null}function Ce(q,G,Z,te){for(var ye=null,Ge=null,we=G,Ee=G=0,Bt=null;we!==null&&Ee<Z.length;Ee++){we.index>Ee?(Bt=we,we=null):Bt=we.sibling;var Ye=V(q,we,Z[Ee],te);if(Ye===null){we===null&&(we=Bt);break}e&&we&&Ye.alternate===null&&n(q,we),G=g(Ye,G,Ee),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye,we=Bt}if(Ee===Z.length)return o(q,we),ke&&H(q,Ee),ye;if(we===null){for(;Ee<Z.length;Ee++)we=ne(q,Z[Ee],te),we!==null&&(G=g(we,G,Ee),Ge===null?ye=we:Ge.sibling=we,Ge=we);return ke&&H(q,Ee),ye}for(we=d(we);Ee<Z.length;Ee++)Bt=Y(we,q,Ee,Z[Ee],te),Bt!==null&&(e&&Bt.alternate!==null&&we.delete(Bt.key===null?Ee:Bt.key),G=g(Bt,G,Ee),Ge===null?ye=Bt:Ge.sibling=Bt,Ge=Bt);return e&&we.forEach(function(fa){return n(q,fa)}),ke&&H(q,Ee),ye}function Te(q,G,Z,te){if(Z==null)throw Error(a(151));for(var ye=null,Ge=null,we=G,Ee=G=0,Bt=null,Ye=Z.next();we!==null&&!Ye.done;Ee++,Ye=Z.next()){we.index>Ee?(Bt=we,we=null):Bt=we.sibling;var fa=V(q,we,Ye.value,te);if(fa===null){we===null&&(we=Bt);break}e&&we&&fa.alternate===null&&n(q,we),G=g(fa,G,Ee),Ge===null?ye=fa:Ge.sibling=fa,Ge=fa,we=Bt}if(Ye.done)return o(q,we),ke&&H(q,Ee),ye;if(we===null){for(;!Ye.done;Ee++,Ye=Z.next())Ye=ne(q,Ye.value,te),Ye!==null&&(G=g(Ye,G,Ee),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye);return ke&&H(q,Ee),ye}for(we=d(we);!Ye.done;Ee++,Ye=Z.next())Ye=Y(we,q,Ee,Ye.value,te),Ye!==null&&(e&&Ye.alternate!==null&&we.delete(Ye.key===null?Ee:Ye.key),G=g(Ye,G,Ee),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye);return e&&we.forEach(function(wS){return n(q,wS)}),ke&&H(q,Ee),ye}function et(q,G,Z,te){if(typeof Z=="object"&&Z!==null&&Z.type===C&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var ye=Z.key;G!==null;){if(G.key===ye){if(ye=Z.type,ye===C){if(G.tag===7){o(q,G.sibling),te=m(G,Z.props.children),te.return=q,q=te;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===re&&sy(ye)===G.type){o(q,G.sibling),te=m(G,Z.props),bl(te,Z),te.return=q,q=te;break e}o(q,G);break}else n(q,G);G=G.sibling}Z.type===C?(te=ji(Z.props.children,q.mode,te,Z.key),te.return=q,q=te):(te=$a(Z.type,Z.key,Z.props,null,q.mode,te),bl(te,Z),te.return=q,q=te)}return S(q);case A:e:{for(ye=Z.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){o(q,G.sibling),te=m(G,Z.children||[]),te.return=q,q=te;break e}else{o(q,G);break}else n(q,G);G=G.sibling}te=Dr(Z,q.mode,te),te.return=q,q=te}return S(q);case re:return ye=Z._init,Z=ye(Z._payload),et(q,G,Z,te)}if(ot(Z))return Ce(q,G,Z,te);if(Be(Z)){if(ye=Be(Z),typeof ye!="function")throw Error(a(150));return Z=ye.call(Z),Te(q,G,Z,te)}if(typeof Z.then=="function")return et(q,G,ju(Z),te);if(Z.$$typeof===B)return et(q,G,du(q,Z),te);Nu(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(o(q,G.sibling),te=m(G,Z),te.return=q,q=te):(o(q,G),te=ll(Z,q.mode,te),te.return=q,q=te),S(q)):o(q,G)}return function(q,G,Z,te){try{_l=0;var ye=et(q,G,Z,te);return Hr=null,ye}catch(we){if(we===dl||we===fu)throw we;var Ge=dn(29,we,null,q.mode);return Ge.lanes=te,Ge.return=q,Ge}finally{}}}var Zr=ay(!0),ry=ay(!1),Yn=J(null),Ti=null;function Js(e){var n=e.alternate;ce(Ct,Ct.current&1),ce(Yn,e),Ti===null&&(n===null||Ur.current!==null||n.memoizedState!==null)&&(Ti=e)}function oy(e){if(e.tag===22){if(ce(Ct,Ct.current),ce(Yn,e),Ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ti=e)}}else Xs()}function Xs(){ce(Ct,Ct.current),ce(Yn,Yn.current)}function as(e){se(Yn),Ti===e&&(Ti=null),se(Ct)}var Ct=J(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Hf(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ef(e,n,o,d){n=e.memoizedState,o=o(d,n),o=o==null?n:w({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var tf={enqueueSetState:function(e,n,o){e=e._reactInternals;var d=Rn(),m=Ys(d);m.payload=n,o!=null&&(m.callback=o),n=Ks(e,m,d),n!==null&&(Ln(n,e,d),fl(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var d=Rn(),m=Ys(d);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Ks(e,m,d),n!==null&&(Ln(n,e,d),fl(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Rn(),d=Ys(o);d.tag=2,n!=null&&(d.callback=n),n=Ks(e,d,o),n!==null&&(Ln(n,e,o),fl(n,e,o))}};function ly(e,n,o,d,m,g,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,g,S):n.prototype&&n.prototype.isPureReactComponent?!ln(o,d)||!ln(m,g):!0}function cy(e,n,o,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,d),n.state!==e&&tf.enqueueReplaceState(n,n.state,null)}function Ya(e,n){var o=n;if("ref"in n){o={};for(var d in n)d!=="ref"&&(o[d]=n[d])}if(e=e.defaultProps){o===n&&(o=w({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function uy(e){Eu(e)}function dy(e){console.error(e)}function hy(e){Eu(e)}function Au(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(d){setTimeout(function(){throw d})}}function fy(e,n,o){try{var d=e.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function nf(e,n,o){return o=Ys(o),o.tag=3,o.payload={element:null},o.callback=function(){Au(e,n)},o}function my(e){return e=Ys(e),e.tag=3,e}function py(e,n,o,d){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=d.value;e.payload=function(){return m(g)},e.callback=function(){fy(n,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){fy(n,o,d),typeof m!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var E=d.stack;this.componentDidCatch(d.value,{componentStack:E!==null?E:""})})}function ww(e,n,o,d,m){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(n=o.alternate,n!==null&&Za(n,o,m,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Ti===null?Ef():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,d===kh?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([d]):n.add(d),Cf(e,d,m)),!1;case 22:return o.flags|=65536,d===kh?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([d]):o.add(d)),Cf(e,d,m)),!1}throw Error(a(435,o.tag))}return Cf(e,d,m),Ef(),!1}if(ke)return n=Yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,d!==Pt&&(e=Error(a(422),{cause:d}),Fs(cn(e,o)))):(d!==Pt&&(n=Error(a(423),{cause:d}),Fs(cn(n,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,d=cn(d,o),m=nf(e.stateNode,d,m),Mh(e,m),yt!==4&&(yt=2)),!1;var g=Error(a(520),{cause:d});if(g=cn(g,o),Al===null?Al=[g]:Al.push(g),yt!==4&&(yt=2),n===null)return!0;d=cn(d,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=nf(o.stateNode,d,e),Mh(o,e),!1;case 1:if(n=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=my(m),py(m,e,o,d),Mh(o,m),!1}o=o.return}while(o!==null);return!1}var gy=Error(a(461)),Dt=!1;function Ht(e,n,o,d){n.child=e===null?ry(n,null,o,d):Zr(n,e.child,o,d)}function yy(e,n,o,d,m){o=o.render;var g=n.ref;if("ref"in d){var S={};for(var E in d)E!=="ref"&&(S[E]=d[E])}else S=d;return Qa(n),d=zh(e,n,o,S,g,m),E=Uh(),e!==null&&!Dt?(Gh(e,n,m),rs(e,n,m)):(ke&&E&&ie(n),n.flags|=1,Ht(e,n,d,m),n.child)}function xy(e,n,o,d,m){if(e===null){var g=o.type;return typeof g=="function"&&!Pr(g)&&g.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=g,vy(e,n,g,d,m)):(e=$a(o.type,null,d,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!df(e,m)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:ln,o(S,d)&&e.ref===n.ref)return rs(e,n,m)}return n.flags|=1,e=Fn(g,d),e.ref=n.ref,e.return=n,n.child=e}function vy(e,n,o,d,m){if(e!==null){var g=e.memoizedProps;if(ln(g,d)&&e.ref===n.ref)if(Dt=!1,n.pendingProps=d=g,df(e,m))(e.flags&131072)!==0&&(Dt=!0);else return n.lanes=e.lanes,rs(e,n,m)}return sf(e,n,o,d,m)}function _y(e,n,o){var d=n.pendingProps,m=d.children,g=e!==null?e.memoizedState:null;if(d.mode==="hidden"){if((n.flags&128)!==0){if(d=g!==null?g.baseLanes|o:o,e!==null){for(m=n.child=e.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;n.childLanes=g&~d}else n.childLanes=0,n.child=null;return by(e,n,d,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(n,g!==null?g.cachePool:null),g!==null?vg(n,g):Dh(),oy(n);else return n.lanes=n.childLanes=536870912,by(e,n,g!==null?g.baseLanes|o:o,o)}else g!==null?(hu(n,g.cachePool),vg(n,g),Xs(),n.memoizedState=null):(e!==null&&hu(n,null),Dh(),Xs());return Ht(e,n,m,o),n.child}function by(e,n,o,d){var m=Oh();return m=m===null?null:{parent:At._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&hu(n,null),Dh(),oy(n),e!==null&&Za(e,n,d,!0),null}function Cu(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function sf(e,n,o,d,m){return Qa(n),o=zh(e,n,o,d,void 0,m),d=Uh(),e!==null&&!Dt?(Gh(e,n,m),rs(e,n,m)):(ke&&d&&ie(n),n.flags|=1,Ht(e,n,o,m),n.child)}function wy(e,n,o,d,m,g){return Qa(n),n.updateQueue=null,o=bg(n,d,o,m),_g(e),d=Uh(),e!==null&&!Dt?(Gh(e,n,g),rs(e,n,g)):(ke&&d&&ie(n),n.flags|=1,Ht(e,n,o,g),n.child)}function Sy(e,n,o,d,m){if(Qa(n),n.stateNode===null){var g=ns,S=o.contextType;typeof S=="object"&&S!==null&&(g=tn(S)),g=new o(d,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tf,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=d,g.state=n.memoizedState,g.refs={},Rh(n),S=o.contextType,g.context=typeof S=="object"&&S!==null?tn(S):ns,g.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(ef(n,o,S,d),g.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&tf.enqueueReplaceState(g,g.state,null),pl(n,d,g,m),ml(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),d=!0}else if(e===null){g=n.stateNode;var E=n.memoizedProps,I=Ya(o,E);g.props=I;var Q=g.context,ee=o.contextType;S=ns,typeof ee=="object"&&ee!==null&&(S=tn(ee));var ne=o.getDerivedStateFromProps;ee=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||Q!==S)&&cy(n,g,d,S),Vs=!1;var V=n.memoizedState;g.state=V,pl(n,d,g,m),ml(),Q=n.memoizedState,E||V!==Q||Vs?(typeof ne=="function"&&(ef(n,o,ne,d),Q=n.memoizedState),(I=Vs||ly(n,o,I,d,V,Q,S))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=Q),g.props=d,g.state=Q,g.context=S,d=I):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{g=n.stateNode,Lh(e,n),S=n.memoizedProps,ee=Ya(o,S),g.props=ee,ne=n.pendingProps,V=g.context,Q=o.contextType,I=ns,typeof Q=="object"&&Q!==null&&(I=tn(Q)),E=o.getDerivedStateFromProps,(Q=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ne||V!==I)&&cy(n,g,d,I),Vs=!1,V=n.memoizedState,g.state=V,pl(n,d,g,m),ml();var Y=n.memoizedState;S!==ne||V!==Y||Vs||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof E=="function"&&(ef(n,o,E,d),Y=n.memoizedState),(ee=Vs||ly(n,o,ee,d,V,Y,I)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(d,Y,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(d,Y,I)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=Y),g.props=d,g.state=Y,g.context=I,d=ee):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),d=!1)}return g=d,Cu(e,n),d=(n.flags&128)!==0,g||d?(g=n.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&d?(n.child=Zr(n,e.child,null,m),n.child=Zr(n,null,o,m)):Ht(e,n,o,m),n.memoizedState=g.state,e=n.child):e=rs(e,n,m),e}function jy(e,n,o,d){return Qs(),n.flags|=256,Ht(e,n,o,d),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(e){return{baseLanes:e,cachePool:dg()}}function of(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Kn),e}function Ny(e,n,o){var d=n.pendingProps,m=!1,g=(n.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),S&&(m=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(ke){if(m?Js(n):Xs(),ke){var E=ve,I;if(I=E){e:{for(I=E,E=ht;I.nodeType!==8;){if(!E){E=null;break e}if(I=ui(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(n.memoizedState={dehydrated:E,treeContext:b!==null?{id:N,overflow:D}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=E,I.return=n,n.child=I,ge=n,ve=null,I=!0):I=!1}I||gn(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Hf(E)?n.lanes=32:n.lanes=536870912,null;as(n)}return E=d.children,d=d.fallback,m?(Xs(),m=n.mode,E=Ou({mode:"hidden",children:E},m),d=ji(d,m,o,null),E.return=n,d.return=n,E.sibling=d,n.child=E,m=n.child,m.memoizedState=rf(o),m.childLanes=of(e,S,o),n.memoizedState=af,d):(Js(n),lf(n,E))}if(I=e.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(g)n.flags&256?(Js(n),n.flags&=-257,n=cf(e,n,o)):n.memoizedState!==null?(Xs(),n.child=e.child,n.flags|=128,n=null):(Xs(),m=d.fallback,E=n.mode,d=Ou({mode:"visible",children:d.children},E),m=ji(m,E,o,null),m.flags|=2,d.return=n,m.return=n,d.sibling=m,n.child=d,Zr(n,e.child,null,o),d=n.child,d.memoizedState=rf(o),d.childLanes=of(e,S,o),n.memoizedState=af,n=m);else if(Js(n),Hf(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var Q=S.dgst;S=Q,d=Error(a(419)),d.stack="",d.digest=S,Fs({value:d,source:null,stack:null}),n=cf(e,n,o)}else if(Dt||Za(e,n,o,!1),S=(o&e.childLanes)!==0,Dt||S){if(S=at,S!==null&&(d=o&-o,d=(d&42)!==0?1:$o(d),d=(d&(S.suspendedLanes|o))!==0?0:d,d!==0&&d!==I.retryLane))throw I.retryLane=d,Hs(e,d),Ln(S,e,d),gy;E.data==="$?"||Ef(),n=cf(e,n,o)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ve=ui(E.nextSibling),ge=n,ke=!0,st=null,ht=!1,e!==null&&(f[_++]=N,f[_++]=D,f[_++]=b,N=e.id,D=e.overflow,b=n),n=lf(n,d.children),n.flags|=4096);return n}return m?(Xs(),m=d.fallback,E=n.mode,I=e.child,Q=I.sibling,d=Fn(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,Q!==null?m=Fn(Q,m):(m=ji(m,E,o,null),m.flags|=2),m.return=n,d.return=n,d.sibling=m,n.child=d,d=m,m=n.child,E=e.child.memoizedState,E===null?E=rf(o):(I=E.cachePool,I!==null?(Q=At._currentValue,I=I.parent!==Q?{parent:Q,pool:Q}:I):I=dg(),E={baseLanes:E.baseLanes|o,cachePool:I}),m.memoizedState=E,m.childLanes=of(e,S,o),n.memoizedState=af,d):(Js(n),o=e.child,e=o.sibling,o=Fn(o,{mode:"visible",children:d.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function lf(e,n){return n=Ou({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ou(e,n){return e=dn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cf(e,n,o){return Zr(n,e.child,null,o),e=lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ty(e,n,o){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),Ha(e.return,n,o)}function uf(e,n,o,d,m){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=m)}function Ey(e,n,o){var d=n.pendingProps,m=d.revealOrder,g=d.tail;if(Ht(e,n,d.children,o),d=Ct.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,o,n);else if(e.tag===19)Ty(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}switch(ce(Ct,d),m){case"forwards":for(o=n.child,m=null;o!==null;)e=o.alternate,e!==null&&Tu(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),uf(n,!1,m,o,g);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Tu(e)===null){n.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}uf(n,!0,o,null,g);break;case"together":uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function rs(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),sa|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Za(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Fn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Fn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function Sw(e,n,o){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),Ni(n,At,e.memoizedState.cache),Qs();break;case 27:case 5:wa(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 13:var d=n.memoizedState;if(d!==null)return d.dehydrated!==null?(Js(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Ny(e,n,o):(Js(n),e=rs(e,n,o),e!==null?e.sibling:null);Js(n);break;case 19:var m=(e.flags&128)!==0;if(d=(o&n.childLanes)!==0,d||(Za(e,n,o,!1),d=(o&n.childLanes)!==0),m){if(d)return Ey(e,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Ct,Ct.current),d)break;return null;case 22:case 23:return n.lanes=0,_y(e,n,o);case 24:Ni(n,At,e.memoizedState.cache)}return rs(e,n,o)}function Ay(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Dt=!0;else{if(!df(e,o)&&(n.flags&128)===0)return Dt=!1,Sw(e,n,o);Dt=(e.flags&131072)!==0}else Dt=!1,ke&&(n.flags&1048576)!==0&&K(n,u,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var d=n.elementType,m=d._init;if(d=m(d._payload),n.type=d,typeof d=="function")Pr(d)?(e=Ya(d,e),n.tag=1,n=Sy(null,n,d,e,o)):(n.tag=0,n=sf(null,n,d,e,o));else{if(d!=null){if(m=d.$$typeof,m===P){n.tag=11,n=yy(null,n,d,e,o);break e}else if(m===ae){n.tag=14,n=xy(null,n,d,e,o);break e}}throw n=pt(d)||d,Error(a(306,n,""))}}return n;case 0:return sf(e,n,n.type,n.pendingProps,o);case 1:return d=n.type,m=Ya(d,n.pendingProps),Sy(e,n,d,m,o);case 3:e:{if(Fe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));d=n.pendingProps;var g=n.memoizedState;m=g.element,Lh(e,n),pl(n,d,null,o);var S=n.memoizedState;if(d=S.cache,Ni(n,At,d),d!==g.cache&&Ir(n,[At],o,!0),ml(),d=S.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=jy(e,n,d,o);break e}else if(d!==m){m=cn(Error(a(424)),n),Fs(m),n=jy(e,n,d,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=ui(e.firstChild),ge=n,ke=!0,st=null,ht=!0,o=ry(n,null,d,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Qs(),d===m){n=rs(e,n,o);break e}Ht(e,n,d,o)}n=n.child}return n;case 26:return Cu(e,n),e===null?(o=Rx(n.type,null,n.pendingProps,null))?n.memoizedState=o:ke||(o=n.type,e=n.pendingProps,d=Hu(de.current).createElement(o),d[Lt]=n,d[Jt]=e,Qt(d,o,e),_t(d),n.stateNode=d):n.memoizedState=Rx(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wa(n),e===null&&ke&&(d=n.stateNode=Cx(n.type,n.pendingProps,de.current),ge=n,ht=!0,m=ve,la(n.type)?(Zf=m,ve=ui(d.firstChild)):ve=m),Ht(e,n,n.pendingProps.children,o),Cu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ke&&((m=d=ve)&&(d=Ww(d,n.type,n.pendingProps,ht),d!==null?(n.stateNode=d,ge=n,ve=ui(d.firstChild),ht=!1,m=!0):m=!1),m||gn(n)),wa(n),m=n.type,g=n.pendingProps,S=e!==null?e.memoizedProps:null,d=g.children,Gf(m,g)?d=null:S!==null&&Gf(m,S)&&(n.flags|=32),n.memoizedState!==null&&(m=zh(e,n,pw,null,null,o),Il._currentValue=m),Cu(e,n),Ht(e,n,d,o),n.child;case 6:return e===null&&ke&&((e=o=ve)&&(o=Jw(o,n.pendingProps,ht),o!==null?(n.stateNode=o,ge=n,ve=null,e=!0):e=!1),e||gn(n)),null;case 13:return Ny(e,n,o);case 4:return Fe(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Zr(n,null,d,o):Ht(e,n,d,o),n.child;case 11:return yy(e,n,n.type,n.pendingProps,o);case 7:return Ht(e,n,n.pendingProps,o),n.child;case 8:return Ht(e,n,n.pendingProps.children,o),n.child;case 12:return Ht(e,n,n.pendingProps.children,o),n.child;case 10:return d=n.pendingProps,Ni(n,n.type,d.value),Ht(e,n,d.children,o),n.child;case 9:return m=n.type._context,d=n.pendingProps.children,Qa(n),m=tn(m),d=d(m),n.flags|=1,Ht(e,n,d,o),n.child;case 14:return xy(e,n,n.type,n.pendingProps,o);case 15:return vy(e,n,n.type,n.pendingProps,o);case 19:return Ey(e,n,o);case 31:return d=n.pendingProps,o=n.mode,d={mode:d.mode,children:d.children},e===null?(o=Ou(d,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Fn(e.child,d),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return _y(e,n,o);case 24:return Qa(n),d=tn(At),e===null?(m=Oh(),m===null&&(m=at,g=Ah(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),n.memoizedState={parent:d,cache:m},Rh(n),Ni(n,At,m)):((e.lanes&o)!==0&&(Lh(e,n),pl(n,null,null,o),ml()),m=e.memoizedState,g=n.memoizedState,m.parent!==d?(m={parent:d,cache:d},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Ni(n,At,d)):(d=g.cache,Ni(n,At,d),d!==m.cache&&Ir(n,[At],o,!0))),Ht(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(e){e.flags|=4}function Cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ix(n)){if(n=Yn.current,n!==null&&((Ze&4194048)===Ze?Ti!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||n!==Ti))throw hl=kh,hg;e.flags|=8192}}function ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Go():536870912,e.lanes|=n,Yr|=n)}function wl(e,n){if(!ke)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function ft(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,d=0;if(n)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=d,e.childLanes=o,n}function jw(e,n,o){var d=n.pendingProps;switch(he(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return o=n.stateNode,d=null,e!==null&&(d=e.memoizedState.cache),n.memoizedState.cache!==d&&(n.flags|=2048),li(At),ei(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(qa(n)?os(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cu())),ft(n),null;case 26:return o=n.memoizedState,e===null?(os(n),o!==null?(ft(n),Cy(n,o)):(ft(n),n.flags&=-16777217)):o?o!==e.memoizedState?(os(n),ft(n),Cy(n,o)):(ft(n),n.flags&=-16777217):(e.memoizedProps!==d&&os(n),ft(n),n.flags&=-16777217),null;case 27:_s(n),o=de.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==d&&os(n);else{if(!d){if(n.stateNode===null)throw Error(a(166));return ft(n),null}e=fe.current,qa(n)?ou(n):(e=Cx(m,d,o),n.stateNode=e,os(n))}return ft(n),null;case 5:if(_s(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==d&&os(n);else{if(!d){if(n.stateNode===null)throw Error(a(166));return ft(n),null}if(e=fe.current,qa(n))ou(n);else{switch(m=Hu(de.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?e.multiple=!0:d.size&&(e.size=d.size);break;default:e=typeof d.is=="string"?m.createElement(o,{is:d.is}):m.createElement(o)}}e[Lt]=n,e[Jt]=d;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;e:switch(Qt(e,o,d),o){case"button":case"input":case"select":case"textarea":e=!!d.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&os(n)}}return ft(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==d&&os(n);else{if(typeof d!="string"&&n.stateNode===null)throw Error(a(166));if(e=de.current,qa(n)){if(e=n.stateNode,o=n.memoizedProps,d=null,m=ge,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}e[Lt]=n,e=!!(e.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||wx(e.nodeValue,o)),e||gn(n)}else e=Hu(e).createTextNode(d),e[Lt]=n,n.stateNode=e}return ft(n),null;case 13:if(d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=qa(n),d!==null&&d.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Lt]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),m=!1}else m=cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(as(n),n):(as(n),null)}if(as(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=d!==null,e=e!==null&&e.memoizedState!==null,o){d=n.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var g=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==m&&(d.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),ku(n,n.updateQueue),ft(n),null;case 4:return ei(),e===null&&Df(n.stateNode.containerInfo),ft(n),null;case 10:return li(n.type),ft(n),null;case 19:if(se(Ct),m=n.memoizedState,m===null)return ft(n),null;if(d=(n.flags&128)!==0,g=m.rendering,g===null)if(d)wl(m,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Tu(e),g!==null){for(n.flags|=128,wl(m,!1),e=g.updateQueue,n.updateQueue=e,ku(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)ol(o,e),o=o.sibling;return ce(Ct,Ct.current&1|2),n.child}e=e.sibling}m.tail!==null&&fn()>Mu&&(n.flags|=128,d=!0,wl(m,!1),n.lanes=4194304)}else{if(!d)if(e=Tu(g),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ku(n,e),wl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!ke)return ft(n),null}else 2*fn()-m.renderingStartTime>Mu&&o!==536870912&&(n.flags|=128,d=!0,wl(m,!1),n.lanes=4194304);m.isBackwards?(g.sibling=n.child,n.child=g):(e=m.last,e!==null?e.sibling=g:n.child=g,m.last=g)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=fn(),n.sibling=null,e=Ct.current,ce(Ct,d?e&1|2:e&1),n):(ft(n),null);case 22:case 23:return as(n),Ih(),d=n.memoizedState!==null,e!==null?e.memoizedState!==null!==d&&(n.flags|=8192):d&&(n.flags|=8192),d?(o&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),o=n.updateQueue,o!==null&&ku(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),d=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048),e!==null&&se(Fa),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),li(At),ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Nw(e,n){switch(he(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return li(At),ei(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return _s(n),null;case 13:if(as(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return se(Ct),null;case 4:return ei(),null;case 10:return li(n.type),null;case 22:case 23:return as(n),Ih(),e!==null&&se(Fa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return li(At),null;case 25:return null;default:return null}}function Oy(e,n){switch(he(n),n.tag){case 3:li(At),ei();break;case 26:case 27:case 5:_s(n);break;case 4:ei();break;case 13:as(n);break;case 19:se(Ct);break;case 10:li(n.type);break;case 22:case 23:as(n),Ih(),e!==null&&se(Fa);break;case 24:li(At)}}function Sl(e,n){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&e)===e){d=void 0;var g=o.create,S=o.inst;d=g(),S.destroy=d}o=o.next}while(o!==m)}}catch(E){tt(n,n.return,E)}}function ea(e,n,o){try{var d=n.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var g=m.next;d=g;do{if((d.tag&e)===e){var S=d.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,m=n;var I=o,Q=E;try{Q()}catch(ee){tt(m,I,ee)}}}d=d.next}while(d!==g)}}catch(ee){tt(n,n.return,ee)}}function ky(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{xg(n,o)}catch(d){tt(e,e.return,d)}}}function Ry(e,n,o){o.props=Ya(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(d){tt(e,n,d)}}function jl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var d=e.stateNode;break;case 30:d=e.stateNode;break;default:d=e.stateNode}typeof o=="function"?e.refCleanup=o(d):o.current=d}}catch(m){tt(e,n,m)}}function Ei(e,n){var o=e.ref,d=e.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(m){tt(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){tt(e,n,m)}else o.current=null}function Ly(e){var n=e.type,o=e.memoizedProps,d=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(m){tt(e,e.return,m)}}function hf(e,n,o){try{var d=e.stateNode;Qw(d,e.type,o,n),d[Jt]=n}catch(m){tt(e,e.return,m)}}function My(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||My(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=qu));else if(d!==4&&(d===27&&la(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(mf(e,n,o),e=e.sibling;e!==null;)mf(e,n,o),e=e.sibling}function Ru(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(d!==4&&(d===27&&la(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ru(e,n,o),e=e.sibling;e!==null;)Ru(e,n,o),e=e.sibling}function Py(e){var n=e.stateNode,o=e.memoizedProps;try{for(var d=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Qt(n,d,o),n[Lt]=e,n[Jt]=o}catch(g){tt(e,e.return,g)}}var ls=!1,vt=!1,pf=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,It=null;function Tw(e,n){if(e=e.containerInfo,zf=Ku,e=Da(e),Ia(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,E=-1,I=-1,Q=0,ee=0,ne=e,V=null;t:for(;;){for(var Y;ne!==o||m!==0&&ne.nodeType!==3||(E=S+m),ne!==g||d!==0&&ne.nodeType!==3||(I=S+d),ne.nodeType===3&&(S+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)V=ne,ne=Y;for(;;){if(ne===e)break t;if(V===o&&++Q===m&&(E=S),V===g&&++ee===d&&(I=S),(Y=ne.nextSibling)!==null)break;ne=V,V=ne.parentNode}ne=Y}o=E===-1||I===-1?null:{start:E,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Uf={focusedElem:e,selectionRange:o},Ku=!1,It=n;It!==null;)if(n=It,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,It=e;else for(;It!==null;){switch(n=It,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=n,m=g.memoizedProps,g=g.memoizedState,d=o.stateNode;try{var Ce=Ya(o.type,m,o.elementType===o.type);e=d.getSnapshotBeforeUpdate(Ce,g),d.__reactInternalSnapshotBeforeUpdate=e}catch(Te){tt(o,o.return,Te)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)qf(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,It=e;break}It=n.return}}function Iy(e,n,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:ta(e,o),d&4&&Sl(5,o);break;case 1:if(ta(e,o),d&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){tt(o,o.return,S)}else{var m=Ya(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){tt(o,o.return,S)}}d&64&&ky(o),d&512&&jl(o,o.return);break;case 3:if(ta(e,o),d&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{xg(e,n)}catch(S){tt(o,o.return,S)}}break;case 27:n===null&&d&4&&Py(o);case 26:case 5:ta(e,o),n===null&&d&4&&Ly(o),d&512&&jl(o,o.return);break;case 12:ta(e,o);break;case 13:ta(e,o),d&4&&Uy(e,o),d&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Pw.bind(null,o),Xw(e,o))));break;case 22:if(d=o.memoizedState!==null||ls,!d){n=n!==null&&n.memoizedState!==null||vt,m=ls;var g=vt;ls=d,(vt=n)&&!g?na(e,o,(o.subtreeFlags&8772)!==0):ta(e,o),ls=m,vt=g}break;case 30:break;default:ta(e,o)}}function By(e){var n=e.alternate;n!==null&&(e.alternate=null,By(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,xn=!1;function cs(e,n,o){for(o=o.child;o!==null;)zy(e,n,o),o=o.sibling}function zy(e,n,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Ii,o)}catch{}switch(o.tag){case 26:vt||Ei(o,n),cs(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||Ei(o,n);var d=ct,m=xn;la(o.type)&&(ct=o.stateNode,xn=!1),cs(e,n,o),Ll(o.stateNode),ct=d,xn=m;break;case 5:vt||Ei(o,n);case 6:if(d=ct,m=xn,ct=null,cs(e,n,o),ct=d,xn=m,ct!==null)if(xn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(g){tt(o,n,g)}else try{ct.removeChild(o.stateNode)}catch(g){tt(o,n,g)}break;case 18:ct!==null&&(xn?(e=ct,Ex(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Gl(e)):Ex(ct,o.stateNode));break;case 4:d=ct,m=xn,ct=o.stateNode.containerInfo,xn=!0,cs(e,n,o),ct=d,xn=m;break;case 0:case 11:case 14:case 15:vt||ea(2,o,n),vt||ea(4,o,n),cs(e,n,o);break;case 1:vt||(Ei(o,n),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Ry(o,n,d)),cs(e,n,o);break;case 21:cs(e,n,o);break;case 22:vt=(d=vt)||o.memoizedState!==null,cs(e,n,o),vt=d;break;default:cs(e,n,o)}}function Uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(o){tt(n,n.return,o)}}function Ew(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dy),n;default:throw Error(a(435,e.tag))}}function gf(e,n){var o=Ew(e);n.forEach(function(d){var m=Dw.bind(null,e,d);o.has(d)||(o.add(d),d.then(m,m))})}function Cn(e,n){var o=n.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d],g=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(la(E.type)){ct=E.stateNode,xn=!1;break e}break;case 5:ct=E.stateNode,xn=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,xn=!0;break e}E=E.return}if(ct===null)throw Error(a(160));zy(g,S,m),ct=null,xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Gy(n,e),n=n.sibling}var ci=null;function Gy(e,n){var o=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(n,e),On(e),d&4&&(ea(3,e,e.return),Sl(3,e),ea(5,e,e.return));break;case 1:Cn(n,e),On(e),d&512&&(vt||o===null||Ei(o,o.return)),d&64&&ls&&(e=e.updateQueue,e!==null&&(d=e.callbacks,d!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var m=ci;if(Cn(n,e),On(e),d&512&&(vt||o===null||Ei(o,o.return)),d&4){var g=o!==null?o.memoizedState:null;if(d=e.memoizedState,o===null)if(d===null)if(e.stateNode===null){e:{d=e.type,o=e.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ns]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(d),m.head.insertBefore(g,m.querySelector("head > title"))),Qt(g,d,o),g[Lt]=e,_t(g),d=g;break e;case"link":var S=Px("link","href",m).get(d+(o.href||""));if(S){for(var E=0;E<S.length;E++)if(g=S[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(E,1);break t}}g=m.createElement(d),Qt(g,d,o),m.head.appendChild(g);break;case"meta":if(S=Px("meta","content",m).get(d+(o.content||""))){for(E=0;E<S.length;E++)if(g=S[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(E,1);break t}}g=m.createElement(d),Qt(g,d,o),m.head.appendChild(g);break;default:throw Error(a(468,d))}g[Lt]=e,_t(g),d=g}e.stateNode=d}else Dx(m,e.type,e.stateNode);else e.stateNode=Mx(m,d,e.memoizedProps);else g!==d?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,d===null?Dx(m,e.type,e.stateNode):Mx(m,d,e.memoizedProps)):d===null&&e.stateNode!==null&&hf(e,e.memoizedProps,o.memoizedProps)}break;case 27:Cn(n,e),On(e),d&512&&(vt||o===null||Ei(o,o.return)),o!==null&&d&4&&hf(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Cn(n,e),On(e),d&512&&(vt||o===null||Ei(o,o.return)),e.flags&32){m=e.stateNode;try{$n(m,"")}catch(Y){tt(e,e.return,Y)}}d&4&&e.stateNode!=null&&(m=e.memoizedProps,hf(e,m,o!==null?o.memoizedProps:m)),d&1024&&(pf=!0);break;case 6:if(Cn(n,e),On(e),d&4){if(e.stateNode===null)throw Error(a(162));d=e.memoizedProps,o=e.stateNode;try{o.nodeValue=d}catch(Y){tt(e,e.return,Y)}}break;case 3:if(Fu=null,m=ci,ci=Zu(n.containerInfo),Cn(n,e),ci=m,On(e),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(Y){tt(e,e.return,Y)}pf&&(pf=!1,$y(e));break;case 4:d=ci,ci=Zu(e.stateNode.containerInfo),Cn(n,e),On(e),ci=d;break;case 12:Cn(n,e),On(e);break;case 13:Cn(n,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wf=fn()),d&4&&(d=e.updateQueue,d!==null&&(e.updateQueue=null,gf(e,d)));break;case 22:m=e.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,Q=ls,ee=vt;if(ls=Q||m,vt=ee||I,Cn(n,e),vt=ee,ls=Q,On(e),d&8192)e:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(o===null||I||ls||vt||Ka(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){I=o=n;try{if(g=I.stateNode,m)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=I.stateNode;var ne=I.memoizedProps.style,V=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(Y){tt(I,I.return,Y)}}}else if(n.tag===6){if(o===null){I=n;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(Y){tt(I,I.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}d&4&&(d=e.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,gf(e,o))));break;case 19:Cn(n,e),On(e),d&4&&(d=e.updateQueue,d!==null&&(e.updateQueue=null,gf(e,d)));break;case 30:break;case 21:break;default:Cn(n,e),On(e)}}function On(e){var n=e.flags;if(n&2){try{for(var o,d=e.return;d!==null;){if(My(d)){o=d;break}d=d.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=ff(e);Ru(e,g,m);break;case 5:var S=o.stateNode;o.flags&32&&($n(S,""),o.flags&=-33);var E=ff(e);Ru(e,E,S);break;case 3:case 4:var I=o.stateNode.containerInfo,Q=ff(e);mf(e,Q,I);break;default:throw Error(a(161))}}catch(ee){tt(e,e.return,ee)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ta(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(e,n.alternate,n),n=n.sibling}function Ka(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ea(4,n,n.return),Ka(n);break;case 1:Ei(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Ry(n,n.return,o),Ka(n);break;case 27:Ll(n.stateNode);case 26:case 5:Ei(n,n.return),Ka(n);break;case 22:n.memoizedState===null&&Ka(n);break;case 30:Ka(n);break;default:Ka(n)}e=e.sibling}}function na(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var d=n.alternate,m=e,g=n,S=g.flags;switch(g.tag){case 0:case 11:case 15:na(m,g,o),Sl(4,g);break;case 1:if(na(m,g,o),d=g,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){tt(d,d.return,Q)}if(d=g,m=d.updateQueue,m!==null){var E=d.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)yg(I[m],E)}catch(Q){tt(d,d.return,Q)}}o&&S&64&&ky(g),jl(g,g.return);break;case 27:Py(g);case 26:case 5:na(m,g,o),o&&d===null&&S&4&&Ly(g),jl(g,g.return);break;case 12:na(m,g,o);break;case 13:na(m,g,o),o&&S&4&&Uy(m,g);break;case 22:g.memoizedState===null&&na(m,g,o),jl(g,g.return);break;case 30:break;default:na(m,g,o)}n=n.sibling}}function yf(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&cl(o))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e))}function Ai(e,n,o,d){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qy(e,n,o,d),n=n.sibling}function qy(e,n,o,d){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Ai(e,n,o,d),m&2048&&Sl(9,n);break;case 1:Ai(e,n,o,d);break;case 3:Ai(e,n,o,d),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e)));break;case 12:if(m&2048){Ai(e,n,o,d),e=n.stateNode;try{var g=n.memoizedProps,S=g.id,E=g.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){tt(n,n.return,I)}}else Ai(e,n,o,d);break;case 13:Ai(e,n,o,d);break;case 23:break;case 22:g=n.stateNode,S=n.alternate,n.memoizedState!==null?g._visibility&2?Ai(e,n,o,d):Nl(e,n):g._visibility&2?Ai(e,n,o,d):(g._visibility|=2,Qr(e,n,o,d,(n.subtreeFlags&10256)!==0)),m&2048&&yf(S,n);break;case 24:Ai(e,n,o,d),m&2048&&xf(n.alternate,n);break;default:Ai(e,n,o,d)}}function Qr(e,n,o,d,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,S=n,E=o,I=d,Q=S.flags;switch(S.tag){case 0:case 11:case 15:Qr(g,S,E,I,m),Sl(8,S);break;case 23:break;case 22:var ee=S.stateNode;S.memoizedState!==null?ee._visibility&2?Qr(g,S,E,I,m):Nl(g,S):(ee._visibility|=2,Qr(g,S,E,I,m)),m&&Q&2048&&yf(S.alternate,S);break;case 24:Qr(g,S,E,I,m),m&&Q&2048&&xf(S.alternate,S);break;default:Qr(g,S,E,I,m)}n=n.sibling}}function Nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,d=n,m=d.flags;switch(d.tag){case 22:Nl(o,d),m&2048&&yf(d.alternate,d);break;case 24:Nl(o,d),m&2048&&xf(d.alternate,d);break;default:Nl(o,d)}n=n.sibling}}var Tl=8192;function Fr(e){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 26:Fr(e),e.flags&Tl&&e.memoizedState!==null&&hS(ci,e.memoizedState,e.memoizedProps);break;case 5:Fr(e);break;case 3:case 4:var n=ci;ci=Zu(e.stateNode.containerInfo),Fr(e),ci=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,Fr(e),Tl=n):Fr(e));break;default:Fr(e)}}function Zy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function El(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];It=d,Fy(d,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&ea(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Lu(e)):El(e);break;default:El(e)}}function Lu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];It=d,Fy(d,e)}Zy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ea(8,n,n.return),Lu(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Lu(n));break;default:Lu(n)}e=e.sibling}}function Fy(e,n){for(;It!==null;){var o=It;switch(o.tag){case 0:case 11:case 15:ea(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:cl(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,It=d;else e:for(o=e;It!==null;){d=It;var m=d.sibling,g=d.return;if(By(d),d===o){It=null;break e}if(m!==null){m.return=g,It=m;break e}It=g}}}var Aw={getCacheForType:function(e){var n=tn(At),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},Cw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,at=null,$e=null,Ze=0,We=0,kn=null,ia=!1,Vr=!1,vf=!1,us=0,yt=0,sa=0,Wa=0,_f=0,Kn=0,Yr=0,Al=null,vn=null,bf=!1,wf=0,Mu=1/0,Pu=null,aa=null,Zt=0,ra=null,Kr=null,Wr=0,Sf=0,jf=null,Vy=null,Cl=0,Nf=null;function Rn(){if((Ke&2)!==0&&Ze!==0)return Ze&-Ze;if(W.T!==null){var e=Br;return e!==0?e:Rf()}return Dc()}function Yy(){Kn===0&&(Kn=(Ze&536870912)===0||ke?Lc():536870912);var e=Yn.current;return e!==null&&(e.flags|=32),Kn}function Ln(e,n,o){(e===at&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(Jr(e,0),oa(e,Ze,Kn,!1)),Ss(e,o),((Ke&2)===0||e!==at)&&(e===at&&((Ke&2)===0&&(Wa|=o),yt===4&&oa(e,Ze,Kn,!1)),Ci(e))}function Ky(e,n,o){if((Ke&6)!==0)throw Error(a(327));var d=!o&&(n&124)===0&&(n&e.expiredLanes)===0||ni(e,n),m=d?Rw(e,n):Af(e,n,!0),g=d;do{if(m===0){Vr&&!d&&oa(e,n,0,!1);break}else{if(o=e.current.alternate,g&&!Ow(o)){m=Af(e,n,!1),g=!1;continue}if(m===2){if(g=n,e.errorRecoveryDisabledLanes&g)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;m=Al;var I=E.current.memoizedState.isDehydrated;if(I&&(Jr(E,S).flags|=256),S=Af(E,S,!1),S!==2){if(vf&&!I){E.errorRecoveryDisabledLanes|=g,Wa|=g,m=4;break e}g=vn,vn=m,g!==null&&(vn===null?vn=g:vn.push.apply(vn,g))}m=S}if(g=!1,m!==2)continue}}if(m===1){Jr(e,0),oa(e,n,0,!0);break}e:{switch(d=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:oa(d,n,Kn,!ia);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(m=wf+300-fn(),10<m)){if(oa(d,n,Kn,!ia),gr(d,0,!0)!==0)break e;d.timeoutHandle=Nx(Wy.bind(null,d,o,vn,Pu,bf,n,Kn,Wa,Yr,ia,g,2,-0,0),m);break e}Wy(d,o,vn,Pu,bf,n,Kn,Wa,Yr,ia,g,0,-0,0)}}break}while(!0);Ci(e)}function Wy(e,n,o,d,m,g,S,E,I,Q,ee,ne,V,Y){if(e.timeoutHandle=-1,ne=n.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:dS},Hy(n),ne=fS(),ne!==null)){e.cancelPendingCommit=ne(sx.bind(null,e,n,g,o,d,m,S,E,I,ee,1,V,Y)),oa(e,g,S,!Q);return}sx(e,n,g,o,d,m,S,E,I)}function Ow(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var m=o[d],g=m.getSnapshot;m=m.value;try{if(!on(g(),m))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oa(e,n,o,d){n&=~_f,n&=~Wa,e.suspendedLanes|=n,e.pingedLanes&=~n,d&&(e.warmLanes|=n),d=e.expirationTimes;for(var m=n;0<m;){var g=31-an(m),S=1<<g;d[g]=-1,m&=~S}o!==0&&Mc(e,o,n)}function Du(){return(Ke&6)===0?(Ol(0),!1):!0}function Tf(){if($e!==null){if(We===0)var e=$e.return;else e=$e,oi=Vn=null,$h(e),Hr=null,_l=0,e=$e;for(;e!==null;)Oy(e.alternate,e),e=e.return;$e=null}}function Jr(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Vw(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Tf(),at=e,$e=o=Fn(e.current,null),Ze=n,We=0,kn=null,ia=!1,Vr=ni(e,n),vf=!1,Yr=Kn=_f=Wa=sa=yt=0,vn=Al=null,bf=!1,(n&8)!==0&&(n|=n&32);var d=e.entangledLanes;if(d!==0)for(e=e.entanglements,d&=n;0<d;){var m=31-an(d),g=1<<m;n|=e[m],d&=~g}return us=n,za(),o}function Jy(e,n){ze=null,W.H=Su,n===dl||n===fu?(n=pg(),We=3):n===hg?(n=pg(),We=4):We=n===gy?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,$e===null&&(yt=1,Au(e,cn(n,e.current)))}function Xy(){var e=W.H;return W.H=Su,e===null?Su:e}function ex(){var e=W.A;return W.A=Aw,e}function Ef(){yt=4,ia||(Ze&4194048)!==Ze&&Yn.current!==null||(Vr=!0),(sa&134217727)===0&&(Wa&134217727)===0||at===null||oa(at,Ze,Kn,!1)}function Af(e,n,o){var d=Ke;Ke|=2;var m=Xy(),g=ex();(at!==e||Ze!==n)&&(Pu=null,Jr(e,n)),n=!1;var S=yt;e:do try{if(We!==0&&$e!==null){var E=$e,I=kn;switch(We){case 8:Tf(),S=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(n=!0);var Q=We;if(We=0,kn=null,Xr(e,E,I,Q),o&&Vr){S=0;break e}break;default:Q=We,We=0,kn=null,Xr(e,E,I,Q)}}kw(),S=yt;break}catch(ee){Jy(e,ee)}while(!0);return n&&e.shellSuspendCounter++,oi=Vn=null,Ke=d,W.H=m,W.A=g,$e===null&&(at=null,Ze=0,za()),S}function kw(){for(;$e!==null;)tx($e)}function Rw(e,n){var o=Ke;Ke|=2;var d=Xy(),m=ex();at!==e||Ze!==n?(Pu=null,Mu=fn()+500,Jr(e,n)):Vr=ni(e,n);e:do try{if(We!==0&&$e!==null){n=$e;var g=kn;t:switch(We){case 1:We=0,kn=null,Xr(e,n,g,1);break;case 2:case 9:if(fg(g)){We=0,kn=null,nx(n);break}n=function(){We!==2&&We!==9||at!==e||(We=7),Ci(e)},g.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:fg(g)?(We=0,kn=null,nx(n)):(We=0,kn=null,Xr(e,n,g,7));break;case 5:var S=null;switch($e.tag){case 26:S=$e.memoizedState;case 5:case 27:var E=$e;if(!S||Ix(S)){We=0,kn=null;var I=E.sibling;if(I!==null)$e=I;else{var Q=E.return;Q!==null?($e=Q,Iu(Q)):$e=null}break t}}We=0,kn=null,Xr(e,n,g,5);break;case 6:We=0,kn=null,Xr(e,n,g,6);break;case 8:Tf(),yt=6;break e;default:throw Error(a(462))}}Lw();break}catch(ee){Jy(e,ee)}while(!0);return oi=Vn=null,W.H=d,W.A=m,Ke=o,$e!==null?0:(at=null,Ze=0,za(),yt)}function Lw(){for(;$e!==null&&!Ec();)tx($e)}function tx(e){var n=Ay(e.alternate,e,us);e.memoizedProps=e.pendingProps,n===null?Iu(e):$e=n}function nx(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=wy(o,n,n.pendingProps,n.type,void 0,Ze);break;case 11:n=wy(o,n,n.pendingProps,n.type.render,n.ref,Ze);break;case 5:$h(n);default:Oy(o,n),n=$e=ol(n,us),n=Ay(o,n,us)}e.memoizedProps=e.pendingProps,n===null?Iu(e):$e=n}function Xr(e,n,o,d){oi=Vn=null,$h(n),Hr=null,_l=0;var m=n.return;try{if(ww(e,m,n,o,Ze)){yt=1,Au(e,cn(o,e.current)),$e=null;return}}catch(g){if(m!==null)throw $e=m,g;yt=1,Au(e,cn(o,e.current)),$e=null;return}n.flags&32768?(ke||d===1?e=!0:Vr||(Ze&536870912)!==0?e=!1:(ia=e=!0,(d===2||d===9||d===3||d===6)&&(d=Yn.current,d!==null&&d.tag===13&&(d.flags|=16384))),ix(n,e)):Iu(n)}function Iu(e){var n=e;do{if((n.flags&32768)!==0){ix(n,ia);return}e=n.return;var o=jw(n.alternate,n,us);if(o!==null){$e=o;return}if(n=n.sibling,n!==null){$e=n;return}$e=n=e}while(n!==null);yt===0&&(yt=5)}function ix(e,n){do{var o=Nw(e.alternate,e);if(o!==null){o.flags&=32767,$e=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){$e=e;return}$e=e=o}while(e!==null);yt=6,$e=null}function sx(e,n,o,d,m,g,S,E,I){e.cancelPendingCommit=null;do Bu();while(Zt!==0);if((Ke&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(g=n.lanes|n.childLanes,g|=An,ch(e,o,g,S,E,I),e===at&&($e=at=null,Ze=0),Kr=n,ra=e,Wr=o,Sf=g,jf=m,Vy=d,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iw(bs,function(){return cx(),null})):(e.callbackNode=null,e.callbackPriority=0),d=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,m=ue.p,ue.p=2,S=Ke,Ke|=4;try{Tw(e,n,o)}finally{Ke=S,ue.p=m,W.T=d}}Zt=1,ax(),rx(),ox()}}function ax(){if(Zt===1){Zt=0;var e=ra,n=Kr,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var d=ue.p;ue.p=2;var m=Ke;Ke|=4;try{Gy(n,e);var g=Uf,S=Da(e.containerInfo),E=g.focusedElem,I=g.selectionRange;if(S!==E&&E&&E.ownerDocument&&Or(E.ownerDocument.documentElement,E)){if(I!==null&&Ia(E)){var Q=I.start,ee=I.end;if(ee===void 0&&(ee=Q),"selectionStart"in E)E.selectionStart=Q,E.selectionEnd=Math.min(ee,E.value.length);else{var ne=E.ownerDocument||document,V=ne&&ne.defaultView||window;if(V.getSelection){var Y=V.getSelection(),Ce=E.textContent.length,Te=Math.min(I.start,Ce),et=I.end===void 0?Te:Math.min(I.end,Ce);!Y.extend&&Te>et&&(S=et,et=Te,Te=S);var q=al(E,Te),G=al(E,et);if(q&&G&&(Y.rangeCount!==1||Y.anchorNode!==q.node||Y.anchorOffset!==q.offset||Y.focusNode!==G.node||Y.focusOffset!==G.offset)){var Z=ne.createRange();Z.setStart(q.node,q.offset),Y.removeAllRanges(),Te>et?(Y.addRange(Z),Y.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),Y.addRange(Z))}}}}for(ne=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var te=ne[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ku=!!zf,Uf=zf=null}finally{Ke=m,ue.p=d,W.T=o}}e.current=n,Zt=2}}function rx(){if(Zt===2){Zt=0;var e=ra,n=Kr,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var d=ue.p;ue.p=2;var m=Ke;Ke|=4;try{Iy(e,n.alternate,n)}finally{Ke=m,ue.p=d,W.T=o}}Zt=3}}function ox(){if(Zt===4||Zt===3){Zt=0,Ac();var e=ra,n=Kr,o=Wr,d=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Zt=5:(Zt=0,Kr=ra=null,lx(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(aa=null),qo(o),n=n.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Ii,n,void 0,(n.current.flags&128)===128)}catch{}if(d!==null){n=W.T,m=ue.p,ue.p=2,W.T=null;try{for(var g=e.onRecoverableError,S=0;S<d.length;S++){var E=d[S];g(E.value,{componentStack:E.stack})}}finally{W.T=n,ue.p=m}}(Wr&3)!==0&&Bu(),Ci(e),m=e.pendingLanes,(o&4194090)!==0&&(m&42)!==0?e===Nf?Cl++:(Cl=0,Nf=e):Cl=0,Ol(0)}}function lx(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,cl(n)))}function Bu(e){return ax(),rx(),ox(),cx()}function cx(){if(Zt!==5)return!1;var e=ra,n=Sf;Sf=0;var o=qo(Wr),d=W.T,m=ue.p;try{ue.p=32>o?32:o,W.T=null,o=jf,jf=null;var g=ra,S=Wr;if(Zt=0,Kr=ra=null,Wr=0,(Ke&6)!==0)throw Error(a(331));var E=Ke;if(Ke|=4,Qy(g.current),qy(g,g.current,S,o),Ke=E,Ol(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Ii,g)}catch{}return!0}finally{ue.p=m,W.T=d,lx(e,n)}}function ux(e,n,o){n=cn(o,n),n=nf(e.stateNode,n,2),e=Ks(e,n,2),e!==null&&(Ss(e,2),Ci(e))}function tt(e,n,o){if(e.tag===3)ux(e,e,o);else for(;n!==null;){if(n.tag===3){ux(n,e,o);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(aa===null||!aa.has(d))){e=cn(o,e),o=my(2),d=Ks(n,o,2),d!==null&&(py(o,d,n,e),Ss(d,2),Ci(d));break}}n=n.return}}function Cf(e,n,o){var d=e.pingCache;if(d===null){d=e.pingCache=new Cw;var m=new Set;d.set(n,m)}else m=d.get(n),m===void 0&&(m=new Set,d.set(n,m));m.has(o)||(vf=!0,m.add(o),e=Mw.bind(null,e,n,o),n.then(e,e))}function Mw(e,n,o){var d=e.pingCache;d!==null&&d.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,at===e&&(Ze&o)===o&&(yt===4||yt===3&&(Ze&62914560)===Ze&&300>fn()-wf?(Ke&2)===0&&Jr(e,0):_f|=o,Yr===Ze&&(Yr=0)),Ci(e)}function dx(e,n){n===0&&(n=Go()),e=Hs(e,n),e!==null&&(Ss(e,n),Ci(e))}function Pw(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),dx(e,o)}function Dw(e,n){var o=0;switch(e.tag){case 13:var d=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=e.stateNode;break;case 22:d=e.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(n),dx(e,o)}function Iw(e,n){return Sa(e,n)}var zu=null,eo=null,Of=!1,Uu=!1,kf=!1,Ja=0;function Ci(e){e!==eo&&e.next===null&&(eo===null?zu=eo=e:eo=eo.next=e),Uu=!0,Of||(Of=!0,zw())}function Ol(e,n){if(!kf&&Uu){kf=!0;do for(var o=!1,d=zu;d!==null;){if(e!==0){var m=d.pendingLanes;if(m===0)var g=0;else{var S=d.suspendedLanes,E=d.pingedLanes;g=(1<<31-an(42|e)+1)-1,g&=m&~(S&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,px(d,g))}else g=Ze,g=gr(d,d===at?g:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(g&3)===0||ni(d,g)||(o=!0,px(d,g));d=d.next}while(o);kf=!1}}function Bw(){hx()}function hx(){Uu=Of=!1;var e=0;Ja!==0&&(Fw()&&(e=Ja),Ja=0);for(var n=fn(),o=null,d=zu;d!==null;){var m=d.next,g=fx(d,n);g===0?(d.next=null,o===null?zu=m:o.next=m,m===null&&(eo=o)):(o=d,(e!==0||(g&3)!==0)&&(Uu=!0)),d=m}Ol(e)}function fx(e,n){for(var o=e.suspendedLanes,d=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var S=31-an(g),E=1<<S,I=m[S];I===-1?((E&o)===0||(E&d)!==0)&&(m[S]=lh(E,n)):I<=n&&(e.expiredLanes|=E),g&=~E}if(n=at,o=Ze,o=gr(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),d=e.callbackNode,o===0||e===n&&(We===2||We===9)||e.cancelPendingCommit!==null)return d!==null&&d!==null&&Bo(d),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||ni(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(d!==null&&Bo(d),qo(o)){case 2:case 8:o=zo;break;case 32:o=bs;break;case 268435456:o=Uo;break;default:o=bs}return d=mx.bind(null,e),o=Sa(o,d),e.callbackPriority=n,e.callbackNode=o,n}return d!==null&&d!==null&&Bo(d),e.callbackPriority=2,e.callbackNode=null,2}function mx(e,n){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Bu()&&e.callbackNode!==o)return null;var d=Ze;return d=gr(e,e===at?d:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),d===0?null:(Ky(e,d,n),fx(e,fn()),e.callbackNode!=null&&e.callbackNode===o?mx.bind(null,e):null)}function px(e,n){if(Bu())return null;Ky(e,n,!0)}function zw(){Yw(function(){(Ke&6)!==0?Sa(Cc,Bw):hx()})}function Rf(){return Ja===0&&(Ja=Lc()),Ja}function gx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ks(""+e)}function yx(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Uw(e,n,o,d,m){if(n==="submit"&&o&&o.stateNode===m){var g=gx((m[Jt]||null).action),S=d.submitter;S&&(n=(n=S[Jt]||null)?gx(n.formAction):S.getAttribute("formAction"),n!==null&&(g=n,S=null));var E=new ka("action","action",null,d,m);e.push({event:E,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ja!==0){var I=S?yx(m,S):new FormData(m);Wh(o,{pending:!0,data:I,method:m.method,action:g},null,I)}}else typeof g=="function"&&(E.preventDefault(),I=S?yx(m,S):new FormData(m),Wh(o,{pending:!0,data:I,method:m.method,action:g},g,I))},currentTarget:m}]})}}for(var Lf=0;Lf<Xi.length;Lf++){var Mf=Xi[Lf],Gw=Mf.toLowerCase(),$w=Mf[0].toUpperCase()+Mf.slice(1);En(Gw,"on"+$w)}En(su,"onAnimationEnd"),En(Tn,"onAnimationIteration"),En(Ba,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Th,"onTransitionRun"),En(Mr,"onTransitionStart"),En(Eh,"onTransitionCancel"),En(rl,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function xx(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var d=e[o],m=d.event;d=d.listeners;e:{var g=void 0;if(n)for(var S=d.length-1;0<=S;S--){var E=d[S],I=E.instance,Q=E.currentTarget;if(E=E.listener,I!==g&&m.isPropagationStopped())break e;g=E,m.currentTarget=Q;try{g(m)}catch(ee){Eu(ee)}m.currentTarget=null,g=I}else for(S=0;S<d.length;S++){if(E=d[S],I=E.instance,Q=E.currentTarget,E=E.listener,I!==g&&m.isPropagationStopped())break e;g=E,m.currentTarget=Q;try{g(m)}catch(ee){Eu(ee)}m.currentTarget=null,g=I}}}}function qe(e,n){var o=n[mn];o===void 0&&(o=n[mn]=new Set);var d=e+"__bubble";o.has(d)||(vx(n,e,2,!1),o.add(d))}function Pf(e,n,o){var d=0;n&&(d|=4),vx(o,e,d,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Df(e){if(!e[Gu]){e[Gu]=!0,Bc.forEach(function(o){o!=="selectionchange"&&(qw.has(o)||Pf(o,!1,e),Pf(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,Pf("selectionchange",!1,n))}}function vx(e,n,o,d){switch(qx(n)){case 2:var m=gS;break;case 8:m=yS;break;default:m=Kf}o=m.bind(null,n,o,e),m=void 0,!Oa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),d?m!==void 0?e.addEventListener(n,o,{capture:!0,passive:m}):e.addEventListener(n,o,!0):m!==void 0?e.addEventListener(n,o,{passive:m}):e.addEventListener(n,o,!1)}function If(e,n,o,d,m){var g=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var E=d.stateNode.containerInfo;if(E===m)break;if(S===4)for(S=d.return;S!==null;){var I=S.tag;if((I===3||I===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;E!==null;){if(S=xi(E),S===null)return;if(I=S.tag,I===5||I===6||I===26||I===27){d=g=S;continue e}E=E.parentNode}}d=d.return}wn(function(){var Q=g,ee=Rs(o),ne=[];e:{var V=au.get(e);if(V!==void 0){var Y=ka,Ce=e;switch(e){case"keypress":if(gt(o)===0)break e;case"keydown":case"keyup":Y=xh;break;case"focusin":Ce="focus",Y=Ko;break;case"focusout":Ce="blur",Y=Ko;break;case"beforeblur":case"afterblur":Y=Ko;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_h;break;case su:case Tn:case Ba:Y=mh;break;case rl:Y=bh;break;case"scroll":case"scrollend":Y=hh;break;case"wheel":Y=Yc;break;case"copy":case"cut":case"paste":Y=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xo;break;case"toggle":case"beforetoggle":Y=Yi}var Te=(n&4)!==0,et=!Te&&(e==="scroll"||e==="scrollend"),q=Te?V!==null?V+"Capture":null:V;Te=[];for(var G=Q,Z;G!==null;){var te=G;if(Z=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Z===null||q===null||(te=Ve(G,q),te!=null&&Te.push(Rl(G,te,Z))),et)break;G=G.return}0<Te.length&&(V=new Y(V,Ce,null,o,ee),ne.push({event:V,listeners:Te}))}}if((n&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",V&&o!==Ca&&(Ce=o.relatedTarget||o.fromElement)&&(xi(Ce)||Ce[js]))break e;if((Y||V)&&(V=ee.window===ee?ee:(V=ee.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(Ce=o.relatedTarget||o.toElement,Y=Q,Ce=Ce?xi(Ce):null,Ce!==null&&(et=h(Ce),Te=Ce.tag,Ce!==et||Te!==5&&Te!==27&&Te!==6)&&(Ce=null)):(Y=null,Ce=Q),Y!==Ce)){if(Te=Ps,te="onMouseLeave",q="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Te=Xo,te="onPointerLeave",q="onPointerEnter",G="pointer"),et=Y==null?V:Gn(Y),Z=Ce==null?V:Gn(Ce),V=new Te(te,G+"leave",Y,o,ee),V.target=et,V.relatedTarget=Z,te=null,xi(ee)===Q&&(Te=new Te(q,G+"enter",Ce,o,ee),Te.target=Z,Te.relatedTarget=et,te=Te),et=te,Y&&Ce)t:{for(Te=Y,q=Ce,G=0,Z=Te;Z;Z=to(Z))G++;for(Z=0,te=q;te;te=to(te))Z++;for(;0<G-Z;)Te=to(Te),G--;for(;0<Z-G;)q=to(q),Z--;for(;G--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=to(Te),q=to(q)}Te=null}else Te=null;Y!==null&&_x(ne,V,Y,Te,!1),Ce!==null&&et!==null&&_x(ne,et,Ce,Te,!0)}}e:{if(V=Q?Gn(Q):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var ye=Bs;else if(Wi(V))if(nl)ye=Nh;else{ye=jh;var Ge=sl}else Y=V.nodeName,!Y||Y.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?Q&&Aa(Q.elementType)&&(ye=Bs):ye=ri;if(ye&&(ye=ye(e,Q))){eu(ne,ye,o,ee);break e}Ge&&Ge(e,V,Q),e==="focusout"&&Q&&V.type==="number"&&Q.memoizedProps.value!=null&&Cs(V,"number",V.value)}switch(Ge=Q?Gn(Q):window,e){case"focusin":(Wi(Ge)||Ge.contentEditable==="true")&&(Nn=Ge,Gs=Q,Ji=null);break;case"focusout":Ji=Gs=Nn=null;break;case"mousedown":Rr=!0;break;case"contextmenu":case"mouseup":case"dragend":Rr=!1,nu(ne,o,ee);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":nu(ne,o,ee)}var we;if(Ki)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ds?Ar(e,o)&&(Ee="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(tl&&o.locale!=="ko"&&(Ds||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ds&&(we=Ms()):(Hn=ee,si="value"in Hn?Hn.value:Hn.textContent,Ds=!0)),Ge=$u(Q,Ee),0<Ge.length&&(Ee=new Sn(Ee,e,null,o,ee),ne.push({event:Ee,listeners:Ge}),we?Ee.data=we:(we=Jc(o),we!==null&&(Ee.data=we)))),(we=Kc?Xc(e,o):Sh(e,o))&&(Ee=$u(Q,"onBeforeInput"),0<Ee.length&&(Ge=new Sn("onBeforeInput","beforeinput",null,o,ee),ne.push({event:Ge,listeners:Ee}),Ge.data=we)),Uw(ne,e,Q,o,ee)}xx(ne,n)})}function Rl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function $u(e,n){for(var o=n+"Capture",d=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ve(e,o),m!=null&&d.unshift(Rl(e,m,g)),m=Ve(e,n),m!=null&&d.push(Rl(e,m,g))),e.tag===3)return d;e=e.return}return[]}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _x(e,n,o,d,m){for(var g=n._reactName,S=[];o!==null&&o!==d;){var E=o,I=E.alternate,Q=E.stateNode;if(E=E.tag,I!==null&&I===d)break;E!==5&&E!==26&&E!==27||Q===null||(I=Q,m?(Q=Ve(o,g),Q!=null&&S.unshift(Rl(o,Q,I))):m||(Q=Ve(o,g),Q!=null&&S.push(Rl(o,Q,I)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var Hw=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function bx(e){return(typeof e=="string"?e:""+e).replace(Hw,`
`).replace(Zw,"")}function wx(e,n){return n=bx(n),bx(e)===n}function qu(){}function Xe(e,n,o,d,m,g){switch(o){case"children":typeof d=="string"?n==="body"||n==="textarea"&&d===""||$n(e,d):(typeof d=="number"||typeof d=="bigint")&&n!=="body"&&$n(e,""+d);break;case"className":_r(e,"class",d);break;case"tabIndex":_r(e,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,o,d);break;case"style":Os(e,d,g);break;case"data":if(n!=="object"){_r(e,"data",d);break}case"src":case"href":if(d===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){e.removeAttribute(o);break}d=ks(""+d),e.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(n!=="input"&&Xe(e,n,"name",m.name,m,null),Xe(e,n,"formEncType",m.formEncType,m,null),Xe(e,n,"formMethod",m.formMethod,m,null),Xe(e,n,"formTarget",m.formTarget,m,null)):(Xe(e,n,"encType",m.encType,m,null),Xe(e,n,"method",m.method,m,null),Xe(e,n,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){e.removeAttribute(o);break}d=ks(""+d),e.setAttribute(o,d);break;case"onClick":d!=null&&(e.onclick=qu);break;case"onScroll":d!=null&&qe("scroll",e);break;case"onScrollEnd":d!=null&&qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":e.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){e.removeAttribute("xlink:href");break}o=ks(""+d),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,""+d):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":d===!0?e.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,d):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?e.setAttribute(o,d):e.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?e.removeAttribute(o):e.setAttribute(o,d);break;case"popover":qe("beforetoggle",e),qe("toggle",e),vr(e,"popover",d);break;case"xlinkActuate":ii(e,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ii(e,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ii(e,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ii(e,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ii(e,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ii(e,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ii(e,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ii(e,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ii(e,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vr(e,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fo.get(o)||o,vr(e,o,d))}}function Bf(e,n,o,d,m,g){switch(o){case"style":Os(e,d,g);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof d=="string"?$n(e,d):(typeof d=="number"||typeof d=="bigint")&&$n(e,""+d);break;case"onScroll":d!=null&&qe("scroll",e);break;case"onScrollEnd":d!=null&&qe("scrollend",e);break;case"onClick":d!=null&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),n=o.slice(2,m?o.length-7:void 0),g=e[Jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(n,g,m),typeof d=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,d,m);break e}o in e?e[o]=d:d===!0?e.setAttribute(o,""):vr(e,o,d)}}}function Qt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",e),qe("load",e);var d=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(e,n,g,S,o,null)}}m&&Xe(e,n,"srcSet",o.srcSet,o,null),d&&Xe(e,n,"src",o.src,o,null);return;case"input":qe("invalid",e);var E=g=S=m=null,I=null,Q=null;for(d in o)if(o.hasOwnProperty(d)){var ee=o[d];if(ee!=null)switch(d){case"name":m=ee;break;case"type":S=ee;break;case"checked":I=ee;break;case"defaultChecked":Q=ee;break;case"value":g=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,n));break;default:Xe(e,n,d,ee,o,null)}}Gc(e,g,E,I,Q,S,m,!1),As(e);return;case"select":qe("invalid",e),d=S=g=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":g=E;break;case"defaultValue":S=E;break;case"multiple":d=E;default:Xe(e,n,m,E,o,null)}n=g,o=S,e.multiple=!!d,n!=null?pn(e,!!d,n,!1):o!=null&&pn(e,!!d,o,!0);return;case"textarea":qe("invalid",e),g=m=d=null;for(S in o)if(o.hasOwnProperty(S)&&(E=o[S],E!=null))switch(S){case"value":d=E;break;case"defaultValue":m=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xe(e,n,S,E,o,null)}vi(e,d,m,g),As(e);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(d=o[I],d!=null))switch(I){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Xe(e,n,I,d,o,null)}return;case"dialog":qe("beforetoggle",e),qe("toggle",e),qe("cancel",e),qe("close",e);break;case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(d=0;d<kl.length;d++)qe(kl[d],e);break;case"image":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"embed":case"source":case"link":qe("error",e),qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(d=o[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(e,n,Q,d,o,null)}return;default:if(Aa(n)){for(ee in o)o.hasOwnProperty(ee)&&(d=o[ee],d!==void 0&&Bf(e,n,ee,d,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(d=o[E],d!=null&&Xe(e,n,E,d,o,null))}function Qw(e,n,o,d){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,E=null,I=null,Q=null,ee=null;for(Y in o){var ne=o[Y];if(o.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ne;default:d.hasOwnProperty(Y)||Xe(e,n,Y,null,d,ne)}}for(var V in d){var Y=d[V];if(ne=o[V],d.hasOwnProperty(V)&&(Y!=null||ne!=null))switch(V){case"type":g=Y;break;case"name":m=Y;break;case"checked":Q=Y;break;case"defaultChecked":ee=Y;break;case"value":S=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Y!==ne&&Xe(e,n,V,Y,d,ne)}}Xt(e,S,E,I,Q,ee,g,m);return;case"select":Y=S=E=V=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Y=I;default:d.hasOwnProperty(g)||Xe(e,n,g,null,d,I)}for(m in d)if(g=d[m],I=o[m],d.hasOwnProperty(m)&&(g!=null||I!=null))switch(m){case"value":V=g;break;case"defaultValue":E=g;break;case"multiple":S=g;default:g!==I&&Xe(e,n,m,g,d,I)}n=E,o=S,d=Y,V!=null?pn(e,!!o,V,!1):!!d!=!!o&&(n!=null?pn(e,!!o,n,!0):pn(e,!!o,o?[]:"",!1));return;case"textarea":Y=V=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!d.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(e,n,E,null,d,m)}for(S in d)if(m=d[S],g=o[S],d.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":V=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&Xe(e,n,S,m,d,g)}dt(e,V,Y);return;case"option":for(var Ce in o)if(V=o[Ce],o.hasOwnProperty(Ce)&&V!=null&&!d.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Xe(e,n,Ce,null,d,V)}for(I in d)if(V=d[I],Y=o[I],d.hasOwnProperty(I)&&V!==Y&&(V!=null||Y!=null))switch(I){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Xe(e,n,I,V,d,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)V=o[Te],o.hasOwnProperty(Te)&&V!=null&&!d.hasOwnProperty(Te)&&Xe(e,n,Te,null,d,V);for(Q in d)if(V=d[Q],Y=o[Q],d.hasOwnProperty(Q)&&V!==Y&&(V!=null||Y!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Xe(e,n,Q,V,d,Y)}return;default:if(Aa(n)){for(var et in o)V=o[et],o.hasOwnProperty(et)&&V!==void 0&&!d.hasOwnProperty(et)&&Bf(e,n,et,void 0,d,V);for(ee in d)V=d[ee],Y=o[ee],!d.hasOwnProperty(ee)||V===Y||V===void 0&&Y===void 0||Bf(e,n,ee,V,d,Y);return}}for(var q in o)V=o[q],o.hasOwnProperty(q)&&V!=null&&!d.hasOwnProperty(q)&&Xe(e,n,q,null,d,V);for(ne in d)V=d[ne],Y=o[ne],!d.hasOwnProperty(ne)||V===Y||V==null&&Y==null||Xe(e,n,ne,V,d,Y)}var zf=null,Uf=null;function Hu(e){return e.nodeType===9?e:e.ownerDocument}function Sx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jx(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $f=null;function Fw(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var Nx=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(e){return Tx.resolve(null).then(e).catch(Kw)}:Nx;function Kw(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function Ex(e,n){var o=n,d=0,m=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<d&&8>d){o=d;var S=e.ownerDocument;if(o&1&&Ll(S.documentElement),o&2&&Ll(S.body),o&4)for(o=S.head,Ll(o),S=o.firstChild;S;){var E=S.nextSibling,I=S.nodeName;S[Ns]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=E}}if(m===0){e.removeChild(g),Gl(n);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:d=o.charCodeAt(0)-48;else d=0;o=g}while(o);Gl(n)}function qf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qf(o),xr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Ww(e,n,o,d){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!d&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(d){if(!e[Ns])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ui(e.nextSibling),e===null)break}return null}function Jw(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ui(e.nextSibling),e===null))return null;return e}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Xw(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var d=function(){n(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),e._reactRetry=d}}function ui(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Zf=null;function Ax(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function Cx(e,n,o){switch(n=Hu(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xr(e)}var Wn=new Map,Ox=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=ue.d;ue.d={f:eS,r:tS,D:nS,C:iS,L:sS,m:aS,X:oS,S:rS,M:lS};function eS(){var e=ds.f(),n=Du();return e||n}function tS(e){var n=Bi(e);n!==null&&n.tag===5&&n.type==="form"?Kg(n):ds.r(e)}var no=typeof document>"u"?null:document;function kx(e,n,o){var d=no;if(d&&typeof n=="string"&&n){var m=$t(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Ox.has(m)||(Ox.add(m),e={rel:e,crossOrigin:o,href:n},d.querySelector(m)===null&&(n=d.createElement("link"),Qt(n,"link",e),_t(n),d.head.appendChild(n)))}}function nS(e){ds.D(e),kx("dns-prefetch",e,null)}function iS(e,n){ds.C(e,n),kx("preconnect",e,n)}function sS(e,n,o){ds.L(e,n,o);var d=no;if(d&&e&&n){var m='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+$t(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+$t(o.imageSizes)+'"]')):m+='[href="'+$t(e)+'"]';var g=m;switch(n){case"style":g=io(e);break;case"script":g=so(e)}Wn.has(g)||(e=w({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Wn.set(g,e),d.querySelector(m)!==null||n==="style"&&d.querySelector(Ml(g))||n==="script"&&d.querySelector(Pl(g))||(n=d.createElement("link"),Qt(n,"link",e),_t(n),d.head.appendChild(n)))}}function aS(e,n){ds.m(e,n);var o=no;if(o&&e){var d=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+$t(d)+'"][href="'+$t(e)+'"]',g=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=so(e)}if(!Wn.has(g)&&(e=w({rel:"modulepreload",href:e},n),Wn.set(g,e),o.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pl(g)))return}d=o.createElement("link"),Qt(d,"link",e),_t(d),o.head.appendChild(d)}}}function rS(e,n,o){ds.S(e,n,o);var d=no;if(d&&e){var m=zi(d).hoistableStyles,g=io(e);n=n||"default";var S=m.get(g);if(!S){var E={loading:0,preload:null};if(S=d.querySelector(Ml(g)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Wn.get(g))&&Qf(e,o);var I=S=d.createElement("link");_t(I),Qt(I,"link",e),I._p=new Promise(function(Q,ee){I.onload=Q,I.onerror=ee}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qu(S,n,d)}S={type:"stylesheet",instance:S,count:1,state:E},m.set(g,S)}}}function oS(e,n){ds.X(e,n);var o=no;if(o&&e){var d=zi(o).hoistableScripts,m=so(e),g=d.get(m);g||(g=o.querySelector(Pl(m)),g||(e=w({src:e,async:!0},n),(n=Wn.get(m))&&Ff(e,n),g=o.createElement("script"),_t(g),Qt(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},d.set(m,g))}}function lS(e,n){ds.M(e,n);var o=no;if(o&&e){var d=zi(o).hoistableScripts,m=so(e),g=d.get(m);g||(g=o.querySelector(Pl(m)),g||(e=w({src:e,async:!0,type:"module"},n),(n=Wn.get(m))&&Ff(e,n),g=o.createElement("script"),_t(g),Qt(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},d.set(m,g))}}function Rx(e,n,o,d){var m=(m=de.current)?Zu(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=io(o.href),o=zi(m).hoistableStyles,d=o.get(n),d||(d={type:"style",instance:null,count:0,state:null},o.set(n,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=io(o.href);var g=zi(m).hoistableStyles,S=g.get(e);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,S),(g=m.querySelector(Ml(e)))&&!g._p&&(S.instance=g,S.state.loading=5),Wn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(e,o),g||cS(m,e,o,S.state))),n&&d===null)throw Error(a(528,""));return S}if(n&&d!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(o),o=zi(m).hoistableScripts,d=o.get(n),d||(d={type:"script",instance:null,count:0,state:null},o.set(n,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function io(e){return'href="'+$t(e)+'"'}function Ml(e){return'link[rel="stylesheet"]['+e+"]"}function Lx(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,n,o,d){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?d.loading=1:(n=e.createElement("link"),d.preload=n,n.addEventListener("load",function(){return d.loading|=1}),n.addEventListener("error",function(){return d.loading|=2}),Qt(n,"link",o),_t(n),e.head.appendChild(n))}function so(e){return'[src="'+$t(e)+'"]'}function Pl(e){return"script[async]"+e}function Mx(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var d=e.querySelector('style[data-href~="'+$t(o.href)+'"]');if(d)return n.instance=d,_t(d),d;var m=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(e.ownerDocument||e).createElement("style"),_t(d),Qt(d,"style",m),Qu(d,o.precedence,e),n.instance=d;case"stylesheet":m=io(o.href);var g=e.querySelector(Ml(m));if(g)return n.state.loading|=4,n.instance=g,_t(g),g;d=Lx(o),(m=Wn.get(m))&&Qf(d,m),g=(e.ownerDocument||e).createElement("link"),_t(g);var S=g;return S._p=new Promise(function(E,I){S.onload=E,S.onerror=I}),Qt(g,"link",d),n.state.loading|=4,Qu(g,o.precedence,e),n.instance=g;case"script":return g=so(o.src),(m=e.querySelector(Pl(g)))?(n.instance=m,_t(m),m):(d=o,(m=Wn.get(g))&&(d=w({},o),Ff(d,m)),e=e.ownerDocument||e,m=e.createElement("script"),_t(m),Qt(m,"link",d),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(d=n.instance,n.state.loading|=4,Qu(d,o.precedence,e));return n.instance}function Qu(e,n,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,g=m,S=0;S<d.length;S++){var E=d[S];if(E.dataset.precedence===n)g=E;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ff(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function Px(e,n,o){if(Fu===null){var d=new Map,m=Fu=new Map;m.set(o,d)}else m=Fu,d=m.get(o),d||(d=new Map,m.set(o,d));if(d.has(e))return d;for(d.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Ns]||g[Lt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(n)||"";S=e+S;var E=d.get(S);E?E.push(g):d.set(S,[g])}}return d}function Dx(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function uS(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ix(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Dl=null;function dS(){}function hS(e,n,o){if(Dl===null)throw Error(a(475));var d=Dl;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=io(o.href),g=e.querySelector(Ml(m));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(d.count++,d=Vu.bind(d),e.then(d,d)),n.state.loading|=4,n.instance=g,_t(g);return}g=e.ownerDocument||e,o=Lx(o),(m=Wn.get(m))&&Qf(o,m),g=g.createElement("link"),_t(g);var S=g;S._p=new Promise(function(E,I){S.onload=E,S.onerror=I}),Qt(g,"link",o),n.instance=g}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(d.count++,n=Vu.bind(d),e.addEventListener("load",n),e.addEventListener("error",n))}}function fS(){if(Dl===null)throw Error(a(475));var e=Dl;return e.stylesheets&&e.count===0&&Vf(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&Vf(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)Vf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yu=null;function Vf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yu=new Map,n.forEach(mS,e),Yu=null,Vu.call(e))}function mS(e,n){if(!(n.state.loading&4)){var o=Yu.get(e);if(o)var d=o.get(null);else{o=new Map,Yu.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}m=n.instance,S=m.getAttribute("data-precedence"),g=o.get(S)||d,g===d&&o.set(null,m),o.set(S,m),this.count++,d=Vu.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Il={$$typeof:B,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function pS(e,n,o,d,m,g,S,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Bx(e,n,o,d,m,g,S,E,I,Q,ee,ne){return e=new pS(e,n,o,S,E,I,Q,ne),n=1,g===!0&&(n|=24),g=dn(3,null,null,n),e.current=g,g.stateNode=e,n=Ah(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:d,isDehydrated:o,cache:n},Rh(g),e}function zx(e){return e?(e=ns,e):ns}function Ux(e,n,o,d,m,g){m=zx(m),d.context===null?d.context=m:d.pendingContext=m,d=Ys(n),d.payload={element:o},g=g===void 0?null:g,g!==null&&(d.callback=g),o=Ks(e,d,n),o!==null&&(Ln(o,e,n),fl(o,e,n))}function Gx(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Yf(e,n){Gx(e,n),(e=e.alternate)&&Gx(e,n)}function $x(e){if(e.tag===13){var n=Hs(e,67108864);n!==null&&Ln(n,e,67108864),Yf(e,67108864)}}var Ku=!0;function gS(e,n,o,d){var m=W.T;W.T=null;var g=ue.p;try{ue.p=2,Kf(e,n,o,d)}finally{ue.p=g,W.T=m}}function yS(e,n,o,d){var m=W.T;W.T=null;var g=ue.p;try{ue.p=8,Kf(e,n,o,d)}finally{ue.p=g,W.T=m}}function Kf(e,n,o,d){if(Ku){var m=Wf(d);if(m===null)If(e,n,d,Wu,o),Hx(e,d);else if(vS(m,e,n,o,d))d.stopPropagation();else if(Hx(e,d),n&4&&-1<xS.indexOf(e)){for(;m!==null;){var g=Bi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=gi(g.pendingLanes);if(S!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var I=1<<31-an(S);E.entanglements[1]|=I,S&=~I}Ci(g),(Ke&6)===0&&(Mu=fn()+500,Ol(0))}}break;case 13:E=Hs(g,2),E!==null&&Ln(E,g,2),Du(),Yf(g,2)}if(g=Wf(d),g===null&&If(e,n,d,Wu,o),g===m)break;m=g}m!==null&&d.stopPropagation()}else If(e,n,d,null,o)}}function Wf(e){return e=Rs(e),Jf(e)}var Wu=null;function Jf(e){if(Wu=null,e=xi(e),e!==null){var n=h(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wu=e,null}function qx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case Cc:return 2;case zo:return 8;case bs:case Oc:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var Xf=!1,ca=null,ua=null,da=null,Bl=new Map,zl=new Map,ha=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hx(e,n){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(e,n,o,d,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},n!==null&&(n=Bi(n),n!==null&&$x(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function vS(e,n,o,d,m){switch(n){case"focusin":return ca=Ul(ca,e,n,o,d,m),!0;case"dragenter":return ua=Ul(ua,e,n,o,d,m),!0;case"mouseover":return da=Ul(da,e,n,o,d,m),!0;case"pointerover":var g=m.pointerId;return Bl.set(g,Ul(Bl.get(g)||null,e,n,o,d,m)),!0;case"gotpointercapture":return g=m.pointerId,zl.set(g,Ul(zl.get(g)||null,e,n,o,d,m)),!0}return!1}function Zx(e){var n=xi(e.target);if(n!==null){var o=h(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,Ho(e.priority,function(){if(o.tag===13){var d=Rn();d=$o(d);var m=Hs(o,d);m!==null&&Ln(m,o,d),Yf(o,d)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Wf(e.nativeEvent);if(o===null){o=e.nativeEvent;var d=new o.constructor(o.type,o);Ca=d,o.target.dispatchEvent(d),Ca=null}else return n=Bi(o),n!==null&&$x(n),e.blockedOn=o,!1;n.shift()}return!0}function Qx(e,n,o){Ju(e)&&o.delete(n)}function _S(){Xf=!1,ca!==null&&Ju(ca)&&(ca=null),ua!==null&&Ju(ua)&&(ua=null),da!==null&&Ju(da)&&(da=null),Bl.forEach(Qx),zl.forEach(Qx)}function Xu(e,n){e.blockedOn===n&&(e.blockedOn=null,Xf||(Xf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_S)))}var ed=null;function Fx(e){ed!==e&&(ed=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ed===e&&(ed=null);for(var n=0;n<e.length;n+=3){var o=e[n],d=e[n+1],m=e[n+2];if(typeof d!="function"){if(Jf(d||o)===null)continue;break}var g=Bi(o);g!==null&&(e.splice(n,3),n-=3,Wh(g,{pending:!0,data:m,method:o.method,action:d},d,m))}}))}function Gl(e){function n(I){return Xu(I,e)}ca!==null&&Xu(ca,e),ua!==null&&Xu(ua,e),da!==null&&Xu(da,e),Bl.forEach(n),zl.forEach(n);for(var o=0;o<ha.length;o++){var d=ha[o];d.blockedOn===e&&(d.blockedOn=null)}for(;0<ha.length&&(o=ha[0],o.blockedOn===null);)Zx(o),o.blockedOn===null&&ha.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var m=o[d],g=o[d+1],S=m[Jt]||null;if(typeof g=="function")S||Fx(o);else if(S){var E=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[Jt]||null)E=S.formAction;else if(Jf(m)!==null)continue}else E=S.action;typeof E=="function"?o[d+1]=E:(o.splice(d,3),d-=3),Fx(o)}}}function em(e){this._internalRoot=e}td.prototype.render=em.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,d=Rn();Ux(o,d,e,n,null,null)},td.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ux(e.current,2,null,e,null,null),Du(),n[js]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<ha.length&&n!==0&&n<ha[o].priority;o++);ha.splice(o,0,e),o===0&&Zx(e)}};var Vx=t.version;if(Vx!=="19.1.0")throw Error(a(527,Vx,"19.1.0"));ue.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var bS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{Ii=nd.inject(bS),Wt=nd}catch{}}return ql.createRoot=function(e,n){if(!c(e))throw Error(a(299));var o=!1,d="",m=uy,g=dy,S=hy,E=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Bx(e,1,!1,null,null,o,d,m,g,S,E,null),e[js]=n.current,Df(e),new em(n)},ql.hydrateRoot=function(e,n,o){if(!c(e))throw Error(a(299));var d=!1,m="",g=uy,S=dy,E=hy,I=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),n=Bx(e,1,!0,n,o??null,d,m,g,S,E,I,Q),n.context=zx(null),o=n.current,d=Rn(),d=$o(d),m=Ys(d),m.callback=null,Ks(o,m,d),o=d,n.current.lanes=o,Ss(n,o),Ci(n),e[js]=n.current,Df(e),new td(n)},ql.version="19.1.0",ql}var sv;function LS(){if(sv)return im.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=RS(),im.exports}var MS=LS();const PS=Ro(MS);var Hl={},av;function DS(){if(av)return Hl;av=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=p,Hl.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,h=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function p(T,A){const C=new h,M=T.length;if(M<2)return C;const U=(A==null?void 0:A.decode)||w;let z=0;do{const k=T.indexOf("=",z);if(k===-1)break;const B=T.indexOf(";",z),P=B===-1?M:B;if(k>P){z=T.lastIndexOf(";",k-1)+1;continue}const R=x(T,z,k),X=y(T,k,R),ae=T.slice(R,X);if(C[ae]===void 0){let re=x(T,k+1,P),me=y(T,P,re);const Le=U(T.slice(re,me));C[ae]=Le}z=P+1}while(z<M);return C}function x(T,A,C){do{const M=T.charCodeAt(A);if(M!==32&&M!==9)return A}while(++A<C);return C}function y(T,A,C){for(;A>C;){const M=T.charCodeAt(--A);if(M!==32&&M!==9)return A+1}return C}function v(T,A,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const U=M(A);if(!t.test(U))throw new TypeError(`argument val is invalid: ${A}`);let z=T+"="+U;if(!C)return z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);z+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);z+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);z+="; Path="+C.path}if(C.expires){if(!j(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(z+="; HttpOnly"),C.secure&&(z+="; Secure"),C.partitioned&&(z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return z}function w(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function j(T){return c.call(T)==="[object Date]"}return Hl}DS();var rv="popstate";function IS(r={}){function t(a,c){let{pathname:h,search:p,hash:x}=a.location;return Im("",{pathname:h,search:p,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(a,c){return typeof c=="string"?c:fc(c)}return zS(t,i,null,r)}function mt(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Mi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BS(){return Math.random().toString(36).substring(2,10)}function ov(r,t){return{usr:r.state,key:r.key,idx:t}}function Im(r,t,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Lo(t):t,state:i,key:t&&t.key||a||BS()}}function fc({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Lo(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function zS(r,t,i,a={}){let{window:c=document.defaultView,v5Compat:h=!1}=a,p=c.history,x="POP",y=null,v=w();v==null&&(v=0,p.replaceState({...p.state,idx:v},""));function w(){return(p.state||{idx:null}).idx}function j(){x="POP";let U=w(),z=U==null?null:U-v;v=U,y&&y({action:x,location:M.location,delta:z})}function T(U,z){x="PUSH";let k=Im(M.location,U,z);v=w()+1;let B=ov(k,v),P=M.createHref(k);try{p.pushState(B,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;c.location.assign(P)}h&&y&&y({action:x,location:M.location,delta:1})}function A(U,z){x="REPLACE";let k=Im(M.location,U,z);v=w();let B=ov(k,v),P=M.createHref(k);p.replaceState(B,"",P),h&&y&&y({action:x,location:M.location,delta:0})}function C(U){return US(U)}let M={get action(){return x},get location(){return r(c,p)},listen(U){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(rv,j),y=U,()=>{c.removeEventListener(rv,j),y=null}},createHref(U){return t(c,U)},createURL:C,encodeLocation(U){let z=C(U);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(U){return p.go(U)}};return M}function US(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),mt(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:fc(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function A0(r,t,i="/"){return GS(r,t,i,!1)}function GS(r,t,i,a){let c=typeof t=="string"?Lo(t):t,h=ys(c.pathname||"/",i);if(h==null)return null;let p=C0(r);$S(p);let x=null;for(let y=0;x==null&&y<p.length;++y){let v=XS(h);x=WS(p[y],v,a)}return x}function C0(r,t=[],i=[],a=""){let c=(h,p,x)=>{let y={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};y.relativePath.startsWith("/")&&(mt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let v=gs([a,y.relativePath]),w=i.concat(y);h.children&&h.children.length>0&&(mt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),C0(h.children,t,w,v)),!(h.path==null&&!h.index)&&t.push({path:v,score:YS(v,h.index),routesMeta:w})};return r.forEach((h,p)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))c(h,p);else for(let y of O0(h.path))c(h,p,y)}),t}function O0(r){let t=r.split("/");if(t.length===0)return[];let[i,...a]=t,c=i.endsWith("?"),h=i.replace(/\?$/,"");if(a.length===0)return c?[h,""]:[h];let p=O0(a.join("/")),x=[];return x.push(...p.map(y=>y===""?h:[h,y].join("/"))),c&&x.push(...p),x.map(y=>r.startsWith("/")&&y===""?"/":y)}function $S(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:KS(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var qS=/^:[\w-]+$/,HS=3,ZS=2,QS=1,FS=10,VS=-2,lv=r=>r==="*";function YS(r,t){let i=r.split("/"),a=i.length;return i.some(lv)&&(a+=VS),t&&(a+=ZS),i.filter(c=>!lv(c)).reduce((c,h)=>c+(qS.test(h)?HS:h===""?QS:FS),a)}function KS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,c)=>a===t[c])?r[r.length-1]-t[t.length-1]:0}function WS(r,t,i=!1){let{routesMeta:a}=r,c={},h="/",p=[];for(let x=0;x<a.length;++x){let y=a[x],v=x===a.length-1,w=h==="/"?t:t.slice(h.length)||"/",j=Od({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),T=y.route;if(!j&&v&&i&&!a[a.length-1].route.index&&(j=Od({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!j)return null;Object.assign(c,j.params),p.push({params:c,pathname:gs([h,j.pathname]),pathnameBase:i1(gs([h,j.pathnameBase])),route:T}),j.pathnameBase!=="/"&&(h=gs([h,j.pathnameBase]))}return p}function Od(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=JS(r.path,r.caseSensitive,r.end),c=t.match(i);if(!c)return null;let h=c[0],p=h.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:a.reduce((v,{paramName:w,isOptional:j},T)=>{if(w==="*"){let C=x[T]||"";p=h.slice(0,h.length-C.length).replace(/(.)\/+$/,"$1")}const A=x[T];return j&&!A?v[w]=void 0:v[w]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:h,pathnameBase:p,pattern:r}}function JS(r,t=!1,i=!0){Mi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,x,y)=>(a.push({paramName:x,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function XS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ys(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function e1(r,t="/"){let{pathname:i,search:a="",hash:c=""}=typeof r=="string"?Lo(r):r;return{pathname:i?i.startsWith("/")?i:t1(i,t):t,search:s1(a),hash:a1(c)}}function t1(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function om(r,t,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n1(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function k0(r){let t=n1(r);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function R0(r,t,i,a=!1){let c;typeof r=="string"?c=Lo(r):(c={...r},mt(!c.pathname||!c.pathname.includes("?"),om("?","pathname","search",c)),mt(!c.pathname||!c.pathname.includes("#"),om("#","pathname","hash",c)),mt(!c.search||!c.search.includes("#"),om("#","search","hash",c)));let h=r===""||c.pathname==="",p=h?"/":c.pathname,x;if(p==null)x=i;else{let j=t.length-1;if(!a&&p.startsWith("..")){let T=p.split("/");for(;T[0]==="..";)T.shift(),j-=1;c.pathname=T.join("/")}x=j>=0?t[j]:"/"}let y=e1(c,x),v=p&&p!=="/"&&p.endsWith("/"),w=(h||p===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}var gs=r=>r.join("/").replace(/\/\/+/g,"/"),i1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),s1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,a1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function r1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var o1=["GET",...L0];new Set(o1);var Mo=$.createContext(null);Mo.displayName="DataRouter";var Hd=$.createContext(null);Hd.displayName="DataRouterState";var M0=$.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var l1=$.createContext(new Map);l1.displayName="Fetchers";var c1=$.createContext(null);c1.displayName="Await";var Pi=$.createContext(null);Pi.displayName="Navigation";var vc=$.createContext(null);vc.displayName="Location";var vs=$.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var _p=$.createContext(null);_p.displayName="RouteError";function u1(r,{relative:t}={}){mt(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=$.useContext(Pi),{hash:c,pathname:h,search:p}=bc(r,{relative:t}),x=h;return i!=="/"&&(x=h==="/"?i:gs([i,h])),a.createHref({pathname:x,search:p,hash:c})}function _c(){return $.useContext(vc)!=null}function fr(){return mt(_c(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(vc).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(r){$.useContext(Pi).static||$.useLayoutEffect(r)}function d1(){let{isDataRoute:r}=$.useContext(vs);return r?j1():h1()}function h1(){mt(_c(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(Mo),{basename:t,navigator:i}=$.useContext(Pi),{matches:a}=$.useContext(vs),{pathname:c}=fr(),h=JSON.stringify(k0(a)),p=$.useRef(!1);return D0(()=>{p.current=!0}),$.useCallback((y,v={})=>{if(Mi(p.current,P0),!p.current)return;if(typeof y=="number"){i.go(y);return}let w=R0(y,JSON.parse(h),c,v.relative==="path");r==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:gs([t,w.pathname])),(v.replace?i.replace:i.push)(w,v.state,v)},[t,i,h,c,r])}$.createContext(null);function bc(r,{relative:t}={}){let{matches:i}=$.useContext(vs),{pathname:a}=fr(),c=JSON.stringify(k0(i));return $.useMemo(()=>R0(r,JSON.parse(c),a,t==="path"),[r,c,a,t])}function f1(r,t){return I0(r,t)}function I0(r,t,i,a){var z;mt(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=$.useContext(Pi),{matches:h}=$.useContext(vs),p=h[h.length-1],x=p?p.params:{},y=p?p.pathname:"/",v=p?p.pathnameBase:"/",w=p&&p.route;{let k=w&&w.path||"";B0(y,!w||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let j=fr(),T;if(t){let k=typeof t=="string"?Lo(t):t;mt(v==="/"||((z=k.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),T=k}else T=j;let A=T.pathname||"/",C=A;if(v!=="/"){let k=v.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(k.length).join("/")}let M=A0(r,{pathname:C});Mi(w||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Mi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=x1(M&&M.map(k=>Object.assign({},k,{params:Object.assign({},x,k.params),pathname:gs([v,c.encodeLocation?c.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:gs([v,c.encodeLocation?c.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),h,i,a);return t&&U?$.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function m1(){let r=S1(),t=r1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},p=null;return console.error("Error handled by React Router default ErrorBoundary:",r),p=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:h},"ErrorBoundary")," or"," ",$.createElement("code",{style:h},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),i?$.createElement("pre",{style:c},i):null,p)}var p1=$.createElement(m1,null),g1=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?$.createElement(vs.Provider,{value:this.props.routeContext},$.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y1({routeContext:r,match:t,children:i}){let a=$.useContext(Mo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(vs.Provider,{value:r},i)}function x1(r,t=[],i=null,a=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,h=i==null?void 0:i.errors;if(h!=null){let y=c.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,x=-1;if(i)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(x=y),v.route.id){let{loaderData:w,errors:j}=i,T=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!j||j[v.route.id]===void 0);if(v.route.lazy||T){p=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}return c.reduceRight((y,v,w)=>{let j,T=!1,A=null,C=null;i&&(j=h&&v.route.id?h[v.route.id]:void 0,A=v.route.errorElement||p1,p&&(x<0&&w===0?(B0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):x===w&&(T=!0,C=v.route.hydrateFallbackElement||null)));let M=t.concat(c.slice(0,w+1)),U=()=>{let z;return j?z=A:T?z=C:v.route.Component?z=$.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=y,$.createElement(y1,{match:v,routeContext:{outlet:y,matches:M,isDataRoute:i!=null},children:z})};return i&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?$.createElement(g1,{location:i.location,revalidation:i.revalidation,component:A,error:j,children:U(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):U()},null)}function bp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v1(r){let t=$.useContext(Mo);return mt(t,bp(r)),t}function _1(r){let t=$.useContext(Hd);return mt(t,bp(r)),t}function b1(r){let t=$.useContext(vs);return mt(t,bp(r)),t}function wp(r){let t=b1(r),i=t.matches[t.matches.length-1];return mt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function w1(){return wp("useRouteId")}function S1(){var a;let r=$.useContext(_p),t=_1("useRouteError"),i=wp("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[i]}function j1(){let{router:r}=v1("useNavigate"),t=wp("useNavigate"),i=$.useRef(!1);return D0(()=>{i.current=!0}),$.useCallback(async(c,h={})=>{Mi(i.current,P0),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:t,...h}))},[r,t])}var cv={};function B0(r,t,i){!t&&!cv[r]&&(cv[r]=!0,Mi(!1,i))}$.memo(N1);function N1({routes:r,future:t,state:i}){return I0(r,void 0,i,t)}function sn(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:r="/",children:t=null,location:i,navigationType:a="POP",navigator:c,static:h=!1}){mt(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),x=$.useMemo(()=>({basename:p,navigator:c,static:h,future:{}}),[p,c,h]);typeof i=="string"&&(i=Lo(i));let{pathname:y="/",search:v="",hash:w="",state:j=null,key:T="default"}=i,A=$.useMemo(()=>{let C=ys(y,p);return C==null?null:{location:{pathname:C,search:v,hash:w,state:j,key:T},navigationType:a}},[p,y,v,w,j,T,a]);return Mi(A!=null,`<Router basename="${p}"> is not able to match the URL "${y}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:$.createElement(Pi.Provider,{value:x},$.createElement(vc.Provider,{children:t,value:A}))}function E1({children:r,location:t}){return f1(Bm(r),t)}function Bm(r,t=[]){let i=[];return $.Children.forEach(r,(a,c)=>{if(!$.isValidElement(a))return;let h=[...t,c];if(a.type===$.Fragment){i.push.apply(i,Bm(a.props.children,h));return}mt(a.type===sn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=Bm(a.props.children,h)),i.push(p)}),i}var yd="get",xd="application/x-www-form-urlencoded";function Zd(r){return r!=null&&typeof r.tagName=="string"}function A1(r){return Zd(r)&&r.tagName.toLowerCase()==="button"}function C1(r){return Zd(r)&&r.tagName.toLowerCase()==="form"}function O1(r){return Zd(r)&&r.tagName.toLowerCase()==="input"}function k1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function R1(r,t){return r.button===0&&(!t||t==="_self")&&!k1(r)}var id=null;function L1(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var M1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!M1.has(r)?(Mi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):r}function P1(r,t){let i,a,c,h,p;if(C1(r)){let x=r.getAttribute("action");a=x?ys(x,t):null,i=r.getAttribute("method")||yd,c=lm(r.getAttribute("enctype"))||xd,h=new FormData(r)}else if(A1(r)||O1(r)&&(r.type==="submit"||r.type==="image")){let x=r.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||x.getAttribute("action");if(a=y?ys(y,t):null,i=r.getAttribute("formmethod")||x.getAttribute("method")||yd,c=lm(r.getAttribute("formenctype"))||lm(x.getAttribute("enctype"))||xd,h=new FormData(x,r),!L1()){let{name:v,type:w,value:j}=r;if(w==="image"){let T=v?`${v}.`:"";h.append(`${T}x`,"0"),h.append(`${T}y`,"0")}else v&&h.append(v,j)}}else{if(Zd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=yd,a=null,c=xd,p=r}return h&&c==="text/plain"&&(p=h,h=void 0),{action:a,method:i.toLowerCase(),encType:c,formData:h,body:p}}function Sp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function D1(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function B1(r,t,i){let a=await Promise.all(r.map(async c=>{let h=t.routes[c.route.id];if(h){let p=await D1(h,i);return p.links?p.links():[]}return[]}));return $1(a.flat(1).filter(I1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function uv(r,t,i,a,c,h){let p=(y,v)=>i[v]?y.route.id!==i[v].route.id:!0,x=(y,v)=>{var w;return i[v].pathname!==y.pathname||((w=i[v].route.path)==null?void 0:w.endsWith("*"))&&i[v].params["*"]!==y.params["*"]};return h==="assets"?t.filter((y,v)=>p(y,v)||x(y,v)):h==="data"?t.filter((y,v)=>{var j;let w=a.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(p(y,v)||x(y,v))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((j=i[0])==null?void 0:j.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function z1(r,t,{includeHydrateFallback:i}={}){return U1(r.map(a=>{let c=t.routes[a.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function U1(r){return[...new Set(r)]}function G1(r){let t={},i=Object.keys(r).sort();for(let a of i)t[a]=r[a];return t}function $1(r,t){let i=new Set;return new Set(t),r.reduce((a,c)=>{let h=JSON.stringify(G1(c));return i.has(h)||(i.add(h),a.push({key:h,link:c})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q1=new Set([100,101,204,205]);function H1(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&ys(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function z0(){let r=$.useContext(Mo);return Sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Z1(){let r=$.useContext(Hd);return Sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jp=$.createContext(void 0);jp.displayName="FrameworkContext";function U0(){let r=$.useContext(jp);return Sp(r,"You must render this element inside a <HydratedRouter> element"),r}function Q1(r,t){let i=$.useContext(jp),[a,c]=$.useState(!1),[h,p]=$.useState(!1),{onFocus:x,onBlur:y,onMouseEnter:v,onMouseLeave:w,onTouchStart:j}=t,T=$.useRef(null);$.useEffect(()=>{if(r==="render"&&p(!0),r==="viewport"){let M=z=>{z.forEach(k=>{p(k.isIntersecting)})},U=new IntersectionObserver(M,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[r]),$.useEffect(()=>{if(a){let M=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(M)}}},[a]);let A=()=>{c(!0)},C=()=>{c(!1),p(!1)};return i?r!=="intent"?[h,T,{}]:[h,T,{onFocus:Zl(x,A),onBlur:Zl(y,C),onMouseEnter:Zl(v,A),onMouseLeave:Zl(w,C),onTouchStart:Zl(j,A)}]:[!1,T,{}]}function Zl(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function F1({page:r,...t}){let{router:i}=z0(),a=$.useMemo(()=>A0(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?$.createElement(Y1,{page:r,matches:a,...t}):null}function V1(r){let{manifest:t,routeModules:i}=U0(),[a,c]=$.useState([]);return $.useEffect(()=>{let h=!1;return B1(r,t,i).then(p=>{h||c(p)}),()=>{h=!0}},[r,t,i]),a}function Y1({page:r,matches:t,...i}){let a=fr(),{manifest:c,routeModules:h}=U0(),{basename:p}=z0(),{loaderData:x,matches:y}=Z1(),v=$.useMemo(()=>uv(r,t,y,c,a,"data"),[r,t,y,c,a]),w=$.useMemo(()=>uv(r,t,y,c,a,"assets"),[r,t,y,c,a]),j=$.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let C=new Set,M=!1;if(t.forEach(z=>{var B;let k=c.routes[z.route.id];!k||!k.hasLoader||(!v.some(P=>P.route.id===z.route.id)&&z.route.id in x&&((B=h[z.route.id])!=null&&B.shouldRevalidate)||k.hasClientLoader?M=!0:C.add(z.route.id))}),C.size===0)return[];let U=H1(r,p);return M&&C.size>0&&U.searchParams.set("_routes",t.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[U.pathname+U.search]},[p,x,a,c,v,t,r,h]),T=$.useMemo(()=>z1(w,c),[w,c]),A=V1(w);return $.createElement($.Fragment,null,j.map(C=>$.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),T.map(C=>$.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),A.map(({key:C,link:M})=>$.createElement("link",{key:C,...M})))}function K1(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.6.1")}catch{}function W1({basename:r,children:t,window:i}){let a=$.useRef();a.current==null&&(a.current=IS({window:i,v5Compat:!0}));let c=a.current,[h,p]=$.useState({action:c.action,location:c.location}),x=$.useCallback(y=>{$.startTransition(()=>p(y))},[p]);return $.useLayoutEffect(()=>c.listen(x),[c,x]),$.createElement(T1,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:c})}var $0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=$.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:c,reloadDocument:h,replace:p,state:x,target:y,to:v,preventScrollReset:w,viewTransition:j,...T},A){let{basename:C}=$.useContext(Pi),M=typeof v=="string"&&$0.test(v),U,z=!1;if(typeof v=="string"&&M&&(U=v,G0))try{let me=new URL(window.location.href),Le=v.startsWith("//")?new URL(me.protocol+v):new URL(v),_e=ys(Le.pathname,C);Le.origin===me.origin&&_e!=null?v=_e+Le.search+Le.hash:z=!0}catch{Mi(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=u1(v,{relative:c}),[B,P,R]=Q1(a,T),X=tj(v,{replace:p,state:x,target:y,preventScrollReset:w,relative:c,viewTransition:j});function ae(me){t&&t(me),me.defaultPrevented||X(me)}let re=$.createElement("a",{...T,...R,href:U||k,onClick:z||h?t:ae,ref:K1(A,P),target:y,"data-discover":!M&&i==="render"?"true":void 0});return B&&!M?$.createElement($.Fragment,null,re,$.createElement(F1,{page:k})):re});Nt.displayName="Link";var J1=$.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:c=!1,style:h,to:p,viewTransition:x,children:y,...v},w){let j=bc(p,{relative:v.relative}),T=fr(),A=$.useContext(Hd),{navigator:C,basename:M}=$.useContext(Pi),U=A!=null&&rj(j)&&x===!0,z=C.encodeLocation?C.encodeLocation(j).pathname:j.pathname,k=T.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(k=k.toLowerCase(),B=B?B.toLowerCase():null,z=z.toLowerCase()),B&&M&&(B=ys(B,M)||B);const P=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let R=k===z||!c&&k.startsWith(z)&&k.charAt(P)==="/",X=B!=null&&(B===z||!c&&B.startsWith(z)&&B.charAt(z.length)==="/"),ae={isActive:R,isPending:X,isTransitioning:U},re=R?t:void 0,me;typeof a=="function"?me=a(ae):me=[a,R?"active":null,X?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let Le=typeof h=="function"?h(ae):h;return $.createElement(Nt,{...v,"aria-current":re,className:me,ref:w,style:Le,to:p,viewTransition:x},typeof y=="function"?y(ae):y)});J1.displayName="NavLink";var X1=$.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:c,state:h,method:p=yd,action:x,onSubmit:y,relative:v,preventScrollReset:w,viewTransition:j,...T},A)=>{let C=sj(),M=aj(x,{relative:v}),U=p.toLowerCase()==="get"?"get":"post",z=typeof x=="string"&&$0.test(x),k=B=>{if(y&&y(B),B.defaultPrevented)return;B.preventDefault();let P=B.nativeEvent.submitter,R=(P==null?void 0:P.getAttribute("formmethod"))||p;C(P||B.currentTarget,{fetcherKey:t,method:R,navigate:i,replace:c,state:h,relative:v,preventScrollReset:w,viewTransition:j})};return $.createElement("form",{ref:A,method:U,action:M,onSubmit:a?y:k,...T,"data-discover":!z&&r==="render"?"true":void 0})});X1.displayName="Form";function ej(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(r){let t=$.useContext(Mo);return mt(t,ej(r)),t}function tj(r,{target:t,replace:i,state:a,preventScrollReset:c,relative:h,viewTransition:p}={}){let x=d1(),y=fr(),v=bc(r,{relative:h});return $.useCallback(w=>{if(R1(w,t)){w.preventDefault();let j=i!==void 0?i:fc(y)===fc(v);x(r,{replace:j,state:a,preventScrollReset:c,relative:h,viewTransition:p})}},[y,x,v,i,a,t,r,c,h,p])}var nj=0,ij=()=>`__${String(++nj)}__`;function sj(){let{router:r}=q0("useSubmit"),{basename:t}=$.useContext(Pi),i=w1();return $.useCallback(async(a,c={})=>{let{action:h,method:p,encType:x,formData:y,body:v}=P1(a,t);if(c.navigate===!1){let w=c.fetcherKey||ij();await r.fetch(w,i,c.action||h,{preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||x,flushSync:c.flushSync})}else await r.navigate(c.action||h,{preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||x,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,t,i])}function aj(r,{relative:t}={}){let{basename:i}=$.useContext(Pi),a=$.useContext(vs);mt(a,"useFormAction must be used inside a RouteContext");let[c]=a.matches.slice(-1),h={...bc(r||".",{relative:t})},p=fr();if(r==null){h.search=p.search;let x=new URLSearchParams(h.search),y=x.getAll("index");if(y.some(w=>w==="")){x.delete("index"),y.filter(j=>j).forEach(j=>x.append("index",j));let w=x.toString();h.search=w?`?${w}`:""}}return(!r||r===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:gs([i,h.pathname])),fc(h)}function rj(r,t={}){let i=$.useContext(M0);mt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=q0("useViewTransitionState"),c=bc(r,{relative:t.relative});if(!i.isTransitioning)return!1;let h=ys(i.currentLocation.pathname,a)||i.currentLocation.pathname,p=ys(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Od(c.pathname,p)!=null||Od(c.pathname,h)!=null}[...q1];var oj=E0(),cm,dv;function lj(){if(dv)return cm;dv=1;var r=typeof Element<"u",t=typeof Map=="function",i=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function c(h,p){if(h===p)return!0;if(h&&p&&typeof h=="object"&&typeof p=="object"){if(h.constructor!==p.constructor)return!1;var x,y,v;if(Array.isArray(h)){if(x=h.length,x!=p.length)return!1;for(y=x;y--!==0;)if(!c(h[y],p[y]))return!1;return!0}var w;if(t&&h instanceof Map&&p instanceof Map){if(h.size!==p.size)return!1;for(w=h.entries();!(y=w.next()).done;)if(!p.has(y.value[0]))return!1;for(w=h.entries();!(y=w.next()).done;)if(!c(y.value[1],p.get(y.value[0])))return!1;return!0}if(i&&h instanceof Set&&p instanceof Set){if(h.size!==p.size)return!1;for(w=h.entries();!(y=w.next()).done;)if(!p.has(y.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(h)&&ArrayBuffer.isView(p)){if(x=h.length,x!=p.length)return!1;for(y=x;y--!==0;)if(h[y]!==p[y])return!1;return!0}if(h.constructor===RegExp)return h.source===p.source&&h.flags===p.flags;if(h.valueOf!==Object.prototype.valueOf&&typeof h.valueOf=="function"&&typeof p.valueOf=="function")return h.valueOf()===p.valueOf();if(h.toString!==Object.prototype.toString&&typeof h.toString=="function"&&typeof p.toString=="function")return h.toString()===p.toString();if(v=Object.keys(h),x=v.length,x!==Object.keys(p).length)return!1;for(y=x;y--!==0;)if(!Object.prototype.hasOwnProperty.call(p,v[y]))return!1;if(r&&h instanceof Element)return!1;for(y=x;y--!==0;)if(!((v[y]==="_owner"||v[y]==="__v"||v[y]==="__o")&&h.$$typeof)&&!c(h[v[y]],p[v[y]]))return!1;return!0}return h!==h&&p!==p}return cm=function(p,x){try{return c(p,x)}catch(y){if((y.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw y}},cm}var cj=lj();const uj=Ro(cj);var um,hv;function dj(){if(hv)return um;hv=1;var r=function(t,i,a,c,h,p,x,y){if(!t){var v;if(i===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[a,c,h,p,x,y],j=0;v=new Error(i.replace(/%s/g,function(){return w[j++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return um=r,um}var hj=dj();const fv=Ro(hj);var dm,mv;function fj(){return mv||(mv=1,dm=function(t,i,a,c){var h=a?a.call(c,t,i):void 0;if(h!==void 0)return!!h;if(t===i)return!0;if(typeof t!="object"||!t||typeof i!="object"||!i)return!1;var p=Object.keys(t),x=Object.keys(i);if(p.length!==x.length)return!1;for(var y=Object.prototype.hasOwnProperty.bind(i),v=0;v<p.length;v++){var w=p[v];if(!y(w))return!1;var j=t[w],T=i[w];if(h=a?a.call(c,j,T,w):void 0,h===!1||h===void 0&&j!==T)return!1}return!0}),dm}var mj=fj();const pj=Ro(mj);var H0=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(H0||{}),hm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},pv=Object.values(H0),Np={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},gj=Object.entries(Np).reduce((r,[t,i])=>(r[i]=t,r),{}),mi="data-rh",Eo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ao=(r,t)=>{for(let i=r.length-1;i>=0;i-=1){const a=r[i];if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}return null},yj=r=>{let t=Ao(r,"title");const i=Ao(r,Eo.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),i&&t)return i.replace(/%s/g,()=>t);const a=Ao(r,Eo.DEFAULT_TITLE);return t||a||void 0},xj=r=>Ao(r,Eo.ON_CHANGE_CLIENT_STATE)||(()=>{}),fm=(r,t)=>t.filter(i=>typeof i[r]<"u").map(i=>i[r]).reduce((i,a)=>({...i,...a}),{}),vj=(r,t)=>t.filter(i=>typeof i.base<"u").map(i=>i.base).reverse().reduce((i,a)=>{if(!i.length){const c=Object.keys(a);for(let h=0;h<c.length;h+=1){const x=c[h].toLowerCase();if(r.indexOf(x)!==-1&&a[x])return i.concat(a)}}return i},[]),_j=r=>console&&typeof console.warn=="function"&&console.warn(r),Ql=(r,t,i)=>{const a={};return i.filter(c=>Array.isArray(c[r])?!0:(typeof c[r]<"u"&&_j(`Helmet: ${r} should be of type "Array". Instead found type "${typeof c[r]}"`),!1)).map(c=>c[r]).reverse().reduce((c,h)=>{const p={};h.filter(y=>{let v;const w=Object.keys(y);for(let T=0;T<w.length;T+=1){const A=w[T],C=A.toLowerCase();t.indexOf(C)!==-1&&!(v==="rel"&&y[v].toLowerCase()==="canonical")&&!(C==="rel"&&y[C].toLowerCase()==="stylesheet")&&(v=C),t.indexOf(A)!==-1&&(A==="innerHTML"||A==="cssText"||A==="itemprop")&&(v=A)}if(!v||!y[v])return!1;const j=y[v].toLowerCase();return a[v]||(a[v]={}),p[v]||(p[v]={}),a[v][j]?!1:(p[v][j]=!0,!0)}).reverse().forEach(y=>c.push(y));const x=Object.keys(p);for(let y=0;y<x.length;y+=1){const v=x[y],w={...a[v],...p[v]};a[v]=w}return c},[]).reverse()},bj=(r,t)=>{if(Array.isArray(r)&&r.length){for(let i=0;i<r.length;i+=1)if(r[i][t])return!0}return!1},wj=r=>({baseTag:vj(["href"],r),bodyAttributes:fm("bodyAttributes",r),defer:Ao(r,Eo.DEFER),encode:Ao(r,Eo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:fm("htmlAttributes",r),linkTags:Ql("link",["rel","href"],r),metaTags:Ql("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Ql("noscript",["innerHTML"],r),onChangeClientState:xj(r),scriptTags:Ql("script",["src","innerHTML"],r),styleTags:Ql("style",["cssText"],r),title:yj(r),titleAttributes:fm("titleAttributes",r),prioritizeSeoTags:bj(r,Eo.PRIORITIZE_SEO_TAGS)}),Z0=r=>Array.isArray(r)?r.join(""):r,Sj=(r,t)=>{const i=Object.keys(r);for(let a=0;a<i.length;a+=1)if(t[i[a]]&&t[i[a]].includes(r[i[a]]))return!0;return!1},mm=(r,t)=>Array.isArray(r)?r.reduce((i,a)=>(Sj(a,t)?i.priority.push(a):i.default.push(a),i),{priority:[],default:[]}):{default:r,priority:[]},gv=(r,t)=>({...r,[t]:void 0}),jj=["noscript","script","style"],zm=(r,t=!0)=>t===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Q0=r=>Object.keys(r).reduce((t,i)=>{const a=typeof r[i]<"u"?`${i}="${r[i]}"`:`${i}`;return t?`${t} ${a}`:a},""),Nj=(r,t,i,a)=>{const c=Q0(i),h=Z0(t);return c?`<${r} ${mi}="true" ${c}>${zm(h,a)}</${r}>`:`<${r} ${mi}="true">${zm(h,a)}</${r}>`},Tj=(r,t,i=!0)=>t.reduce((a,c)=>{const h=c,p=Object.keys(h).filter(v=>!(v==="innerHTML"||v==="cssText")).reduce((v,w)=>{const j=typeof h[w]>"u"?w:`${w}="${zm(h[w],i)}"`;return v?`${v} ${j}`:j},""),x=h.innerHTML||h.cssText||"",y=jj.indexOf(r)===-1;return`${a}<${r} ${mi}="true" ${p}${y?"/>":`>${x}</${r}>`}`},""),F0=(r,t={})=>Object.keys(r).reduce((i,a)=>{const c=Np[a];return i[c||a]=r[a],i},t),Ej=(r,t,i)=>{const a={key:t,[mi]:!0},c=F0(i,a);return[Bn.createElement("title",c,t)]},vd=(r,t)=>t.map((i,a)=>{const c={key:a,[mi]:!0};return Object.keys(i).forEach(h=>{const x=Np[h]||h;if(x==="innerHTML"||x==="cssText"){const y=i.innerHTML||i.cssText;c.dangerouslySetInnerHTML={__html:y}}else c[x]=i[h]}),Bn.createElement(r,c)}),Jn=(r,t,i=!0)=>{switch(r){case"title":return{toComponent:()=>Ej(r,t.title,t.titleAttributes),toString:()=>Nj(r,t.title,t.titleAttributes,i)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>F0(t),toString:()=>Q0(t)};default:return{toComponent:()=>vd(r,t),toString:()=>Tj(r,t,i)}}},Aj=({metaTags:r,linkTags:t,scriptTags:i,encode:a})=>{const c=mm(r,hm.meta),h=mm(t,hm.link),p=mm(i,hm.script);return{priorityMethods:{toComponent:()=>[...vd("meta",c.priority),...vd("link",h.priority),...vd("script",p.priority)],toString:()=>`${Jn("meta",c.priority,a)} ${Jn("link",h.priority,a)} ${Jn("script",p.priority,a)}`},metaTags:c.default,linkTags:h.default,scriptTags:p.default}},Cj=r=>{const{baseTag:t,bodyAttributes:i,encode:a=!0,htmlAttributes:c,noscriptTags:h,styleTags:p,title:x="",titleAttributes:y,prioritizeSeoTags:v}=r;let{linkTags:w,metaTags:j,scriptTags:T}=r,A={toComponent:()=>{},toString:()=>""};return v&&({priorityMethods:A,linkTags:w,metaTags:j,scriptTags:T}=Aj(r)),{priority:A,base:Jn("base",t,a),bodyAttributes:Jn("bodyAttributes",i,a),htmlAttributes:Jn("htmlAttributes",c,a),link:Jn("link",w,a),meta:Jn("meta",j,a),noscript:Jn("noscript",h,a),script:Jn("script",T,a),style:Jn("style",p,a),title:Jn("title",{title:x,titleAttributes:y},a)}},Um=Cj,sd=[],V0=!!(typeof window<"u"&&window.document&&window.document.createElement),Gm=class{constructor(r,t){hs(this,"instances",[]);hs(this,"canUseDOM",V0);hs(this,"context");hs(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?sd:this.instances,add:r=>{(this.canUseDOM?sd:this.instances).push(r)},remove:r=>{const t=(this.canUseDOM?sd:this.instances).indexOf(r);(this.canUseDOM?sd:this.instances).splice(t,1)}}});this.context=r,this.canUseDOM=t||!1,t||(r.helmet=Um({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Oj={},Y0=Bn.createContext(Oj),ur,kj=(ur=class extends $.Component{constructor(i){super(i);hs(this,"helmetData");this.helmetData=new Gm(this.props.context||{},ur.canUseDOM)}render(){return Bn.createElement(Y0.Provider,{value:this.helmetData.value},this.props.children)}},hs(ur,"canUseDOM",V0),ur),ao=(r,t)=>{const i=document.head||document.querySelector("head"),a=i.querySelectorAll(`${r}[${mi}]`),c=[].slice.call(a),h=[];let p;return t&&t.length&&t.forEach(x=>{const y=document.createElement(r);for(const v in x)if(Object.prototype.hasOwnProperty.call(x,v))if(v==="innerHTML")y.innerHTML=x.innerHTML;else if(v==="cssText")y.styleSheet?y.styleSheet.cssText=x.cssText:y.appendChild(document.createTextNode(x.cssText));else{const w=v,j=typeof x[w]>"u"?"":x[w];y.setAttribute(v,j)}y.setAttribute(mi,"true"),c.some((v,w)=>(p=w,y.isEqualNode(v)))?c.splice(p,1):h.push(y)}),c.forEach(x=>{var y;return(y=x.parentNode)==null?void 0:y.removeChild(x)}),h.forEach(x=>i.appendChild(x)),{oldTags:c,newTags:h}},$m=(r,t)=>{const i=document.getElementsByTagName(r)[0];if(!i)return;const a=i.getAttribute(mi),c=a?a.split(","):[],h=[...c],p=Object.keys(t);for(const x of p){const y=t[x]||"";i.getAttribute(x)!==y&&i.setAttribute(x,y),c.indexOf(x)===-1&&c.push(x);const v=h.indexOf(x);v!==-1&&h.splice(v,1)}for(let x=h.length-1;x>=0;x-=1)i.removeAttribute(h[x]);c.length===h.length?i.removeAttribute(mi):i.getAttribute(mi)!==p.join(",")&&i.setAttribute(mi,p.join(","))},Rj=(r,t)=>{typeof r<"u"&&document.title!==r&&(document.title=Z0(r)),$m("title",t)},yv=(r,t)=>{const{baseTag:i,bodyAttributes:a,htmlAttributes:c,linkTags:h,metaTags:p,noscriptTags:x,onChangeClientState:y,scriptTags:v,styleTags:w,title:j,titleAttributes:T}=r;$m("body",a),$m("html",c),Rj(j,T);const A={baseTag:ao("base",i),linkTags:ao("link",h),metaTags:ao("meta",p),noscriptTags:ao("noscript",x),scriptTags:ao("script",v),styleTags:ao("style",w)},C={},M={};Object.keys(A).forEach(U=>{const{newTags:z,oldTags:k}=A[U];z.length&&(C[U]=z),k.length&&(M[U]=A[U].oldTags)}),t&&t(),y(r,C,M)},Fl=null,Lj=r=>{Fl&&cancelAnimationFrame(Fl),r.defer?Fl=requestAnimationFrame(()=>{yv(r,()=>{Fl=null})}):(yv(r),Fl=null)},Mj=Lj,xv=class extends $.Component{constructor(){super(...arguments);hs(this,"rendered",!1)}shouldComponentUpdate(t){return!pj(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:i}=this.props.context;let a=null;const c=wj(t.get().map(h=>{const p={...h.props};return delete p.context,p}));kj.canUseDOM?Mj(c):Um&&(a=Um(c)),i(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Dm,Pj=(Dm=class extends $.Component{shouldComponentUpdate(r){return!uj(gv(this.props,"helmetData"),gv(r,"helmetData"))}mapNestedChildrenToProps(r,t){if(!t)return null;switch(r.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,t,i,a){return{...t,[r.type]:[...t[r.type]||[],{...i,...this.mapNestedChildrenToProps(r,a)}]}}mapObjectTypeChildren(r,t,i,a){switch(r.type){case"title":return{...t,[r.type]:a,titleAttributes:{...i}};case"body":return{...t,bodyAttributes:{...i}};case"html":return{...t,htmlAttributes:{...i}};default:return{...t,[r.type]:{...i}}}}mapArrayTypeChildrenToProps(r,t){let i={...t};return Object.keys(r).forEach(a=>{i={...i,[a]:r[a]}}),i}warnOnInvalidChildren(r,t){return fv(pv.some(i=>r.type===i),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${pv.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),fv(!t||typeof t=="string"||Array.isArray(t)&&!t.some(i=>typeof i!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,t){let i={};return Bn.Children.forEach(r,a=>{if(!a||!a.props)return;const{children:c,...h}=a.props,p=Object.keys(h).reduce((y,v)=>(y[gj[v]||v]=h[v],y),{});let{type:x}=a;switch(typeof x=="symbol"?x=x.toString():this.warnOnInvalidChildren(a,c),x){case"Symbol(react.fragment)":t=this.mapChildrenToProps(c,t);break;case"link":case"meta":case"noscript":case"script":case"style":i=this.flattenArrayTypeChildren(a,i,p,c);break;default:t=this.mapObjectTypeChildren(a,t,p,c);break}}),this.mapArrayTypeChildrenToProps(i,t)}render(){const{children:r,...t}=this.props;let i={...t},{helmetData:a}=t;if(r&&(i=this.mapChildrenToProps(r,i)),a&&!(a instanceof Gm)){const c=a;a=new Gm(c.context,!0),delete i.helmetData}return a?Bn.createElement(xv,{...i,context:a.value}):Bn.createElement(Y0.Consumer,null,c=>Bn.createElement(xv,{...i,context:c}))}},hs(Dm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Dm);const Dj=({title:r="Vector for Good - Privacy-First Safety Intelligence | Queer Intelligence (QI)",description:t="Revolutionary Queer Intelligence (QI) framework empowering LGBTQ+ communities with AI-powered safety intelligence. NVIDIA Inception member providing global safety data for 195+ countries.",keywords:i="LGBTQ+ safety, queer intelligence, AI safety, privacy-first technology, Vector for Good, IQSF, NVIDIA Inception, QSi map, zero-knowledge privacy, AI agents, safety intelligence",image:a="/apple-touch-icon.png",url:c="https://vector-for-good.vercel.app",type:h="website",structuredData:p=null})=>{const x=r.includes("Vector for Good")?r:`${r} | Vector for Good`,y=c.startsWith("http")?c:`https://vector-for-good.vercel.app${c}`,v=a.startsWith("http")?a:`https://vector-for-good.vercel.app${a}`;return l.jsxs(Pj,{children:[l.jsx("title",{children:x}),l.jsx("meta",{name:"description",content:t}),l.jsx("meta",{name:"keywords",content:i}),l.jsx("link",{rel:"canonical",href:y}),l.jsx("meta",{property:"og:title",content:x}),l.jsx("meta",{property:"og:description",content:t}),l.jsx("meta",{property:"og:image",content:v}),l.jsx("meta",{property:"og:url",content:y}),l.jsx("meta",{property:"og:type",content:h}),l.jsx("meta",{property:"og:site_name",content:"Vector for Good"}),l.jsx("meta",{property:"og:locale",content:"en_US"}),l.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{name:"twitter:title",content:x}),l.jsx("meta",{name:"twitter:description",content:t}),l.jsx("meta",{name:"twitter:image",content:v}),l.jsx("meta",{name:"twitter:site",content:"@VectorForGood"}),l.jsx("meta",{name:"twitter:creator",content:"@LeviHankins"}),l.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),l.jsx("meta",{name:"author",content:"Vector for Good PBC"}),l.jsx("meta",{name:"publisher",content:"Vector for Good PBC"}),l.jsx("meta",{name:"copyright",content:" 2025 Vector for Good PBC. All rights reserved."}),p&&l.jsx("script",{type:"application/ld+json",children:JSON.stringify(p)})]})},Ij=()=>l.jsx(Dj,{title:"Vector for Good - Privacy-First Safety Intelligence | Queer Intelligence (QI) | LGBTQ+ AI Platform",description:"Revolutionary Queer Intelligence (QI) framework empowering LGBTQ+ communities worldwide. AI-powered safety intelligence, zero-knowledge privacy, and global QSi map covering 195+ countries. NVIDIA Inception member.",keywords:"LGBTQ+ safety, queer intelligence, AI safety, privacy-first technology, Vector for Good, IQSF, NVIDIA Inception, QSi map, zero-knowledge privacy, AI agents, safety intelligence, LGBTQ+ travel safety, queer community protection",url:"/"}),Bj=()=>{const[r,t]=$.useState(""),i=async()=>{t("AI system is connecting...");try{const a=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-cBeWLnHvQ6E4XZ7rLn444H"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are Vector for Good's AI assistant. Provide helpful information about LGBTQ+ safety."},{role:"user",content:"Tell me about Vector for Good in one sentence."}],max_tokens:100})});if(a.ok){const c=await a.json();t(c.choices[0].message.content)}else t("Vector for Good provides AI-powered safety intelligence for LGBTQ+ communities worldwide, helping people travel and live safely while protecting their privacy.")}catch{t("Vector for Good provides AI-powered safety intelligence for LGBTQ+ communities worldwide, helping people travel and live safely while protecting their privacy.")}};return l.jsxs(l.Fragment,{children:[l.jsx(Ij,{}),l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-pink-900",children:[l.jsx("nav",{className:"bg-black/20 backdrop-blur-sm border-b border-white/10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:"/images/vector-logo-hero.png",alt:"Vector for Good",className:"h-8 w-auto",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="block"}}),l.jsx("span",{className:"text-white text-xl font-bold ml-3",style:{display:"none"},children:"Vector for Good"})]}),l.jsx("div",{className:"hidden md:block",children:l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsx("a",{href:"/qsi-map",className:"text-white hover:text-blue-300 transition-colors",children:"QSi Map"}),l.jsx("a",{href:"/ai-agents",className:"text-white hover:text-purple-300 transition-colors",children:"AI Agents"}),l.jsx("a",{href:"/queer-intelligence",className:"text-white hover:text-purple-300 transition-colors",children:"Queer Intelligence"}),l.jsx("a",{href:"/jane-goodall-memorial",className:"text-white hover:text-purple-300 transition-colors",children:"Jane Goodall"}),l.jsx("a",{href:"/enterprise",className:"text-white hover:text-blue-300 transition-colors",children:"Enterprise"}),l.jsx("a",{href:"/contact",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Contact"})]})})]})})}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("img",{src:"/images/vector-logo-hero.png",alt:"Vector for Good",className:"h-32 w-auto mx-auto drop-shadow-2xl",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="block"}}),l.jsx("div",{className:"h-32 w-64 mx-auto bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center text-white text-2xl font-bold",style:{display:"none"},children:"Vector for Good"})]}),l.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:["Privacy-First"," ",l.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Safety Intelligence"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-3xl mx-auto",children:"Empowering LGBTQ+ communities worldwide with AI-powered safety intelligence. Protecting what matters most while preserving privacy and human dignity."}),l.jsx("div",{className:"inline-flex items-center bg-green-500/20 text-green-400 px-6 py-3 rounded-full text-lg font-semibold mb-8",children:" NVIDIA Inception Member - GPU Accelerated AI"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-12",children:[l.jsx("button",{onClick:i,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold shadow-2xl hover:shadow-blue-500/50 transition-all duration-300 hover:scale-105",children:"Chat with AI Agent"}),l.jsx("a",{href:"/qsi-map",className:"bg-white/10 backdrop-blur-sm text-white px-8 py-4 rounded-2xl text-lg font-semibold border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:"Explore QSi Map"})]}),r&&l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-2xl p-6 max-w-2xl mx-auto",children:[l.jsx("h3",{className:"text-white font-semibold mb-3",children:"AI Agent Response:"}),l.jsx("p",{className:"text-gray-300",children:r})]})]})}),l.jsx("div",{className:"py-20 bg-black/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsx("h2",{className:"text-4xl font-bold text-center text-white mb-16",children:"Trusted by Communities Worldwide"}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Safe Travel Planning",description:"Plan your next adventure with confidence using comprehensive safety data.",image:"/images/traveler-train.png"},{title:"Community Safety",description:"Empower your community with real-time safety intelligence.",image:"/images/community-panel.png"},{title:"Enterprise Solutions",description:"Protect your employees with enterprise-grade safety intelligence.",image:"/images/business-presentation.png"}].map((a,c)=>l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all duration-300",children:[l.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover rounded-xl mb-6",onError:h=>{h.target.style.display="none",h.target.nextSibling.style.display="block"}}),l.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl mb-6 flex items-center justify-center text-white text-lg font-semibold",style:{display:"none"},children:a.title}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:a.title}),l.jsx("p",{className:"text-gray-300",children:a.description})]},c))})]})}),l.jsx("div",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{number:"195+",label:"Countries Covered"},{number:"10K+",label:"Cities Analyzed"},{number:"50K+",label:"Safety Reports"},{number:"99.9%",label:"Privacy Protected"}].map((a,c)=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:a.number}),l.jsx("div",{className:"text-gray-300 font-medium",children:a.label})]},c))})})}),l.jsx("footer",{className:"bg-black/50 border-t border-white/10 py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"Vector for Good"}),l.jsx("p",{className:"text-gray-400",children:"Privacy-first safety intelligence for LGBTQ+ communities worldwide."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold mb-4",children:"Features"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"/qsi-map",className:"text-gray-400 hover:text-white transition-colors",children:"QSi Map"})}),l.jsx("li",{children:l.jsx("a",{href:"/ai-agents",className:"text-gray-400 hover:text-white transition-colors",children:"AI Agents"})}),l.jsx("li",{children:l.jsx("a",{href:"/zk-demo",className:"text-gray-400 hover:text-white transition-colors",children:"Zero-Knowledge Demo"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About"})}),l.jsx("li",{children:l.jsx("a",{href:"/jane-goodall-memorial",className:"text-gray-400 hover:text-white transition-colors",children:"Jane Goodall Memorial"})}),l.jsx("li",{children:l.jsx("a",{href:"/careers",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),l.jsx("li",{children:l.jsx("a",{href:"/resources",className:"text-gray-400 hover:text-white transition-colors",children:"Resources"})}),l.jsx("li",{children:l.jsx("a",{href:"/enterprise",className:"text-gray-400 hover:text-white transition-colors",children:"Enterprise"})})]})]})]}),l.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center",children:l.jsx("p",{className:"text-gray-400",children:" 2024 Vector for Good. All rights reserved. | NVIDIA Inception Member"})})]})})]})]})};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),vv=r=>{const t=Uj(r);return t.charAt(0).toUpperCase()+t.slice(1)},K0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Gj=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=$.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:h,iconNode:p,...x},y)=>$.createElement("svg",{ref:y,...$j,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:K0("lucide",c),...!h&&!Gj(x)&&{"aria-hidden":"true"},...x},[...p.map(([v,w])=>$.createElement(v,w)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(r,t)=>{const i=$.forwardRef(({className:a,...c},h)=>$.createElement(qj,{ref:h,iconNode:t,className:K0(`lucide-${zj(vv(r))}`,`lucide-${r}`,a),...c}));return i.displayName=vv(r),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Tp=Ae("arrow-left",Hj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mc=Ae("arrow-right",Zj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qm=Ae("award",Qj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],_v=Ae("book",Fj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pm=Ae("bot",Vj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Oo=Ae("brain",Yj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hm=Ae("calendar",Kj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Jj=Ae("chart-column",Wj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eN=Ae("circle-alert",Xj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_a=Ae("circle-check-big",tN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],iN=Ae("circle-play",nN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],W0=Ae("clock",sN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],bv=Ae("code",aN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],oN=Ae("coffee",rN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],cN=Ae("database",lN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],gm=Ae("download",uN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],J0=Ae("external-link",dN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ep=Ae("eye-off",hN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qd=Ae("eye",fN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],X0=Ae("file-text",mN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gN=Ae("funnel",pN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Un=Ae("globe",yN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],vN=Ae("hash",xN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],pi=Ae("heart",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wN=Ae("house",bN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jN=Ae("info",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],TN=Ae("key",NN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],AN=Ae("laptop",EN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ON=Ae("lightbulb",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xs=Ae("lock",kN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],e_=Ae("mail",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pc=Ae("map-pin",LN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],t_=Ae("message-circle",MN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],n_=Ae("phone",PN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],IN=Ae("quote",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M22 17a10 10 0 0 0-20 0",key:"ozegv"}],["path",{d:"M6 17a6 6 0 0 1 12 0",key:"5giftw"}],["path",{d:"M10 17a2 2 0 0 1 4 0",key:"gnsikk"}]],Zm=Ae("rainbow",BN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],UN=Ae("scale",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wv=Ae("search",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_d=Ae("send",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tt=Ae("shield",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],i_=Ae("sparkles",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],va=Ae("star",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],FN=Ae("target",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qm=Ae("triangle-alert",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],KN=Ae("user-check",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JN=Ae("user",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zn=Ae("users",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],t2=Ae("video",e2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dr=Ae("zap",n2),i2=()=>{const[r,t]=$.useState({name:"",email:"",organization:"",message:"",pilotType:"enterprise"}),[i,a]=$.useState([{type:"agent",message:"Hey gorgeous!  I'm Quinn, your fabulous AI assistant! Ready to make some magic happen? What can this fierce digital diva help you with today? "}]),[c,h]=$.useState(""),[p,x]=$.useState(!1),y=["Honey, you're speaking my language! Let me connect you with our amazing team faster than you can say 'rainbow flag'! ","Oh darling, that's absolutely ICONIC! Our team is going to LIVE for this conversation! ","Sweetie, you've come to the right place! We're about to serve you some serious safety intelligence realness! ","Baby, that question is giving me LIFE! Let me get you the tea on how we can help! ","Gorgeous, you're asking all the right questions! Our team is going to be SO excited to chat with you! ","Hun, that's what I call a power move! Let's get you connected with our fabulous experts! ","Darling, you're absolutely glowing with good ideas! Our team can't wait to collaborate! ","Babe, that's giving me major visionary vibes! Let's make some beautiful things happen together! "],v=T=>{T.preventDefault(),console.log("Form submitted:",r),alert("Thank you for your interest! We will contact you within 24 hours.")},w=T=>{t({...r,[T.target.name]:T.target.value})},j=T=>{if(T.preventDefault(),!c.trim())return;const A=[...i,{type:"user",message:c}];a(A),h(""),x(!0),setTimeout(()=>{const C=y[Math.floor(Math.random()*y.length)];a([...A,{type:"agent",message:C}]),x(!1)},1500)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-pink-900 py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Let's Connect &",l.jsxs("span",{className:"bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:[" ","Make Magic"]})]}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Ready to join the safety revolution? Our fabulous team is here to help you protect what matters most. Let's create something beautiful together! "})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-8 flex items-center",children:[l.jsx(Un,{className:"w-6 h-6 mr-3 text-purple-400"}),"Global Headquarters"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[l.jsx(pc,{className:"w-5 h-5 mr-2 text-blue-400"}),"Tallinn Headquarters"]}),l.jsxs("p",{className:"text-gray-300",children:["Vector For Good Ou",l.jsx("br",{}),"Tallinn, Estonia",l.jsx("br",{}),l.jsx("span",{className:"text-blue-400",children:" European Operations"})]})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[l.jsx(pc,{className:"w-5 h-5 mr-2 text-green-400"}),"US Operations"]}),l.jsxs("p",{className:"text-gray-300",children:["Vector For Good PBC",l.jsx("br",{}),"Dover, Delaware, USA",l.jsx("br",{}),l.jsx("span",{className:"text-green-400",children:" Americas Hub"})]})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Get In Touch"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center text-gray-300",children:[l.jsx(n_,{className:"w-5 h-5 mr-3 text-pink-400"}),l.jsx("span",{className:"font-mono text-lg",children:"619-83-QUEER"})]}),l.jsx("div",{className:"text-sm text-gray-400 ml-8",children:"(619-837-8337)"}),l.jsxs("div",{className:"flex items-center text-gray-300",children:[l.jsx(e_,{className:"w-5 h-5 mr-3 text-purple-400"}),l.jsx("span",{children:"hello@vectorforgood.com"})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-2xl p-6 border border-purple-400/30",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[l.jsx(pi,{className:"w-5 h-5 mr-2 text-red-400"}),"IQSF Partnership"]}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Proudly partnered with the International Queer Safety Foundation (501c3) to advance LGBTQ+ safety worldwide."})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[l.jsx(_d,{className:"w-6 h-6 mr-3 text-green-400"}),"Start Your Journey"]}),l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),l.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:w,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Your fabulous name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),l.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:w,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"your.email@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organization"}),l.jsx("input",{type:"text",name:"organization",value:r.organization,onChange:w,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Your amazing organization"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"How can we help?"}),l.jsxs("select",{name:"pilotType",value:r.pilotType,onChange:w,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[l.jsx("option",{value:"enterprise",className:"bg-gray-800",children:"Enterprise Safety Intelligence"}),l.jsx("option",{value:"nonprofit",className:"bg-gray-800",children:"Nonprofit Partnership"}),l.jsx("option",{value:"government",className:"bg-gray-800",children:"Government Collaboration"}),l.jsx("option",{value:"media",className:"bg-gray-800",children:"Media & Press Inquiry"}),l.jsx("option",{value:"other",className:"bg-gray-800",children:"Other Fabulous Ideas"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tell us more *"}),l.jsx("textarea",{name:"message",required:!0,rows:4,value:r.message,onChange:w,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Share your vision, goals, or questions. We're all ears! "})]})]}),l.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-xl font-semibold text-lg shadow-2xl hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105 flex items-center justify-center",children:[l.jsx(_d,{className:"w-5 h-5 mr-2"}),"Send Message "]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[l.jsx(t_,{className:"w-6 h-6 mr-3 text-pink-400"}),"Chat with Quinn AI",l.jsx(i_,{className:"w-5 h-5 ml-2 text-yellow-400"})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 h-80 overflow-y-auto mb-4 space-y-4",children:[i.map((T,A)=>l.jsx("div",{className:`flex ${T.type==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${T.type==="user"?"bg-purple-600 text-white":"bg-pink-500/20 text-white border border-pink-400/30"}`,children:[T.type==="agent"&&l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx(Zm,{className:"w-4 h-4 mr-1 text-pink-400"}),l.jsx("span",{className:"text-xs font-semibold text-pink-400",children:"Quinn AI"})]}),l.jsx("p",{className:"text-sm",children:T.message})]})},A)),p&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-pink-500/20 text-white border border-pink-400/30 px-4 py-2 rounded-2xl",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zm,{className:"w-4 h-4 mr-1 text-pink-400"}),l.jsx("span",{className:"text-xs font-semibold text-pink-400 mr-2",children:"Quinn AI"}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})})]}),l.jsxs("form",{onSubmit:j,className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:c,onChange:T=>h(T.target.value),placeholder:"Ask Quinn anything! ",className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"}),l.jsx("button",{type:"submit",className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white p-3 rounded-xl hover:scale-105 transition-all duration-300",children:l.jsx(_d,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("p",{className:"text-xs text-gray-400",children:"Quinn is our fabulous AI assistant with a little queer sass! "})})]})]}),l.jsx("div",{className:"mt-16 text-center",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8 max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Why Choose Vector for Good?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Tt,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Privacy-First"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Zero-knowledge architecture protects your data"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(Un,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Global Reach"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"195+ countries with comprehensive safety data"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(zn,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Community-Driven"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Built by and for the LGBTQ+ community"})]})]})]})})]})})},s2=()=>l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx(Tt,{className:"h-12 w-12 text-blue-600 mr-4"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Privacy Policy"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Your privacy is fundamental to our mission. Learn how we protect your data with zero-knowledge architecture."}),l.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Last updated: October 7, 2025"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Privacy Principles"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(xs,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Zero-Knowledge Architecture"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We never see your personal data. All processing happens on your device using cryptographic proofs."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Qd,{className:"w-6 h-6 text-purple-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Transparency"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We're open about what data we collect, how we use it, and how we protect it."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(cN,{className:"w-6 h-6 text-green-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Data Minimization"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We collect only what's necessary and delete data when it's no longer needed."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(KN,{className:"w-6 h-6 text-orange-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"User Control"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"You have complete control over your data and can delete it at any time."})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Information We Collect"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Zero-Knowledge Proofs"}),l.jsx("p",{className:"text-gray-600 mb-3",children:"When you use our QSi Map with personalized features, we receive only cryptographic proofs about your safety needsnever your actual personal information."}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What we receive:"}),l.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[l.jsx("li",{children:" Mathematical proofs that you have certain safety needs"}),l.jsx("li",{children:" Encrypted hashes that cannot be reversed to reveal personal data"}),l.jsx("li",{children:" Anonymous usage patterns for improving our algorithms"})]})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg mt-3",children:[l.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"What we never see:"}),l.jsxs("ul",{className:"text-red-800 text-sm space-y-1",children:[l.jsx("li",{children:" Your identity, location, or personal characteristics"}),l.jsx("li",{children:" Family composition or relationship details"}),l.jsx("li",{children:" Specific safety concerns or vulnerabilities"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Technical Information"}),l.jsx("p",{className:"text-gray-600 mb-3",children:"We collect minimal technical information to provide and improve our services:"}),l.jsxs("ul",{className:"text-gray-600 space-y-1 ml-4",children:[l.jsx("li",{children:" IP address (anonymized after 24 hours)"}),l.jsx("li",{children:" Browser type and version"}),l.jsx("li",{children:" Device type and operating system"}),l.jsx("li",{children:" Usage analytics (aggregated and anonymized)"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Information"}),l.jsx("p",{className:"text-gray-600",children:"When you contact us for enterprise services, we collect only the information you voluntarily provide (name, email, organization) to respond to your inquiry."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"How We Use Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Safety Intelligence"}),l.jsx("p",{className:"text-gray-600",children:"Zero-knowledge proofs help us provide personalized safety scores without compromising your privacy. We use these proofs to match you with relevant safety information while keeping your identity completely anonymous."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Service Improvement"}),l.jsx("p",{className:"text-gray-600",children:"Aggregated, anonymized usage data helps us improve our algorithms and identify areas where we can better serve the LGBTQ+ community."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Communication"}),l.jsx("p",{className:"text-gray-600",children:"We use contact information only to respond to your inquiries and provide requested services. We never sell or share your contact information."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Data Protection"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Encryption"}),l.jsx("p",{className:"text-gray-600",children:"All data transmission uses TLS 1.3 encryption. Personal data is encrypted on your device before any processing begins."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Access Controls"}),l.jsx("p",{className:"text-gray-600",children:"Access to our systems is strictly limited to authorized personnel who require it for their job functions. All access is logged and monitored."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Data Retention"}),l.jsx("p",{className:"text-gray-600",children:"We retain data only as long as necessary to provide our services. Anonymous usage analytics are retained for up to 2 years for service improvement."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Rights"}),l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[l.jsx("p",{className:"text-green-800 mb-4",children:"You have the following rights regarding your data:"}),l.jsxs("ul",{className:"text-green-700 space-y-2",children:[l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Access:"})," Request information about data we have about you"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Correction:"})," Request correction of inaccurate data"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Deletion:"})," Request deletion of your data"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Portability:"})," Request a copy of your data in a portable format"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Objection:"})," Object to processing of your data"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Restriction:"})," Request restriction of data processing"]})]}),l.jsx("p",{className:"text-green-700 mt-4",children:"To exercise these rights, contact us at privacy@vectorforgood.com"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Third-Party Services"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"We use minimal third-party services to operate our platform:"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Hosting & Infrastructure"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We use secure cloud hosting providers that comply with SOC 2 and ISO 27001 standards."})]}),l.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Analytics"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We use privacy-focused analytics that don't track individual users or store personal data."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contact Us"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),l.jsxs("div",{className:"space-y-2 text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," privacy@vectorforgood.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," Vector for Good Privacy Team"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"We will respond to all privacy inquiries within 30 days."})]})]})]}),l.jsx("section",{children:l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(eN,{className:"w-6 h-6 text-yellow-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Policy Updates"}),l.jsx("p",{className:"text-yellow-800 text-sm",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the new policy.'})]})]})})})]})]})}),a2=()=>l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx(X0,{className:"h-12 w-12 text-blue-600 mr-4"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Terms of Service"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"These terms govern your use of Vector for Good's safety intelligence platform and services."}),l.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Last updated: October 7, 2025"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Key Points"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(_a,{className:"w-6 h-6 text-green-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Free Community Access"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Our QSi Map and basic safety intelligence are free for personal use by LGBTQ+ individuals and communities."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Tt,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Privacy Protection"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We're committed to protecting your privacy through zero-knowledge architecture and minimal data collection."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(zn,{className:"w-6 h-6 text-purple-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Community Guidelines"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We maintain a safe, inclusive environment for all users and prohibit harmful or discriminatory content."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Un,{className:"w-6 h-6 text-orange-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Global Service"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Our services are available worldwide, subject to local laws and regulations."})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"By accessing or using Vector for Good's services, including our website, QSi Map, zero-knowledge demonstrations, and enterprise solutions, you agree to be bound by these Terms of Service and our Privacy Policy."}),l.jsx("p",{className:"text-gray-600",children:"If you do not agree to these terms, please do not use our services."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. Description of Services"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QSi Map (Free Service)"}),l.jsx("p",{className:"text-gray-600",children:"Our Queer Safety Index Map provides global safety intelligence for LGBTQ+ individuals, families, and communities. This service is free for personal, non-commercial use."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Zero-Knowledge Demonstrations"}),l.jsx("p",{className:"text-gray-600",children:"Interactive demonstrations of our privacy-preserving technology, allowing users to experience zero-knowledge proofs without sharing personal data."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Enterprise Solutions"}),l.jsx("p",{className:"text-gray-600",children:"Advanced safety intelligence services for organizations, including real-time risk assessments, custom integrations, and dedicated support."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3. User Responsibilities"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptable Use"}),l.jsx("p",{className:"text-gray-600 mb-3",children:"You agree to use our services only for lawful purposes and in accordance with these terms. You will not:"}),l.jsxs("ul",{className:"text-gray-600 space-y-1 ml-4",children:[l.jsx("li",{children:" Use our services to harm, harass, or discriminate against any individual or group"}),l.jsx("li",{children:" Attempt to reverse engineer or compromise our zero-knowledge systems"}),l.jsx("li",{children:" Share false or misleading safety information"}),l.jsx("li",{children:" Use our services for commercial purposes without proper licensing"}),l.jsx("li",{children:" Violate any applicable laws or regulations"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Account Security"}),l.jsx("p",{className:"text-gray-600",children:"For enterprise services requiring accounts, you are responsible for maintaining the security of your login credentials and for all activities under your account."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4. Privacy and Data"}),l.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[l.jsx("p",{className:"text-blue-800 mb-4",children:"Our commitment to privacy is fundamental to our mission. Please review our Privacy Policy for detailed information about how we protect your data."}),l.jsxs("div",{className:"space-y-2 text-blue-700",children:[l.jsx("p",{children:" We use zero-knowledge architecture to protect your personal information"}),l.jsx("p",{children:" We collect minimal data necessary to provide our services"}),l.jsx("p",{children:" We never sell or share your personal data with third parties"}),l.jsx("p",{children:" You maintain control over your data and can request deletion at any time"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. Safety Information Disclaimer"}),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Qm,{className:"w-6 h-6 text-yellow-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Important Safety Notice"}),l.jsxs("div",{className:"text-yellow-800 space-y-2",children:[l.jsx("p",{children:"Our safety intelligence is provided for informational purposes only and should not be your sole source of safety information. Safety conditions can change rapidly, and local circumstances may vary significantly."}),l.jsx("p",{children:"Always use multiple sources of information, trust your instincts, and consult local LGBTQ+ organizations and authorities when making safety decisions."}),l.jsx("p",{children:"Vector for Good is not responsible for any harm that may result from reliance on our safety intelligence."})]})]})]})})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Intellectual Property"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Our Content"}),l.jsx("p",{className:"text-gray-600",children:"All content, features, and functionality of our services, including but not limited to text, graphics, logos, software, and algorithms, are owned by Vector for Good and protected by copyright and other intellectual property laws."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"User Content"}),l.jsx("p",{className:"text-gray-600",children:"Any content you provide through our services remains your property. However, you grant us a license to use this content to provide and improve our services, subject to our privacy commitments."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Service Availability"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"We strive to maintain high availability of our services, but we cannot guarantee uninterrupted access. We may temporarily suspend or restrict access for maintenance, updates, or other operational reasons."}),l.jsx("p",{className:"text-gray-600",children:"We reserve the right to modify, suspend, or discontinue any aspect of our services at any time, with or without notice."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. Limitation of Liability"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"To the fullest extent permitted by law, Vector for Good shall not be liable for:"}),l.jsxs("ul",{className:"text-gray-600 space-y-2",children:[l.jsx("li",{children:" Any indirect, incidental, special, or consequential damages"}),l.jsx("li",{children:" Any loss of profits, data, or business opportunities"}),l.jsx("li",{children:" Any damages resulting from reliance on safety information"}),l.jsx("li",{children:" Any damages exceeding the amount paid for our services (if any)"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. Termination"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"You may stop using our services at any time. For enterprise accounts, you may terminate your agreement according to the terms of your service contract."}),l.jsx("p",{className:"text-gray-600",children:"We may terminate or suspend your access to our services if you violate these terms or engage in harmful behavior toward our community."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. Governing Law"}),l.jsx("p",{className:"text-gray-600",children:"These terms are governed by the laws of the jurisdiction where Vector for Good is incorporated, without regard to conflict of law principles. Any disputes will be resolved through binding arbitration or in the courts of that jurisdiction."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"11. Changes to Terms"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"We may update these Terms of Service from time to time to reflect changes in our services, legal requirements, or business practices."}),l.jsx("p",{className:"text-gray-600",children:'We will notify you of material changes by posting the updated terms on our website and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the new terms.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"12. Contact Information"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about these Terms of Service, please contact us:"}),l.jsxs("div",{className:"space-y-2 text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," legal@vectorforgood.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," Vector for Good Legal Team"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"We will respond to all legal inquiries within 30 days."})]})]})]})]})]})});function s_(r,t){const i=$.useRef(t);$.useEffect(function(){t!==i.current&&r.attributionControl!=null&&(i.current!=null&&r.attributionControl.removeAttribution(i.current),t!=null&&r.attributionControl.addAttribution(t)),i.current=t},[r,t])}function r2(r,t,i){t.center!==i.center&&r.setLatLng(t.center),t.radius!=null&&t.radius!==i.radius&&r.setRadius(t.radius)}const o2=1;function l2(r){return Object.freeze({__version:o2,map:r})}function c2(r,t){return Object.freeze({...r,...t})}const Ap=$.createContext(null);function Cp(){const r=$.use(Ap);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function u2(r){function t(i,a){const{instance:c,context:h}=r(i).current;$.useImperativeHandle(a,()=>c);const{children:p}=i;return p==null?null:Bn.createElement(Ap,{value:h},p)}return $.forwardRef(t)}function d2(r){function t(i,a){const[c,h]=$.useState(!1),{instance:p}=r(i,h).current;$.useImperativeHandle(a,()=>p),$.useEffect(function(){c&&p.update()},[p,c,i.children]);const x=p._contentNode;return x?oj.createPortal(i.children,x):null}return $.forwardRef(t)}function h2(r){function t(i,a){const{instance:c}=r(i).current;return $.useImperativeHandle(a,()=>c),null}return $.forwardRef(t)}function Op(r,t){const i=$.useRef(void 0);$.useEffect(function(){return t!=null&&r.instance.on(t),i.current=t,function(){i.current!=null&&r.instance.off(i.current),i.current=null}},[r,t])}function Fd(r,t){const i=r.pane??t.pane;return i?{...r,pane:i}:r}function f2(r,t){return function(a,c){const h=Cp(),p=r(Fd(a,h),h);return s_(h.map,a.attribution),Op(p.current,a.eventHandlers),t(p.current,h,a,c),p}}var Kl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var m2=Kl.exports,Sv;function p2(){return Sv||(Sv=1,function(r,t){(function(i,a){a(t)})(m2,function(i){var a="1.9.4";function c(s){var u,f,_,b;for(f=1,_=arguments.length;f<_;f++){b=arguments[f];for(u in b)s[u]=b[u]}return s}var h=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function p(s,u){var f=Array.prototype.slice;if(s.bind)return s.bind.apply(s,f.call(arguments,1));var _=f.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(f.call(arguments)):arguments)}}var x=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++x),s._leaflet_id}function v(s,u,f){var _,b,N,D;return D=function(){_=!1,b&&(N.apply(f,b),b=!1)},N=function(){_?b=arguments:(s.apply(f,arguments),setTimeout(D,u),_=!0)},N}function w(s,u,f){var _=u[1],b=u[0],N=_-b;return s===_&&f?s:((s-b)%N+N)%N+b}function j(){return!1}function T(s,u){if(u===!1)return s;var f=Math.pow(10,u===void 0?6:u);return Math.round(s*f)/f}function A(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function C(s){return A(s).split(/\s+/)}function M(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var f in u)s.options[f]=u[f];return s.options}function U(s,u,f){var _=[];for(var b in s)_.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function k(s,u){return s.replace(z,function(f,_){var b=u[_];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(u)),b})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function P(s,u){for(var f=0;f<s.length;f++)if(s[f]===u)return f;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var ae=0;function re(s){var u=+new Date,f=Math.max(0,16-(u-ae));return ae=u+f,window.setTimeout(s,f)}var me=window.requestAnimationFrame||X("RequestAnimationFrame")||re,Le=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function _e(s,u,f){if(f&&me===re)s.call(u);else return me.call(window,p(s,u))}function Be(s){s&&Le.call(window,s)}var Kt={__proto__:null,extend:c,create:h,bind:p,get lastId(){return x},stamp:y,throttle:v,wrapNum:w,falseFn:j,formatNum:T,trim:A,splitWords:C,setOptions:M,getParamString:U,template:k,isArray:B,indexOf:P,emptyImageUrl:R,requestFn:me,cancelFn:Le,requestAnimFrame:_e,cancelAnimFrame:Be};function pt(){}pt.extend=function(s){var u=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,_=h(f);_.constructor=u,u.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&c(u,s.statics),s.includes&&(ot(s.includes),c.apply(null,[_].concat(s.includes))),c(_,s),delete _.statics,delete _.includes,_.options&&(_.options=f.options?h(f.options):{},c(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,D=_._initHooks.length;N<D;N++)_._initHooks[N].call(this)}},u},pt.include=function(s){var u=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},pt.mergeOptions=function(s){return c(this.prototype.options,s),this},pt.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),f=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ot(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(s,u,f){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=C(s);for(var b=0,N=s.length;b<N;b++)this._on(s[b],u,f)}return this},off:function(s,u,f){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=C(s);for(var b=arguments.length===1,N=0,D=s.length;N<D;N++)b?this._off(s[N]):this._off(s[N],u,f)}return this},_on:function(s,u,f,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,f)===!1){f===this&&(f=void 0);var b={fn:u,ctx:f};_&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,f){var _,b,N;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,N=_.length;b<N;b++)_[b].fn=j;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var D=this._listens(s,u,f);if(D!==!1){var H=_[D];this._firingCount&&(H.fn=j,this._events[s]=_=_.slice()),_.splice(D,1)}}},fire:function(s,u,f){if(!this.listens(s,f))return this;var _=c({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var N=0,D=b.length;N<D;N++){var H=b[N],K=H.fn;H.once&&this.off(s,K,H.ctx),K.call(H.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(s,u,f,_){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(_=!!u,b=void 0,f=void 0);var N=this._events&&this._events[s];if(N&&N.length&&this._listens(s,b,f)!==!1)return!0;if(_){for(var D in this._eventParents)if(this._eventParents[D].listens(s,u,f,_))return!0}return!1},_listens:function(s,u,f){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;f===this&&(f=void 0);for(var b=0,N=_.length;b<N;b++)if(_[b].fn===u&&_[b].ctx===f)return b;return!1},once:function(s,u,f){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=C(s);for(var b=0,N=s.length;b<N;b++)this._on(s[b],u,f,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var ue=pt.extend(W);function le(s,u,f){this.x=f?Math.round(s):s,this.y=f?Math.round(u):u}var Qe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(s){return this.clone()._add(O(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(O(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new le(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new le(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qe(this.x),this.y=Qe(this.y),this},distanceTo:function(s){s=O(s);var u=s.x-this.x,f=s.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(s){return s=O(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=O(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function O(s,u,f){return s instanceof le?s:B(s)?new le(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new le(s.x,s.y):new le(s,u,f)}function J(s,u){if(s)for(var f=u?[s,u]:s,_=0,b=f.length;_<b;_++)this.extend(f[_])}J.prototype={extend:function(s){var u,f;if(!s)return this;if(s instanceof le||typeof s[0]=="number"||"x"in s)u=f=O(s);else if(s=se(s),u=s.min,f=s.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(s){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,f;return typeof s[0]=="number"||s instanceof le?s=O(s):s=se(s),s instanceof J?(u=s.min,f=s.max):u=f=s,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(s){s=se(s);var u=this.min,f=this.max,_=s.min,b=s.max,N=b.x>=u.x&&_.x<=f.x,D=b.y>=u.y&&_.y<=f.y;return N&&D},overlaps:function(s){s=se(s);var u=this.min,f=this.max,_=s.min,b=s.max,N=b.x>u.x&&_.x<f.x,D=b.y>u.y&&_.y<f.y;return N&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,f=this.max,_=Math.abs(u.x-f.x)*s,b=Math.abs(u.y-f.y)*s;return se(O(u.x-_,u.y-b),O(f.x+_,f.y+b))},equals:function(s){return s?(s=se(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function se(s,u){return!s||s instanceof J?s:new J(s,u)}function ce(s,u){if(s)for(var f=u?[s,u]:s,_=0,b=f.length;_<b;_++)this.extend(f[_])}ce.prototype={extend:function(s){var u=this._southWest,f=this._northEast,_,b;if(s instanceof xe)_=s,b=s;else if(s instanceof ce){if(_=s._southWest,b=s._northEast,!_||!b)return this}else return s?this.extend(de(s)||fe(s)):this;return!u&&!f?(this._southWest=new xe(_.lat,_.lng),this._northEast=new xe(b.lat,b.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(s){var u=this._southWest,f=this._northEast,_=Math.abs(u.lat-f.lat)*s,b=Math.abs(u.lng-f.lng)*s;return new ce(new xe(u.lat-_,u.lng-b),new xe(f.lat+_,f.lng+b))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof xe||"lat"in s?s=de(s):s=fe(s);var u=this._southWest,f=this._northEast,_,b;return s instanceof ce?(_=s.getSouthWest(),b=s.getNorthEast()):_=b=s,_.lat>=u.lat&&b.lat<=f.lat&&_.lng>=u.lng&&b.lng<=f.lng},intersects:function(s){s=fe(s);var u=this._southWest,f=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),N=b.lat>=u.lat&&_.lat<=f.lat,D=b.lng>=u.lng&&_.lng<=f.lng;return N&&D},overlaps:function(s){s=fe(s);var u=this._southWest,f=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),N=b.lat>u.lat&&_.lat<f.lat,D=b.lng>u.lng&&_.lng<f.lng;return N&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=fe(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(s,u){return s instanceof ce?s:new ce(s,u)}function xe(s,u,f){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,f!==void 0&&(this.alt=+f)}xe.prototype={equals:function(s,u){if(!s)return!1;s=de(s);var f=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return f<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+T(this.lat,s)+", "+T(this.lng,s)+")"},distanceTo:function(s){return Fe.distance(this,de(s))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,f=u/Math.cos(Math.PI/180*this.lat);return fe([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function de(s,u,f){return s instanceof xe?s:B(s)&&typeof s[0]!="object"?s.length===3?new xe(s[0],s[1],s[2]):s.length===2?new xe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new xe(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new xe(s,u,f)}var ut={latLngToPoint:function(s,u){var f=this.projection.project(s),_=this.scale(u);return this.transformation._transform(f,_)},pointToLatLng:function(s,u){var f=this.scale(u),_=this.transformation.untransform(s,f);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(s),_=this.transformation.transform(u.min,f),b=this.transformation.transform(u.max,f);return new J(_,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?w(s.lng,this.wrapLng,!0):s.lng,f=this.wrapLat?w(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new xe(f,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),f=this.wrapLatLng(u),_=u.lat-f.lat,b=u.lng-f.lng;if(_===0&&b===0)return s;var N=s.getSouthWest(),D=s.getNorthEast(),H=new xe(N.lat-_,N.lng-b),K=new xe(D.lat-_,D.lng-b);return new ce(H,K)}},Fe=c({},ut,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var f=Math.PI/180,_=s.lat*f,b=u.lat*f,N=Math.sin((u.lat-s.lat)*f/2),D=Math.sin((u.lng-s.lng)*f/2),H=N*N+Math.cos(_)*Math.cos(b)*D*D,K=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*K}}),ei=6378137,wa={R:ei,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,s.lat),-f),b=Math.sin(_*u);return new le(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new xe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=ei*Math.PI;return new J([-s,-s],[s,s])}()};function _s(s,u,f,_){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=f,this._d=_}_s.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new le((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Di(s,u,f,_){return new _s(s,u,f,_)}var Sa=c({},Fe,{code:"EPSG:3857",projection:wa,transformation:function(){var s=.5/(Math.PI*wa.R);return Di(s,.5,-s,.5)}()}),Bo=c({},Sa,{code:"EPSG:900913"});function Ec(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ac(s,u){var f="",_,b,N,D,H,K;for(_=0,N=s.length;_<N;_++){for(H=s[_],b=0,D=H.length;b<D;b++)K=H[b],f+=(b?"L":"M")+K.x+" "+K.y;f+=u?be.svg?"z":"x":""}return f||"M0 0"}var fn=document.documentElement.style,pr="ActiveXObject"in window,Cc=pr&&!document.addEventListener,zo="msLaunchUri"in navigator&&!("documentMode"in document),bs=mn("webkit"),Oc=mn("android"),Uo=mn("android 2")||mn("android 3"),ah=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rh=Oc&&mn("Google")&&ah<537&&!("AudioNode"in window),Ii=!!window.opera,Wt=!zo&&mn("chrome"),ti=mn("gecko")&&!bs&&!Ii&&!pr,an=!Wt&&mn("safari"),kc=mn("phantom"),Rc="OTransition"in fn,oh=navigator.platform.indexOf("Win")===0,ja=pr&&"transition"in fn,ws="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Uo,gi="MozPerspective"in fn,gr=!window.L_DISABLE_3D&&(ja||ws||gi)&&!Rc&&!kc,ni=typeof orientation<"u"||mn("mobile"),lh=ni&&bs,Lc=ni&&ws,Go=!window.PointerEvent&&window.MSPointerEvent,yr=!!(window.PointerEvent||Go),Ss="ontouchstart"in window||!!window.TouchEvent,ch=!window.L_NO_TOUCH&&(Ss||yr),Mc=ni&&Ii,Pc=ni&&ti,$o=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qo=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",j,u),window.removeEventListener("testPassiveEventSupport",j,u)}catch{}return s}(),Dc=function(){return!!document.createElement("canvas").getContext}(),Ho=!!(document.createElementNS&&Ec("svg").createSVGRect),yi=!!Ho&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lt=!Ho&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Jt=navigator.platform.indexOf("Mac")===0,js=navigator.platform.indexOf("Linux")===0;function mn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var be={ie:pr,ielt9:Cc,edge:zo,webkit:bs,android:Oc,android23:Uo,androidStock:rh,opera:Ii,chrome:Wt,gecko:ti,safari:an,phantom:kc,opera12:Rc,win:oh,ie3d:ja,webkit3d:ws,gecko3d:gi,any3d:gr,mobile:ni,mobileWebkit:lh,mobileWebkit3d:Lc,msPointer:Go,pointer:yr,touch:ch,touchNative:Ss,mobileOpera:Mc,mobileGecko:Pc,retina:$o,passiveEvents:qo,canvas:Dc,svg:Ho,vml:Lt,inlineSvg:yi,mac:Jt,linux:js},Ic=be.msPointer?"MSPointerDown":"pointerdown",Zo=be.msPointer?"MSPointerMove":"pointermove",Ns=be.msPointer?"MSPointerUp":"pointerup",xr=be.msPointer?"MSPointerCancel":"pointercancel",xi={touchstart:Ic,touchmove:Zo,touchend:Ns,touchcancel:xr},Bi={touchstart:Uc,touchmove:Na,touchend:Na,touchcancel:Na},Gn={},zi=!1;function _t(s,u,f){return u==="touchstart"&&uh(),Bi[u]?(f=Bi[u].bind(this,f),s.addEventListener(xi[u],f,!1),f):(console.warn("wrong event specified:",u),j)}function Bc(s,u,f){if(!xi[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(xi[u],f,!1)}function zc(s){Gn[s.pointerId]=s}function Ui(s){Gn[s.pointerId]&&(Gn[s.pointerId]=s)}function Gi(s){delete Gn[s.pointerId]}function uh(){zi||(document.addEventListener(Ic,zc,!0),document.addEventListener(Zo,Ui,!0),document.addEventListener(Ns,Gi,!0),document.addEventListener(xr,Gi,!0),zi=!0)}function Na(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in Gn)u.touches.push(Gn[f]);u.changedTouches=[u],s(u)}}function Uc(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&gt(u),Na(s,u)}function dh(s){var u={},f,_;for(_ in s)f=s[_],u[_]=f&&f.bind?f.bind(s):f;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var vr=200;function _r(s,u){s.addEventListener("dblclick",u);var f=0,_;function b(N){if(N.detail!==1){_=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var D=Vo(N);if(!(D.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!D.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var H=Date.now();H-f<=vr?(_++,_===2&&u(dh(N))):_=1,f=H}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function ii(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Ta=Cs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ts=Cs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$i=Ts==="webkitTransition"||Ts==="OTransition"?Ts+"End":"transitionend";function br(s){return typeof s=="string"?document.getElementById(s):s}function qi(s,u){var f=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);f=_?_[u]:null}return f==="auto"?null:f}function He(s,u,f){var _=document.createElement(s);return _.className=u||"",f&&f.appendChild(_),_}function nt(s){var u=s.parentNode;u&&u.removeChild(s)}function Gt(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Hi(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Es(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function As(s,u){if(s.classList!==void 0)return s.classList.contains(u);var f=$t(s);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Pe(s,u){if(s.classList!==void 0)for(var f=C(u),_=0,b=f.length;_<b;_++)s.classList.add(f[_]);else if(!As(s,u)){var N=$t(s);Qo(s,(N?N+" ":"")+u)}}function it(s,u){s.classList!==void 0?s.classList.remove(u):Qo(s,A((" "+$t(s)+" ").replace(" "+u+" "," ")))}function Qo(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function $t(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Xt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Gc(s,u)}function Gc(s,u){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function Cs(s){for(var u=document.documentElement.style,f=0;f<s.length;f++)if(s[f]in u)return s[f];return!1}function pn(s,u,f){var _=u||new le(0,0);s.style[Ta]=(be.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function dt(s,u){s._leaflet_pos=u,be.any3d?pn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function vi(s){return s._leaflet_pos||new le(0,0)}var $n,Ea,wr;if("onselectstart"in document)$n=function(){Re(window,"selectstart",gt)},Ea=function(){Ve(window,"selectstart",gt)};else{var Os=Cs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$n=function(){if(Os){var s=document.documentElement.style;wr=s[Os],s[Os]="none"}},Ea=function(){Os&&(document.documentElement.style[Os]=wr,wr=void 0)}}function Aa(){Re(window,"dragstart",gt)}function Fo(){Ve(window,"dragstart",gt)}var Sr,ks;function Ca(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Rs(),Sr=s,ks=s.style.outlineStyle,s.style.outlineStyle="none",Re(window,"keydown",Rs))}function Rs(){Sr&&(Sr.style.outlineStyle=ks,Sr=void 0,ks=void 0,Ve(window,"keydown",Rs))}function Zi(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function _i(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var $c={__proto__:null,TRANSFORM:Ta,TRANSITION:Ts,TRANSITION_END:$i,get:br,getStyle:qi,create:He,remove:nt,empty:Gt,toFront:Hi,toBack:Es,hasClass:As,addClass:Pe,removeClass:it,setClass:Qo,getClass:$t,setOpacity:Xt,testProp:Cs,setTransform:pn,setPosition:dt,getPosition:vi,get disableTextSelection(){return $n},get enableTextSelection(){return Ea},disableImageDrag:Aa,enableImageDrag:Fo,preventOutline:Ca,restoreOutline:Rs,getSizedParentNode:Zi,getScale:_i};function Re(s,u,f,_){if(u&&typeof u=="object")for(var b in u)Qi(s,b,u[b],f);else{u=C(u);for(var N=0,D=u.length;N<D;N++)Qi(s,u[N],f,_)}return this}var wn="_leaflet_events";function Ve(s,u,f,_){if(arguments.length===1)qn(s),delete s[wn];else if(u&&typeof u=="object")for(var b in u)Hn(s,b,u[b],f);else if(u=C(u),arguments.length===2)qn(s,function(H){return P(u,H)!==-1});else for(var N=0,D=u.length;N<D;N++)Hn(s,u[N],f,_);return this}function qn(s,u){for(var f in s[wn]){var _=f.split(/\d/)[0];(!u||u(_))&&Hn(s,_,null,null,f)}}var Oa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qi(s,u,f,_){var b=u+y(f)+(_?"_"+y(_):"");if(s[wn]&&s[wn][b])return this;var N=function(H){return f.call(_||s,H||window.event)},D=N;!be.touchNative&&be.pointer&&u.indexOf("touch")===0?N=_t(s,u,N):be.touch&&u==="dblclick"?N=_r(s,N):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Oa[u]||u,N,be.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(N=function(H){H=H||window.event,Vi(s,H)&&D(H)},s.addEventListener(Oa[u],N,!1)):s.addEventListener(u,D,!1):s.attachEvent("on"+u,N),s[wn]=s[wn]||{},s[wn][b]=N}function Hn(s,u,f,_,b){b=b||u+y(f)+(_?"_"+y(_):"");var N=s[wn]&&s[wn][b];if(!N)return this;!be.touchNative&&be.pointer&&u.indexOf("touch")===0?Bc(s,u,N):be.touch&&u==="dblclick"?ii(s,N):"removeEventListener"in s?s.removeEventListener(Oa[u]||u,N,!1):s.detachEvent("on"+u,N),s[wn][b]=null}function si(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ls(s){return Qi(s,"wheel",si),this}function Ms(s){return Re(s,"mousedown touchstart dblclick contextmenu",si),s._leaflet_disable_click=!0,this}function gt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Zn(s){return gt(s),si(s),this}function Vo(s){if(s.composedPath)return s.composedPath();for(var u=[],f=s.target;f;)u.push(f),f=f.parentNode;return u}function qt(s,u){if(!u)return new le(s.clientX,s.clientY);var f=_i(u),_=f.boundingClientRect;return new le((s.clientX-_.left)/f.x-u.clientLeft,(s.clientY-_.top)/f.y-u.clientTop)}var Fi=be.linux&&be.chrome?window.devicePixelRatio:be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ka(s){return be.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Fi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Vi(s,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==s;)f=f.parentNode}catch{return!1}return f!==s}var hh={__proto__:null,on:Re,off:Ve,stopPropagation:si,disableScrollPropagation:Ls,disableClickPropagation:Ms,preventDefault:gt,stop:Zn,getPropagationPath:Vo,getMousePosition:qt,getWheelDelta:ka,isExternalTarget:Vi,addListener:Re,removeListener:Ve},jr=ue.extend({run:function(s,u,f,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=vi(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var f=this._startPos.add(this._offset.multiplyBy(s));u&&f._round(),dt(this._el,f),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ue=ue.extend({options:{crs:Sa,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=M(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(de(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ts&&be.any3d&&!be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,$i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(de(s),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,f.zoom):this._tryAnimatedPan(s,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,f){var _=this.getZoomScale(u),b=this.getSize().divideBy(2),N=s instanceof le?s:this.latLngToContainerPoint(s),D=N.subtract(b).multiplyBy(1-1/_),H=this.containerPointToLatLng(b.add(D));return this.setView(H,u,{zoom:f})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():fe(s);var f=O(u.paddingTopLeft||u.padding||[0,0]),_=O(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,f.add(_));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var N=_.subtract(f).divideBy(2),D=this.project(s.getSouthWest(),b),H=this.project(s.getNorthEast(),b),K=this.unproject(D.add(H).divideBy(2).add(N),b);return{center:K,zoom:b}},fitBounds:function(s,u){if(s=fe(s),!s.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(s,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=O(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,f){if(f=f||{},f.animate===!1||!be.any3d)return this.setView(s,u,f);this._stop();var _=this.project(this.getCenter()),b=this.project(s),N=this.getSize(),D=this._zoom;s=de(s),u=u===void 0?D:u;var H=Math.max(N.x,N.y),K=H*this.getZoomScale(D,u),ie=b.distanceTo(_)||1,he=1.42,ge=he*he;function ve(lt){var Vn=lt?-1:1,oi=lt?K:H,Ni=K*K-H*H+Vn*ge*ge*ie*ie,li=2*oi*ge*ie,Ha=Ni/li,Ir=Math.sqrt(Ha*Ha+1)-Ha,Za=Ir<1e-9?-18:Math.log(Ir);return Za}function ke(lt){return(Math.exp(lt)-Math.exp(-lt))/2}function st(lt){return(Math.exp(lt)+Math.exp(-lt))/2}function ht(lt){return ke(lt)/st(lt)}var Pt=ve(0);function gn(lt){return H*(st(Pt)/st(Pt+he*lt))}function ou(lt){return H*(st(Pt)*ht(Pt+he*lt)-ke(Pt))/ge}function lu(lt){return 1-Math.pow(1-lt,1.5)}var qa=Date.now(),Qs=(ve(1)-Pt)/he,cu=f.duration?1e3*f.duration:1e3*Qs*.8;function Fs(){var lt=(Date.now()-qa)/cu,Vn=lu(lt)*Qs;lt<=1?(this._flyToFrame=_e(Fs,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(ou(Vn)/ie)),D),this.getScaleZoom(H/gn(Vn),D),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Fs.call(this),this},flyToBounds:function(s,u){var f=this._getBoundsCenterZoom(s,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(s){return s=fe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,fe(s));return f.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var f=O(u.paddingTopLeft||u.padding||[0,0]),_=O(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),N=this.project(s),D=this.getPixelBounds(),H=se([D.min.add(f),D.max.subtract(_)]),K=H.getSize();if(!H.contains(N)){this._enforcingBounds=!0;var ie=N.subtract(H.getCenter()),he=H.extend(N).getSize().subtract(K);b.x+=ie.x<0?-he.x:he.x,b.y+=ie.y<0?-he.y:he.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=u.divideBy(2).round(),b=f.divideBy(2).round(),N=_.subtract(b);return!N.x&&!N.y?this:(s.animate&&s.pan?this.panBy(N):(s.pan&&this._rawPanBy(N),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),f=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,s):navigator.geolocation.getCurrentPosition(u,f,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,f=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,f=s.coords.longitude,_=new xe(u,f),b=_.toBounds(s.coords.accuracy*2),N=this._locateOptions;if(N.setView){var D=this.getBoundsZoom(b);this.setView(_,N.maxZoom?Math.min(D,N.maxZoom):D)}var H={latlng:_,bounds:b,timestamp:s.timestamp};for(var K in s.coords)typeof s.coords[K]=="number"&&(H[K]=s.coords[K]);this.fire("locationfound",H)}},addHandler:function(s,u){if(!u)return this;var f=this[s]=new u(this);return this._handlers.push(f),this.options[s]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)nt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var f="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=He("div",f,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),f=this.unproject(s.getTopRight());return new ce(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,f){s=fe(s),f=O(f||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),N=this.getMaxZoom(),D=s.getNorthWest(),H=s.getSouthEast(),K=this.getSize().subtract(f),ie=se(this.project(H,_),this.project(D,_)).getSize(),he=be.any3d?this.options.zoomSnap:1,ge=K.x/ie.x,ve=K.y/ie.y,ke=u?Math.max(ge,ve):Math.min(ge,ve);return _=this.getScaleZoom(ke,_),he&&(_=Math.round(_/(he/100))*(he/100),_=u?Math.ceil(_/he)*he:Math.floor(_/he)*he),Math.max(b,Math.min(N,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var f=this._getTopLeftPoint(s,u);return new J(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(s)/f.scale(u)},getScaleZoom:function(s,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var _=f.zoom(s*f.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(de(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(O(s),u)},layerPointToLatLng:function(s){var u=O(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(de(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(de(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(fe(s))},distance:function(s,u){return this.options.crs.distance(de(s),de(u))},containerPointToLayerPoint:function(s){return O(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return O(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(O(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(s)))},mouseEventToContainerPoint:function(s){return qt(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=br(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&be.any3d,Pe(s,"leaflet-container"+(be.touch?" leaflet-touch":"")+(be.retina?" leaflet-retina":"")+(be.ielt9?" leaflet-oldie":"")+(be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=qi(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(s.markerPane,"leaflet-zoom-hide"),Pe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,f){dt(this._mapPane,new le(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,f)._move(s,u)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,f,_){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){dt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?Ve:Re;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),be.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var f=[],_,b=u==="mouseout"||u==="mouseover",N=s.target||s.srcElement,D=!1;N;){if(_=this._targets[y(N)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){D=!0;break}if(_&&_.listens(u,!0)&&(b&&!Vi(N,s)||(f.push(_),b))||N===this._container)break;N=N.parentNode}return!f.length&&!D&&!b&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var f=s.type;f==="mousedown"&&Ca(u),this._fireDOMEvent(s,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,f){if(s.type==="click"){var _=c({},s);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var b=this._findEventTargets(s,u);if(f){for(var N=[],D=0;D<f.length;D++)f[D].listens(u,!0)&&N.push(f[D]);b=N.concat(b)}if(b.length){u==="contextmenu"&&gt(s);var H=b[0],K={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ie=H.getLatLng&&(!H._radius||H._radius<=10);K.containerPoint=ie?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(s),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=ie?H.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(D=0;D<b.length;D++)if(b[D].fire(u,K,!0),K.originalEvent._stopped||b[D].options.bubblingMouseEvents===!1&&P(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return vi(this._mapPane)||new le(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var f=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var f=this.getSize()._divideBy(2);return this.project(s,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,f){var _=this._getNewPixelOrigin(f,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,f){var _=this._getNewPixelOrigin(f,u);return se([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,f){if(!f)return s;var _=this.project(s,u),b=this.getSize().divideBy(2),N=new J(_.subtract(b),_.add(b)),D=this._getBoundsOffset(N,f,u);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?s:this.unproject(_.add(D),u)},_limitOffset:function(s,u){if(!u)return s;var f=this.getPixelBounds(),_=new J(f.min.add(s),f.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,f){var _=se(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),b=_.min.subtract(s.min),N=_.max.subtract(s.max),D=this._rebound(b.x,-N.x),H=this._rebound(b.y,-N.y);return new le(D,H)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),f=this.getMaxZoom(),_=be.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(f,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){it(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var f=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var s=this._proxy=He("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var f=Ta,_=this._proxy.style[f];pn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();pn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(b)?!1:(_e(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&it(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ra(s,u){return new Ue(s,u)}var en=pt.extend({options:{position:"topright"},initialize:function(s){M(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),f=this.getPosition(),_=s._controlCorners[f];return Pe(u,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ps=function(s){return new en(s)};Ue.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",f=this._controlContainer=He("div",u+"control-container",this._container);function _(b,N){var D=u+b+" "+u+N;s[b+N]=He("div",D,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)nt(this._controlCorners[s]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qc=en.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,f,_){return f<_?-1:_<f?1:0}},initialize:function(s,u,f){M(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return en.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):it(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return it(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=He("div",s),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ms(u),Ls(u);var _=this._section=He("section",s+"-list");f&&(this._map.on("click",this.collapse,this),Re(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=He("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Re(b,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){gt(N),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=He("div",s+"-base",_),this._separator=He("div",s+"-separator",_),this._overlaysList=He("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,f){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(p(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gt(this._baseLayersList),Gt(this._overlaysList),this._layerControlInputs=[];var s,u,f,_,b=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),f=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(s,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(s){var u=document.createElement("label"),f=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+y(this),f),this._layerControlInputs.push(_),_.layerId=y(s.layer),Re(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var N=document.createElement("span");u.appendChild(N),N.appendChild(_),N.appendChild(b);var D=s.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,f,_=[],b=[];this._handlingClick=!0;for(var N=s.length-1;N>=0;N--)u=s[N],f=this._getLayer(u.layerId).layer,u.checked?_.push(f):u.checked||b.push(f);for(N=0;N<b.length;N++)this._map.hasLayer(b[N])&&this._map.removeLayer(b[N]);for(N=0;N<_.length;N++)this._map.hasLayer(_[N])||this._map.addLayer(_[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,f,_=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Re(s,"click",gt),this.expand();var u=this;setTimeout(function(){Ve(s,"click",gt),u._preventClick=!1})}}),fh=function(s,u,f){return new qc(s,u,f)},Yo=en.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",f=He("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,f,_,b){var N=He("a",f,_);return N.innerHTML=s,N.href="#",N.title=u,N.setAttribute("role","button"),N.setAttribute("aria-label",u),Ms(N),Re(N,"click",Zn),Re(N,"click",b,this),Re(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";it(this._zoomInButton,u),it(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Pe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Pe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yo,this.addControl(this.zoomControl))});var Ko=function(s){return new Yo(s)},Hc=en.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",f=He("div",u),_=this.options;return this._addScales(_,u+"-line",f),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),f},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,f){s.metric&&(this._mScale=He("div",u,f)),s.imperial&&(this._iScale=He("div",u,f))},_update:function(){var s=this._map,u=s.getSize().y/2,f=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/s)},_updateImperial:function(s){var u=s*3.2808399,f,_,b;u>5280?(f=u/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,f){s.style.width=Math.round(this.options.maxWidth*f)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),f=s/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),mh=function(s){return new Hc(s)},ph='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wo=en.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(be.inlineSvg?ph+" ":"")+"Leaflet</a>"},initialize:function(s){M(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=He("div","leaflet-control-attribution"),Ms(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),s.length&&f.push(s.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new Wo().addTo(this)});var gh=function(s){return new Wo(s)};en.Layers=qc,en.Zoom=Yo,en.Scale=Hc,en.Attribution=Wo,Ps.layers=fh,Ps.zoom=Ko,Ps.scale=mh,Ps.attribution=gh;var Sn=pt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sn.addTo=function(s,u){return s.addHandler(u,this),this};var yh={Events:W},Zc=be.touch?"touchstart mousedown":"mousedown",bi=ue.extend({options:{clickTolerance:3},initialize:function(s,u,f,_){M(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=f},enable:function(){this._enabled||(Re(this._dragStartTarget,Zc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),Ve(this._dragStartTarget,Zc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!As(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){bi._dragging===this&&this.finishDrag();return}if(!(bi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(bi._dragging=this,this._preventOutline&&Ca(this._element),Aa(),$n(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,f=Zi(this._element);this._startPoint=new le(u.clientX,u.clientY),this._startPos=vi(this._element),this._parentScale=_i(f);var _=s.type==="mousedown";Re(document,_?"mousemove":"touchmove",this._onMove,this),Re(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,f=new le(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,gt(s),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),dt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){it(document.body,"leaflet-dragging"),this._lastTarget&&(it(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ve(document,"mousemove touchmove",this._onMove,this),Ve(document,"mouseup touchend touchcancel",this._onUp,this),Fo(),Ea();var u=this._moved&&this._moving;this._moving=!1,bi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Qc(s,u,f){var _,b=[1,4,2,8],N,D,H,K,ie,he,ge,ve;for(N=0,he=s.length;N<he;N++)s[N]._code=Yi(s[N],u);for(H=0;H<4;H++){for(ge=b[H],_=[],N=0,he=s.length,D=he-1;N<he;D=N++)K=s[N],ie=s[D],K._code&ge?ie._code&ge||(ve=Tr(ie,K,ge,u,f),ve._code=Yi(ve,u),_.push(ve)):(ie._code&ge&&(ve=Tr(ie,K,ge,u,f),ve._code=Yi(ve,u),_.push(ve)),_.push(K));s=_}return s}function Nr(s,u){var f,_,b,N,D,H,K,ie,he;if(!s||s.length===0)throw new Error("latlngs not passed");Mt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ge=de([0,0]),ve=fe(s),ke=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());ke<1700&&(ge=Jo(s));var st=s.length,ht=[];for(f=0;f<st;f++){var Pt=de(s[f]);ht.push(u.project(de([Pt.lat-ge.lat,Pt.lng-ge.lng])))}for(H=K=ie=0,f=0,_=st-1;f<st;_=f++)b=ht[f],N=ht[_],D=b.y*N.x-N.y*b.x,K+=(b.x+N.x)*D,ie+=(b.y+N.y)*D,H+=D*3;H===0?he=ht[0]:he=[K/H,ie/H];var gn=u.unproject(O(he));return de([gn.lat+ge.lat,gn.lng+ge.lng])}function Jo(s){for(var u=0,f=0,_=0,b=0;b<s.length;b++){var N=de(s[b]);u+=N.lat,f+=N.lng,_++}return de([u/_,f/_])}var xh={__proto__:null,clipPolygon:Qc,polygonCenter:Nr,centroid:Jo};function Fc(s,u){if(!u||!s.length)return s.slice();var f=u*u;return s=bh(s,f),s=_h(s,f),s}function Xo(s,u,f){return Math.sqrt(Ki(s,u,f,!0))}function vh(s,u,f){return Ki(s,u,f)}function _h(s,u){var f=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(f);b[0]=b[f-1]=1,el(s,b,u,0,f-1);var N,D=[];for(N=0;N<f;N++)b[N]&&D.push(s[N]);return D}function el(s,u,f,_,b){var N=0,D,H,K;for(H=_+1;H<=b-1;H++)K=Ki(s[H],s[_],s[b],!0),K>N&&(D=H,N=K);N>f&&(u[D]=1,el(s,u,f,_,D),el(s,u,f,D,b))}function bh(s,u){for(var f=[s[0]],_=1,b=0,N=s.length;_<N;_++)wh(s[_],s[b])>u&&(f.push(s[_]),b=_);return b<N-1&&f.push(s[N-1]),f}var Vc;function Yc(s,u,f,_,b){var N=_?Vc:Yi(s,f),D=Yi(u,f),H,K,ie;for(Vc=D;;){if(!(N|D))return[s,u];if(N&D)return!1;H=N||D,K=Tr(s,u,H,f,b),ie=Yi(K,f),H===N?(s=K,N=ie):(u=K,D=ie)}}function Tr(s,u,f,_,b){var N=u.x-s.x,D=u.y-s.y,H=_.min,K=_.max,ie,he;return f&8?(ie=s.x+N*(K.y-s.y)/D,he=K.y):f&4?(ie=s.x+N*(H.y-s.y)/D,he=H.y):f&2?(ie=K.x,he=s.y+D*(K.x-s.x)/N):f&1&&(ie=H.x,he=s.y+D*(H.x-s.x)/N),new le(ie,he,b)}function Yi(s,u){var f=0;return s.x<u.min.x?f|=1:s.x>u.max.x&&(f|=2),s.y<u.min.y?f|=4:s.y>u.max.y&&(f|=8),f}function wh(s,u){var f=u.x-s.x,_=u.y-s.y;return f*f+_*_}function Ki(s,u,f,_){var b=u.x,N=u.y,D=f.x-b,H=f.y-N,K=D*D+H*H,ie;return K>0&&(ie=((s.x-b)*D+(s.y-N)*H)/K,ie>1?(b=f.x,N=f.y):ie>0&&(b+=D*ie,N+=H*ie)),D=s.x-b,H=s.y-N,_?D*D+H*H:new le(b,N)}function Mt(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Kc(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mt(s)}function tl(s,u){var f,_,b,N,D,H,K,ie;if(!s||s.length===0)throw new Error("latlngs not passed");Mt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var he=de([0,0]),ge=fe(s),ve=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());ve<1700&&(he=Jo(s));var ke=s.length,st=[];for(f=0;f<ke;f++){var ht=de(s[f]);st.push(u.project(de([ht.lat-he.lat,ht.lng-he.lng])))}for(f=0,_=0;f<ke-1;f++)_+=st[f].distanceTo(st[f+1])/2;if(_===0)ie=st[0];else for(f=0,N=0;f<ke-1;f++)if(D=st[f],H=st[f+1],b=D.distanceTo(H),N+=b,N>_){K=(N-_)/b,ie=[H.x-K*(H.x-D.x),H.y-K*(H.y-D.y)];break}var Pt=u.unproject(O(ie));return de([Pt.lat+he.lat,Pt.lng+he.lng])}var Wc={__proto__:null,simplify:Fc,pointToSegmentDistance:Xo,closestPointOnSegment:vh,clipSegment:Yc,_getEdgeIntersection:Tr,_getBitCode:Yi,_sqClosestPointOnSegment:Ki,isFlat:Mt,_flat:Kc,polylineCenter:tl},Er={project:function(s){return new le(s.lng,s.lat)},unproject:function(s){return new xe(s.y,s.x)},bounds:new J([-180,-90],[180,90])},Ar={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,f=this.R,_=s.lat*u,b=this.R_MINOR/f,N=Math.sqrt(1-b*b),D=N*Math.sin(_),H=Math.tan(Math.PI/4-_/2)/Math.pow((1-D)/(1+D),N/2);return _=-f*Math.log(Math.max(H,1e-10)),new le(s.lng*u*f,_)},unproject:function(s){for(var u=180/Math.PI,f=this.R,_=this.R_MINOR/f,b=Math.sqrt(1-_*_),N=Math.exp(-s.y/f),D=Math.PI/2-2*Math.atan(N),H=0,K=.1,ie;H<15&&Math.abs(K)>1e-7;H++)ie=b*Math.sin(D),ie=Math.pow((1-ie)/(1+ie),b/2),K=Math.PI/2-2*Math.atan(N*ie)-D,D+=K;return new xe(D*u,s.x*u/f)}},Jc={__proto__:null,LonLat:Er,Mercator:Ar,SphericalMercator:wa},Ds=c({},Fe,{code:"EPSG:3395",projection:Ar,transformation:function(){var s=.5/(Math.PI*Ar.R);return Di(s,.5,-s,.5)}()}),Xc=c({},Fe,{code:"EPSG:4326",projection:Er,transformation:Di(1/180,1,-1/180,.5)}),Sh=c({},ut,{projection:Er,transformation:Di(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var f=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(f*f+_*_)},infinite:!0});ut.Earth=Fe,ut.EPSG3395=Ds,ut.EPSG3857=Sa,ut.EPSG900913=Bo,ut.EPSG4326=Xc,ut.Simple=Sh;var jn=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var f in this._layers)s.call(u,this._layers[f]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var u=0,f=s.length;u<f;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wi=jn.extend({initialize:function(s,u){M(this,u),this._layers={};var f,_;if(s)for(f=0,_=s.length;f<_;f++)this.addLayer(s[f])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var f in this._layers)s.call(u,this._layers[f]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),eu=function(s,u){return new Wi(s,u)},rn=Wi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Wi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Wi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ce;for(var u in this._layers){var f=this._layers[u];s.extend(f.getBounds?f.getBounds():f.getLatLng())}return s}}),La=function(s,u){return new rn(s,u)},Is=pt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){M(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var f=this._getIconUrl(s);if(!f){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var f=this.options,_=f[u+"Size"];typeof _=="number"&&(_=[_,_]);var b=O(_),N=O(u==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(f.className||""),N&&(s.style.marginLeft=-N.x+"px",s.style.marginTop=-N.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return be.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Cr(s){return new Is(s)}var Bs=Is.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Bs.imagePath!="string"&&(Bs.imagePath=this._detectIconPath()),(this.options.imagePath||Bs.imagePath)+Is.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(f,_,b){var N=_.exec(f);return N&&N[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=He("div","leaflet-default-icon-path",document.body),u=qi(s,"background-image")||qi(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),nl=Sn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new bi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&it(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,f=u._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,N=vi(u._icon),D=f.getPixelBounds(),H=f.getPixelOrigin(),K=se(D.min._subtract(H).add(b),D.max._subtract(H).subtract(b));if(!K.contains(N)){var ie=O((Math.max(K.max.x,N.x)-K.max.x)/(D.max.x-K.max.x)-(Math.min(K.min.x,N.x)-K.min.x)/(D.min.x-K.min.x),(Math.max(K.max.y,N.y)-K.max.y)/(D.max.y-K.max.y)-(Math.min(K.min.y,N.y)-K.min.y)/(D.min.y-K.min.y)).multiplyBy(_);f.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),dt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=_e(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,f=u._shadow,_=vi(u._icon),b=u._map.layerPointToLatLng(_);f&&dt(f,_),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),zs=jn.extend({options:{icon:new Bs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){M(this,u),this._latlng=de(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=de(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=s.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(f.title=s.title),f.tagName==="IMG"&&(f.alt=s.alt||"")),Pe(f,u),s.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(f,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),N=!1;b!==this._shadow&&(this._removeShadow(),N=!0),b&&(Pe(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&N&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&dt(this._icon,s),this._shadow&&dt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nl)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nl(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Xt(this._icon,s),this._shadow&&Xt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,f=u.iconSize?O(u.iconSize):O(0,0),_=u.iconAnchor?O(u.iconAnchor):O(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function il(s,u){return new zs(s,u)}var ai=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return M(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ma=ai.extend({options:{fill:!0,radius:10},initialize:function(s,u){M(this,u),this._latlng=de(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=de(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return ai.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,f=this._clickTolerance(),_=[s+f,u+f];this._pxBounds=new J(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tu(s,u){return new Ma(s,u)}var sl=Ma.extend({initialize:function(s,u,f){if(typeof u=="number"&&(u=c({},f,{radius:u})),M(this,u),this._latlng=de(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ai.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===Fe.distance){var b=Math.PI/180,N=this._mRadius/Fe.R/b,D=f.project([u+N,s]),H=f.project([u-N,s]),K=D.add(H).divideBy(2),ie=f.unproject(K).lat,he=Math.acos((Math.cos(N*b)-Math.sin(u*b)*Math.sin(ie*b))/(Math.cos(u*b)*Math.cos(ie*b)))/b;(isNaN(he)||he===0)&&(he=N/Math.cos(Math.PI/180*u)),this._point=K.subtract(f.getPixelOrigin()),this._radius=isNaN(he)?0:K.x-f.project([ie,s-he]).x,this._radiusY=K.y-D.y}else{var ge=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(ge).x}this._updateBounds()}});function jh(s,u,f){return new sl(s,u,f)}var ri=ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){M(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,f=null,_=Ki,b,N,D=0,H=this._parts.length;D<H;D++)for(var K=this._parts[D],ie=1,he=K.length;ie<he;ie++){b=K[ie-1],N=K[ie];var ge=_(s,b,N,!0);ge<u&&(u=ge,f=_(s,b,N))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=de(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],f=Mt(s),_=0,b=s.length;_<b;_++)f?(u[_]=de(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new le(s,s);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,f){var _=s[0]instanceof xe,b=s.length,N,D;if(_){for(D=[],N=0;N<b;N++)D[N]=this._map.latLngToLayerPoint(s[N]),f.extend(D[N]);u.push(D)}else for(N=0;N<b;N++)this._projectLatlngs(s[N],u,f)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,_,b,N,D,H,K;for(f=0,b=0,N=this._rings.length;f<N;f++)for(K=this._rings[f],_=0,D=K.length;_<D-1;_++)H=Yc(K[_],K[_+1],s,_,!0),H&&(u[b]=u[b]||[],u[b].push(H[0]),(H[1]!==K[_+1]||_===D-2)&&(u[b].push(H[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,f=0,_=s.length;f<_;f++)s[f]=Fc(s[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var f,_,b,N,D,H,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(f=0,N=this._parts.length;f<N;f++)for(H=this._parts[f],_=0,D=H.length,b=D-1;_<D;b=_++)if(!(!u&&_===0)&&Xo(s,H[b],H[_])<=K)return!0;return!1}});function Nh(s,u){return new ri(s,u)}ri._flat=Kc;var Us=ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=ri.prototype._convertLatLngs.call(this,s),f=u.length;return f>=2&&u[0]instanceof xe&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(s){ri.prototype._setLatLngs.call(this,s),Mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,f=new le(u,u);if(s=new J(s.min.subtract(f),s.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,N;_<b;_++)N=Qc(this._rings[_],s,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,f,_,b,N,D,H,K,ie;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(N=0,K=this._parts.length;N<K;N++)for(f=this._parts[N],D=0,ie=f.length,H=ie-1;D<ie;H=D++)_=f[D],b=f[H],_.y>s.y!=b.y>s.y&&s.x<(b.x-_.x)*(s.y-_.y)/(b.y-_.y)+_.x&&(u=!u);return u||ri.prototype._containsPoint.call(this,s,!0)}});function on(s,u){return new Us(s,u)}var ln=rn.extend({initialize:function(s,u){M(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=B(s)?s:s.features,f,_,b;if(u){for(f=0,_=u.length;f<_;f++)b=u[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var N=this.options;if(N.filter&&!N.filter(s))return this;var D=Pa(s,N);return D?(D.feature=Gs(s),D.defaultOptions=D.options,this.resetStyle(D),N.onEachFeature&&N.onEachFeature(s,D),this.addLayer(D)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Pa(s,u){var f=s.type==="Feature"?s.geometry:s,_=f?f.coordinates:null,b=[],N=u&&u.pointToLayer,D=u&&u.coordsToLatLng||Or,H,K,ie,he;if(!_&&!f)return null;switch(f.type){case"Point":return H=D(_),al(N,s,H,u);case"MultiPoint":for(ie=0,he=_.length;ie<he;ie++)H=D(_[ie]),b.push(al(N,s,H,u));return new rn(b);case"LineString":case"MultiLineString":return K=Da(_,f.type==="LineString"?0:1,D),new ri(K,u);case"Polygon":case"MultiPolygon":return K=Da(_,f.type==="Polygon"?1:2,D),new Us(K,u);case"GeometryCollection":for(ie=0,he=f.geometries.length;ie<he;ie++){var ge=Pa({geometry:f.geometries[ie],type:"Feature",properties:s.properties},u);ge&&b.push(ge)}return new rn(b);case"FeatureCollection":for(ie=0,he=f.features.length;ie<he;ie++){var ve=Pa(f.features[ie],u);ve&&b.push(ve)}return new rn(b);default:throw new Error("Invalid GeoJSON object.")}}function al(s,u,f,_){return s?s(u,f):new zs(f,_&&_.markersInheritOptions&&_)}function Or(s){return new xe(s[1],s[0],s[2])}function Da(s,u,f){for(var _=[],b=0,N=s.length,D;b<N;b++)D=u?Da(s[b],u-1,f):(f||Or)(s[b]),_.push(D);return _}function Ia(s,u){return s=de(s),s.alt!==void 0?[T(s.lng,u),T(s.lat,u),T(s.alt,u)]:[T(s.lng,u),T(s.lat,u)]}function kr(s,u,f,_){for(var b=[],N=0,D=s.length;N<D;N++)b.push(u?kr(s[N],Mt(s[N])?0:u-1,f,_):Ia(s[N],_));return!u&&f&&b.length>0&&b.push(b[0].slice()),b}function Nn(s,u){return s.feature?c({},s.feature,{geometry:u}):Gs(u)}function Gs(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ji={toGeoJSON:function(s){return Nn(this,{type:"Point",coordinates:Ia(this.getLatLng(),s)})}};zs.include(Ji),sl.include(Ji),Ma.include(Ji),ri.include({toGeoJSON:function(s){var u=!Mt(this._latlngs),f=kr(this._latlngs,u?1:0,!1,s);return Nn(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),Us.include({toGeoJSON:function(s){var u=!Mt(this._latlngs),f=u&&!Mt(this._latlngs[0]),_=kr(this._latlngs,f?2:u?1:0,!0,s);return u||(_=[_]),Nn(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Wi.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(s).geometry.coordinates)}),Nn(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var f=u==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var N=b.toGeoJSON(s);if(f)_.push(N.geometry);else{var D=Gs(N);D.type==="FeatureCollection"?_.push.apply(_,D.features):_.push(D)}}}),f?Nn(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Rr(s,u){return new ln(s,u)}var nu=Rr,Qn=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,f){this._url=s,this._bounds=fe(u),M(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Hi(this._image),this},bringToBack:function(){return this._map&&Es(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=fe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:He("img");if(Pe(u,"leaflet-image-layer"),this._zoomAnimated&&Pe(u,"leaflet-zoom-animated"),this.options.className&&Pe(u,this.options.className),u.onselectstart=j,u.onmousemove=j,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;pn(this._image,f,u)},_reset:function(){var s=this._image,u=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();dt(s,u.min),s.style.width=f.x+"px",s.style.height=f.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),$s=function(s,u,f){return new Qn(s,u,f)},Lr=Qn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:He("video");if(Pe(u,"leaflet-image-layer"),this._zoomAnimated&&Pe(u,"leaflet-zoom-animated"),this.options.className&&Pe(u,this.options.className),u.onselectstart=j,u.onmousemove=j,u.onloadeddata=p(this.fire,this,"load"),s){for(var f=u.getElementsByTagName("source"),_=[],b=0;b<f.length;b++)_.push(f[b].src);this._url=f.length>0?_:[u.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var D=He("source");D.src=this._url[N],u.appendChild(D)}}});function iu(s,u,f){return new Lr(s,u,f)}var wi=Qn.extend({_initImage:function(){var s=this._image=this._url;Pe(s,"leaflet-image-layer"),this._zoomAnimated&&Pe(s,"leaflet-zoom-animated"),this.options.className&&Pe(s,this.options.className),s.onselectstart=j,s.onmousemove=j}});function su(s,u,f){return new wi(s,u,f)}var Tn=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof xe||B(s))?(this._latlng=de(s),M(this,u)):(M(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(p(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=de(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Hi(this._container),this},bringToBack:function(){return this._map&&Es(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof rn){u=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){u=f[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=O(this.options.offset),f=this._getAnchor();this._zoomAnimated?dt(this._container,s.add(f)):u=u.add(s).add(f);var _=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(s,u,f,_){var b=u;return b instanceof s||(b=new s(_).setContent(u)),f&&b.setLatLng(f),b}}),jn.include({_initOverlay:function(s,u,f,_){var b=f;return b instanceof s?(M(b,_),b._source=this):(b=u&&!_?u:new s(_,this),b.setContent(f)),b}});var Ba=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ai||this._source.on("preclick",si))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ai||this._source.off("preclick",si))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=He("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=He("div",s+"-content-wrapper",u);if(this._contentNode=He("div",s+"-content",f),Ms(u),Ls(this._contentNode),Re(u,"contextmenu",si),this._tipContainer=He("div",s+"-tip-container",u),this._tip=He("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=He("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Re(_,"click",function(b){gt(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var f=s.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,b=this.options.maxHeight,N="leaflet-popup-scrolled";b&&_>b?(u.height=b+"px",Pe(s,N)):it(s,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),f=this._getAnchor();dt(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(qi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,_=this._containerWidth,b=new le(this._containerLeft,-f-this._containerBottom);b._add(vi(this._container));var N=s.layerPointToContainerPoint(b),D=O(this.options.autoPanPadding),H=O(this.options.autoPanPaddingTopLeft||D),K=O(this.options.autoPanPaddingBottomRight||D),ie=s.getSize(),he=0,ge=0;N.x+_+K.x>ie.x&&(he=N.x+_-ie.x+K.x),N.x-he-H.x<0&&(he=N.x-H.x),N.y+f+K.y>ie.y&&(ge=N.y+f-ie.y+K.y),N.y-ge-H.y<0&&(ge=N.y-H.y),(he||ge)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([he,ge]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Th=function(s,u){return new Ba(s,u)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(s,u,f){return this._initOverlay(Ba,s,u,f).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),jn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Ba,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Zn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Mr=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=He("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,f,_=this._map,b=this._container,N=_.latLngToContainerPoint(_.getCenter()),D=_.layerPointToContainerPoint(s),H=this.options.direction,K=b.offsetWidth,ie=b.offsetHeight,he=O(this.options.offset),ge=this._getAnchor();H==="top"?(u=K/2,f=ie):H==="bottom"?(u=K/2,f=0):H==="center"?(u=K/2,f=ie/2):H==="right"?(u=0,f=ie/2):H==="left"?(u=K,f=ie/2):D.x<N.x?(H="right",u=0,f=ie/2):(H="left",u=K+(he.x+ge.x)*2,f=ie/2),s=s.subtract(O(u,f,!0)).add(he).add(ge),it(b,"leaflet-tooltip-right"),it(b,"leaflet-tooltip-left"),it(b,"leaflet-tooltip-top"),it(b,"leaflet-tooltip-bottom"),Pe(b,"leaflet-tooltip-"+H),dt(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Xt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Eh=function(s,u){return new Mr(s,u)};Ue.include({openTooltip:function(s,u,f){return this._initOverlay(Mr,s,u,f).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),jn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mr,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Re(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Re(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,f,_;this._tooltip.options.sticky&&s.originalEvent&&(f=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var rl=Is.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Gt(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=O(f.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function au(s){return new rl(s)}Is.Default=Bs;var Xi=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){M(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),nt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Hi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Es(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof le?s:new le(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,f=-s(-1/0,1/0),_=0,b=u.length,N;_<b;_++)N=u[_].style.zIndex,u[_]!==this._container&&N&&(f=s(f,+N));isFinite(f)&&(this.options.zIndex=f+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be.ielt9){Xt(this._container,this.options.opacity);var s=+new Date,u=!1,f=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var N=Math.min(1,(s-b.loaded)/200);Xt(b.el,N),N<1?u=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(Be(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=He("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===s?(this._levels[f].el.style.zIndex=u-Math.abs(s-f),this._onUpdateLevel(f)):(nt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[s],b=this._map;return _||(_=this._levels[s]={},_.el=He("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,b.getCenter(),b.getZoom()),j(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var s,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)nt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,f,_){var b=Math.floor(s/2),N=Math.floor(u/2),D=f-1,H=new le(+b,+N);H.z=+D;var K=this._tileCoordsToKey(H),ie=this._tiles[K];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),D>_?this._retainParent(b,N,D,_):!1)},_retainChildren:function(s,u,f,_){for(var b=2*s;b<2*s+2;b++)for(var N=2*u;N<2*u+2;N++){var D=new le(b,N);D.z=f+1;var H=this._tileCoordsToKey(D),K=this._tiles[H];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);f+1<_&&this._retainChildren(b,N,f+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,f,_){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var N=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||N)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],s,u)},_setZoomTransform:function(s,u,f){var _=this._map.getZoomScale(f,s.zoom),b=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,f)).round();be.any3d?pn(s.el,b,_):dt(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/f.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/f.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(f,this._tileZoom),b=u.project(s,this._tileZoom).floor(),N=u.getSize().divideBy(_*2);return new J(b.subtract(N),b.add(N))},_update:function(s){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(_),N=b.getCenter(),D=[],H=this.options.keepBuffer,K=new J(b.getBottomLeft().subtract([H,-H]),b.getTopRight().add([H,-H]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var he=this._tiles[ie].coords;(he.z!==this._tileZoom||!K.contains(new le(he.x,he.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(s,f);return}for(var ge=b.min.y;ge<=b.max.y;ge++)for(var ve=b.min.x;ve<=b.max.x;ve++){var ke=new le(ve,ge);if(ke.z=this._tileZoom,!!this._isValidTile(ke)){var st=this._tiles[this._tileCoordsToKey(ke)];st?st.current=!0:D.push(ke)}}if(D.sort(function(Pt,gn){return Pt.distanceTo(N)-gn.distanceTo(N)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ht=document.createDocumentFragment();for(ve=0;ve<D.length;ve++)this._addTile(D[ve],ht);this._level.el.appendChild(ht)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(s.x<f.min.x||s.x>f.max.x)||!u.wrapLat&&(s.y<f.min.y||s.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return fe(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,f=this.getTileSize(),_=s.scaleBy(f),b=_.add(f),N=u.unproject(_,s.z),D=u.unproject(b,s.z);return[N,D]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),f=new ce(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),f=new le(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(s){var u=this._tiles[s];u&&(nt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Pe(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=j,s.onmousemove=j,be.ielt9&&this.options.opacity<1&&Xt(s,this.options.opacity)},_addTile:function(s,u){var f=this._getTilePos(s),_=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&_e(p(this._tileReady,this,s,null,b)),dt(b,f),this._tiles[_]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:s});var _=this._tileCoordsToKey(s);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Xt(f.el,0),Be(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Pe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new le(this._wrapX?w(s.x,this._wrapX):s.x,this._wrapY?w(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new J(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function En(s){return new Xi(s)}var es=Xi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=M(this,u),u.detectRetina&&be.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var f=document.createElement("img");return Re(f,"load",p(this._tileOnLoad,this,u,f)),Re(f,"error",p(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(s),f},getTileUrl:function(s){var u={r:be.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=f),u["-y"]=f}return k(this._url,c(u,this.options))},_tileOnLoad:function(s,u){be.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,f){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(f,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=j,u.onerror=j,!u.complete)){u.src=R;var f=this._tiles[s].coords;nt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",R),Xi.prototype._removeTile.call(this,s)},_tileReady:function(s,u,f){if(!(!this._map||f&&f.getAttribute("src")===R))return Xi.prototype._tileReady.call(this,s,u,f)}});function cn(s,u){return new es(s,u)}var un=es.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var f=c({},this.defaultWmsParams);for(var _ in u)_ in this.options||(f[_]=u[_]);u=M(this,u);var b=u.detectRetina&&be.retina?2:1,N=this.getTileSize();f.width=N.x*b,f.height=N.y*b,this.wmsParams=f},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,es.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),f=this._crs,_=se(f.project(u[0]),f.project(u[1])),b=_.min,N=_.max,D=(this._wmsVersion>=1.3&&this._crs===Xc?[b.y,b.x,N.y,N.x]:[b.x,b.y,N.x,N.y]).join(","),H=es.prototype.getTileUrl.call(this,s);return H+U(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(s,u){return c(this.wmsParams,s),u||this.redraw(),this}});function qs(s,u){return new un(s,u)}es.WMS=un,cn.wms=qs;var An=jn.extend({options:{padding:.1},initialize:function(s){M(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var f=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),N=_.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(s,u));be.any3d?pn(this._container,N,f):dt(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new J(f,f.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),za=An.extend({options:{tolerance:0},getEvents:function(){var s=An.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){An.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Re(s,"mousemove",this._onMouseMove,this),Re(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,nt(this._container),Ve(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){An.prototype._update.call(this);var s=this._bounds,u=this._container,f=s.getSize(),_=be.retina?2:1;dt(u,s.min),u.width=_*f.x,u.height=_*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",be.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){An.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,f=u.next,_=u.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),f=[],_,b;for(b=0;b<u.length;b++){if(_=Number(u[b]),isNaN(_))return;f.push(_)}s.options._dashArray=f}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var f,_,b,N,D=s._parts,H=D.length,K=this._ctx;if(H){for(K.beginPath(),f=0;f<H;f++){for(_=0,b=D[f].length;_<b;_++)N=D[f][_],K[_?"lineTo":"moveTo"](N.x,N.y);u&&K.closePath()}this._fillStroke(K,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,f=this._ctx,_=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||_)/_;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(u.x,u.y/b,_,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,s)}},_fillStroke:function(s,u){var f=u.options;f.fill&&(s.globalAlpha=f.fillOpacity,s.fillStyle=f.fillColor||f.color,s.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=f.opacity,s.lineWidth=f.weight,s.strokeStyle=f.color,s.lineCap=f.lineCap,s.lineJoin=f.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),f,_,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(it(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var f,_,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(u)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,f){this._map._fireDOMEvent(u,f||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var f=u.next,_=u.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var f=u.next,_=u.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Ua(s){return be.canvas?new za(s):null}var ts=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hs={_initContainer:function(){this._container=He("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(An.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=ts("shape");Pe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=ts("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;nt(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,f=s._fill,_=s.options,b=s._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(u||(u=s._stroke=ts("stroke")),b.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=B(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(b.removeChild(u),s._stroke=null),_.fill?(f||(f=s._fill=ts("fill")),b.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(b.removeChild(f),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),f=Math.round(s._radius),_=Math.round(s._radiusY||f);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Hi(s._container)},_bringToBack:function(s){Es(s._container)}},Ga=be.vml?ts:Ec,Si=An.extend({_initContainer:function(){this._container=Ga("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ga("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),Ve(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){An.prototype._update.call(this);var s=this._bounds,u=s.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),dt(f,s.min),f.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Ga("path");s.options.className&&Pe(u,s.options.className),s.options.interactive&&Pe(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){nt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,f=s.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ac(s._parts,u))},_updateCircle:function(s){var u=s._point,f=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||f,b="a"+f+","+_+" 0 1,0 ",N=s._empty()?"M0 0":"M"+(u.x-f)+","+u.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(s,N)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Hi(s._path)},_bringToBack:function(s){Es(s._path)}});be.vml&&Si.include(Hs);function ns(s){return be.svg||be.vml?new Si(s):null}Ue.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Ua(s)||ns(s)}});var ru=Us.extend({initialize:function(s,u){Us.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=fe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function dn(s,u){return new ru(s,u)}Si.create=Ga,Si.pointsToPath=Ac,ln.geometryToLayer=Pa,ln.coordsToLatLng=Or,ln.coordsToLatLngs=Da,ln.latLngToCoords=Ia,ln.latLngsToCoords=kr,ln.getFeature=Nn,ln.asFeature=Gs,Ue.mergeOptions({boxZoom:!0});var Pr=Sn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$n(),Aa(),this._startPoint=this._map.mouseEventToContainerPoint(s),Re(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=He("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new J(this._point,this._startPoint),f=u.getSize();dt(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(nt(this._box),it(this._container,"leaflet-crosshair")),Ea(),Fo(),Ve(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",Pr),Ue.mergeOptions({doubleClickZoom:!0});var Fn=Sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,f=u.getZoom(),_=u.options.zoomDelta,b=s.originalEvent.shiftKey?f-_:f+_;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});Ue.addInitHook("addHandler","doubleClickZoom",Fn),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ol=Sn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new bi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){it(this._map._container,"leaflet-grab"),it(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=fe(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-u+f)%s+u-f,N=(_+u+f)%s-u-f,D=Math.abs(b+f)<Math.abs(N+f)?b:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(s){var u=this._map,f=u.options,_=!f.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,D=f.easeLinearity,H=b.multiplyBy(D/N),K=H.distanceTo([0,0]),ie=Math.min(f.inertiaMaxSpeed,K),he=H.multiplyBy(ie/K),ge=ie/(f.inertiaDeceleration*D),ve=he.multiplyBy(-ge/2).round();!ve.x&&!ve.y?u.fire("moveend"):(ve=u._limitOffset(ve,u.options.maxBounds),_e(function(){u.panBy(ve,{duration:ge,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",ol),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $a=Sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Re(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ve(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,f=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},f=this.keyCodes,_,b;for(_=0,b=f.left.length;_<b;_++)u[f.left[_]]=[-1*s,0];for(_=0,b=f.right.length;_<b;_++)u[f.right[_]]=[s,0];for(_=0,b=f.down.length;_<b;_++)u[f.down[_]]=[0,s];for(_=0,b=f.up.length;_<b;_++)u[f.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},f=this.keyCodes,_,b;for(_=0,b=f.zoomIn.length;_<b;_++)u[f.zoomIn[_]]=s;for(_=0,b=f.zoomOut.length;_<b;_++)u[f.zoomOut[_]]=-s},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,f=this._map,_;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=O(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(O(_),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(b)}else f.panBy(_)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Zn(s)}}});Ue.addInitHook("addHandler","keyboard",$a),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ji=Sn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=ka(s),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),Zn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),f=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,N=f?Math.ceil(b/f)*f:b,D=s._limitZoom(u+(this._delta>0?N:-N))-u;this._delta=0,this._startTime=null,D&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+D):s.setZoomAround(this._lastMousePos,u+D))}});Ue.addInitHook("addHandler","scrollWheelZoom",ji);var ll=600;Ue.mergeOptions({tapHold:be.touchNative&&be.safari&&be.mobile,tapTolerance:15});var Dr=Sn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new le(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",gt),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),ll),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ve(document,"touchend",gt),Ve(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new le(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var f=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});Ue.addInitHook("addHandler","tapHold",Dr),Ue.mergeOptions({touchZoom:be.touch,bounceAtZoomLimits:!0});var is=Sn.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){it(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),gt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),b=f.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var N=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&N.x===0&&N.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var D=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(D,this,!0),gt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",is),Ue.BoxZoom=Pr,Ue.DoubleClickZoom=Fn,Ue.Drag=ol,Ue.Keyboard=$a,Ue.ScrollWheelZoom=ji,Ue.TapHold=Dr,Ue.TouchZoom=is,i.Bounds=J,i.Browser=be,i.CRS=ut,i.Canvas=za,i.Circle=sl,i.CircleMarker=Ma,i.Class=pt,i.Control=en,i.DivIcon=rl,i.DivOverlay=Tn,i.DomEvent=hh,i.DomUtil=$c,i.Draggable=bi,i.Evented=ue,i.FeatureGroup=rn,i.GeoJSON=ln,i.GridLayer=Xi,i.Handler=Sn,i.Icon=Is,i.ImageOverlay=Qn,i.LatLng=xe,i.LatLngBounds=ce,i.Layer=jn,i.LayerGroup=Wi,i.LineUtil=Wc,i.Map=Ue,i.Marker=zs,i.Mixin=yh,i.Path=ai,i.Point=le,i.PolyUtil=xh,i.Polygon=Us,i.Polyline=ri,i.Popup=Ba,i.PosAnimation=jr,i.Projection=Jc,i.Rectangle=ru,i.Renderer=An,i.SVG=Si,i.SVGOverlay=wi,i.TileLayer=es,i.Tooltip=Mr,i.Transformation=_s,i.Util=Kt,i.VideoOverlay=Lr,i.bind=p,i.bounds=se,i.canvas=Ua,i.circle=jh,i.circleMarker=tu,i.control=Ps,i.divIcon=au,i.extend=c,i.featureGroup=La,i.geoJSON=Rr,i.geoJson=nu,i.gridLayer=En,i.icon=Cr,i.imageOverlay=$s,i.latLng=de,i.latLngBounds=fe,i.layerGroup=eu,i.map=Ra,i.marker=il,i.point=O,i.polygon=on,i.polyline=Nh,i.popup=Th,i.rectangle=dn,i.setOptions=M,i.stamp=y,i.svg=ns,i.svgOverlay=su,i.tileLayer=cn,i.tooltip=Eh,i.transformation=Di,i.version=a,i.videoOverlay=iu;var Zs=window.L;i.noConflict=function(){return window.L=Zs,this},window.L=i})}(Kl,Kl.exports)),Kl.exports}var Vd=p2();function kp(r,t,i){return Object.freeze({instance:r,context:t,container:i})}function Rp(r,t){return t==null?function(a,c){const h=$.useRef(void 0);return h.current||(h.current=r(a,c)),h}:function(a,c){const h=$.useRef(void 0);h.current||(h.current=r(a,c));const p=$.useRef(a),{instance:x}=h.current;return $.useEffect(function(){p.current!==a&&(t(x,a,p.current),p.current=a)},[x,a,t]),h}}function a_(r,t){$.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function g2(r){return function(i){const a=Cp(),c=r(Fd(i,a),a);return s_(a.map,i.attribution),Op(c.current,i.eventHandlers),a_(c.current,a),c}}function y2(r,t){const i=$.useRef(void 0);$.useEffect(function(){if(t.pathOptions!==i.current){const c=t.pathOptions??{};r.instance.setStyle(c),i.current=c}},[r,t])}function x2(r){return function(i){const a=Cp(),c=r(Fd(i,a),a);return Op(c.current,i.eventHandlers),a_(c.current,a),y2(c.current,i),c}}function v2(r,t){const i=Rp(r),a=f2(i,t);return d2(a)}function _2(r,t){const i=Rp(r,t),a=x2(i);return u2(a)}function b2(r,t){const i=Rp(r,t),a=g2(i);return h2(a)}function w2(r,t,i){const{opacity:a,zIndex:c}=t;a!=null&&a!==i.opacity&&r.setOpacity(a),c!=null&&c!==i.zIndex&&r.setZIndex(c)}const r_=_2(function({center:t,children:i,...a},c){const h=new Vd.CircleMarker(t,a);return kp(h,c2(c,{overlayContainer:h}))},r2);function S2({bounds:r,boundsOptions:t,center:i,children:a,className:c,id:h,placeholder:p,style:x,whenReady:y,zoom:v,...w},j){const[T]=$.useState({className:c,id:h,style:x}),[A,C]=$.useState(null),M=$.useRef(void 0);$.useImperativeHandle(j,()=>(A==null?void 0:A.map)??null,[A]);const U=$.useCallback(k=>{if(k!==null&&!M.current){const B=new Vd.Map(k,w);M.current=B,i!=null&&v!=null?B.setView(i,v):r!=null&&B.fitBounds(r,t),y!=null&&B.whenReady(y),C(l2(B))}},[]);$.useEffect(()=>()=>{A==null||A.map.remove()},[A]);const z=A?Bn.createElement(Ap,{value:A},a):p??null;return Bn.createElement("div",{...T,ref:U},z)}const o_=$.forwardRef(S2),l_=v2(function(t,i){const a=new Vd.Popup(t,i.overlayContainer);return kp(a,i)},function(t,i,{position:a},c){$.useEffect(function(){const{instance:p}=t;function x(v){v.popup===p&&(p.update(),c(!0))}function y(v){v.popup===p&&c(!1)}return i.map.on({popupopen:x,popupclose:y}),i.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(i.map)):i.overlayContainer.bindPopup(p),function(){var w;i.map.off({popupopen:x,popupclose:y}),(w=i.overlayContainer)==null||w.unbindPopup(),i.map.removeLayer(p)}},[t,i,c,a])}),c_=b2(function({url:t,...i},a){const c=new Vd.TileLayer(t,Fd(i,a));return kp(c,a)},function(t,i,a){w2(t,i,a);const{url:c}=i;c!=null&&c!==a.url&&t.setUrl(c)}),Vl={topTier:[{country:"Iceland",equalityIndex:95,legalIndex:100,publicOpinion:90,safetyRating:"Excellent",cities:[{name:"Reykjavik",coordinates:[64.1466,-21.9426],safetyScore:95,description:"World's most LGBTQ+ friendly capital with comprehensive legal protections",highlights:["Marriage equality","Full anti-discrimination laws","Strong public support"],resources:["Reykjavik Pride","LGBTQ+ community centers","24/7 support hotlines"]}]},{country:"Norway",equalityIndex:87,legalIndex:88,publicOpinion:87,safetyRating:"Excellent",cities:[{name:"Oslo",coordinates:[59.9139,10.7522],safetyScore:90,description:"Progressive Nordic capital with strong LGBTQ+ rights",highlights:["Marriage equality since 2009","Comprehensive hate crime laws","High public acceptance"],resources:["Oslo Pride","LLH (National LGBTQ+ organization)","Youth support services"]},{name:"Bergen",coordinates:[60.3913,5.3221],safetyScore:88,description:"Coastal city with vibrant LGBTQ+ community",highlights:["Strong local LGBTQ+ scene","University town with progressive values"],resources:["Bergen Pride","Student LGBTQ+ groups"]}]},{country:"Uruguay",equalityIndex:84,legalIndex:94,publicOpinion:74,safetyRating:"Excellent",cities:[{name:"Montevideo",coordinates:[-34.9011,-56.1645],safetyScore:85,description:"South America's most progressive capital for LGBTQ+ rights",highlights:["First country in Latin America with marriage equality","Comprehensive gender identity law"],resources:["Montevideo Pride","LGBTQ+ advocacy organizations","Government support programs"]}]},{country:"Spain",equalityIndex:83,legalIndex:100,publicOpinion:67,safetyRating:"Excellent",cities:[{name:"Madrid",coordinates:[40.4168,-3.7038],safetyScore:88,description:"European LGBTQ+ capital with world-famous Pride celebration",highlights:["Chueca district - LGBTQ+ neighborhood","WorldPride host city","Strong legal protections"],resources:["Madrid Pride","FELGTB","Chueca community center"]},{name:"Barcelona",coordinates:[41.3851,2.1734],safetyScore:87,description:"Cosmopolitan city with vibrant LGBTQ+ scene",highlights:["Eixample district LGBTQ+ area","Progressive Catalonian policies"],resources:["Barcelona Pride","LGBTQ+ cultural centers","Beach communities"]},{name:"Valencia",coordinates:[39.4699,-.3763],safetyScore:85,description:"Coastal city ranked among safest for LGBTQ+ digital nomads",highlights:["Growing expat LGBTQ+ community","Beach culture","Affordable living"],resources:["Valencia Pride","International LGBTQ+ meetups"]}]},{country:"Denmark",equalityIndex:81,legalIndex:93,publicOpinion:69,safetyRating:"Excellent",cities:[{name:"Copenhagen",coordinates:[55.6761,12.5683],safetyScore:89,description:"Historic LGBTQ+ friendly city with progressive policies",highlights:["First country to recognize same-sex unions (1989)","Strong anti-discrimination laws"],resources:["Copenhagen Pride","LGBT Danmark","Community support centers"]}]}],highSafety:[{country:"Canada",equalityIndex:79,legalIndex:96,publicOpinion:62,safetyRating:"Very Good",cities:[{name:"Toronto",coordinates:[43.6532,-79.3832],safetyScore:85,description:"Major LGBTQ+ hub with Church-Wellesley Village",highlights:["Historic LGBTQ+ district","Strong legal protections","Diverse community"],resources:["Toronto Pride","The 519 Community Centre","LGBTQ+ health services"]},{name:"Vancouver",coordinates:[49.2827,-123.1207],safetyScore:84,description:"West coast progressive city with strong LGBTQ+ community",highlights:["Davie Village LGBTQ+ neighborhood","Progressive BC policies"],resources:["Vancouver Pride","Qmunity","LGBTQ+ resource centers"]},{name:"Montreal",coordinates:[45.5017,-73.5673],safetyScore:83,description:"Francophone city with vibrant LGBTQ+ culture",highlights:["Le Village LGBTQ+ district","Bilingual LGBTQ+ services"],resources:["Montreal Pride","Fiert Montral","Community organizations"]}]},{country:"Australia",equalityIndex:78,legalIndex:94,publicOpinion:61,safetyRating:"Very Good",cities:[{name:"Sydney",coordinates:[-33.8688,151.2093],safetyScore:84,description:"Global LGBTQ+ destination with famous Mardi Gras",highlights:["Oxford Street LGBTQ+ precinct","Sydney Gay and Lesbian Mardi Gras","Strong community"],resources:["ACON","Sydney Pride","LGBTQ+ health services"]},{name:"Melbourne",coordinates:[-37.8136,144.9631],safetyScore:83,description:"Cultural capital with diverse LGBTQ+ scene",highlights:["Fitzroy and Collingwood LGBTQ+ areas","Progressive Victoria state policies"],resources:["Melbourne Pride","Thorne Harbour Health","Community centers"]}]},{country:"United Kingdom",equalityIndex:69,legalIndex:82,publicOpinion:56,safetyRating:"Good",cities:[{name:"London",coordinates:[51.5074,-.1278],safetyScore:78,description:"Historic LGBTQ+ center with Soho district",highlights:["Soho LGBTQ+ area","Strong legal protections","Diverse communities"],resources:["London Pride","Stonewall UK","LGBTQ+ support services"],concerns:["Recent policy rollbacks affecting trans rights"]},{name:"Brighton",coordinates:[50.8225,-.1372],safetyScore:82,description:"Seaside city known as UK's LGBTQ+ capital",highlights:["High LGBTQ+ population","Progressive local policies","Vibrant scene"],resources:["Brighton Pride","LGBTQ+ community groups","Support services"]}]},{country:"Germany",equalityIndex:73,legalIndex:78,publicOpinion:68,safetyRating:"Good",cities:[{name:"Berlin",coordinates:[52.52,13.405],safetyScore:82,description:"Progressive capital with vibrant LGBTQ+ scene and strong legal protections",highlights:["Schneberg LGBTQ+ district","Marriage equality","Strong anti-discrimination laws","Vibrant nightlife"],resources:["Berlin Pride (CSD)","LGBTQ+ community centers","Schwulenberatung Berlin","Mann-O-Meter"],concerns:["Some areas less accepting","Occasional hate incidents"]}]},{country:"Estonia",equalityIndex:61,legalIndex:65,publicOpinion:57,safetyRating:"Good",cities:[{name:"Tallinn",coordinates:[59.437,24.7536],safetyScore:75,description:"Digital-forward Baltic capital with growing LGBTQ+ acceptance",highlights:["Civil unions recognized","EU protections","Tech-friendly environment","Growing acceptance"],resources:["Estonian LGBT Association","Tallinn Pride","Support organizations"],concerns:["Traditional attitudes in some areas","Limited rural acceptance"]}]},{country:"United States",equalityIndex:71,legalIndex:85,publicOpinion:56,safetyRating:"Variable",cities:[{name:"San Francisco",coordinates:[37.7749,-122.4194],safetyScore:90,description:"Historic LGBTQ+ rights center with Castro district",highlights:["Castro neighborhood","Birthplace of LGBTQ+ rights movement","Strong protections"],resources:["SF Pride","LGBTQ+ Community Center","Health services"]},{name:"New York City",coordinates:[40.7128,-74.006],safetyScore:85,description:"Birthplace of modern LGBTQ+ rights movement",highlights:["Greenwich Village","Stonewall National Monument","Diverse boroughs"],resources:["NYC Pride","LGBTQ+ Center","Community organizations"]},{name:"Seattle",coordinates:[47.6062,-122.3321],safetyScore:84,description:"Progressive Pacific Northwest city",highlights:["Capitol Hill LGBTQ+ district","Strong state protections"],resources:["Seattle Pride","LGBTQ+ organizations","Support services"]},{name:"Las Vegas",coordinates:[36.1699,-115.1398],safetyScore:78,description:"Entertainment capital with growing LGBTQ+ acceptance",highlights:["The Fruit Loop LGBTQ+ district","Nevada state protections","Entertainment industry acceptance"],resources:["Las Vegas Pride","The Center Las Vegas","LGBTQ+ nightlife venues"],concerns:["Conservative areas outside city","Tourism-focused acceptance"]},{name:"Des Moines",coordinates:[41.5868,-93.625],safetyScore:72,description:"Iowa capital with progressive policies and growing acceptance",highlights:["Iowa marriage equality pioneer (2009)","State anti-discrimination laws","Growing LGBTQ+ community"],resources:["Capital City Pride","Iowa Safe Schools","LGBTQ+ community organizations"],concerns:["Rural Iowa less accepting","Political climate variations"]},{name:"Omaha",coordinates:[41.2565,-95.9345],safetyScore:68,description:"Nebraska's largest city with moderate LGBTQ+ acceptance",highlights:["City non-discrimination ordinances","Growing business support","University presence"],resources:["Omaha Pride","LGBTQ+ community center","Support groups"],concerns:["Conservative state politics","Limited statewide protections","Rural areas less accepting"]},{name:"St. Louis",coordinates:[38.627,-90.1994],safetyScore:70,description:"Missouri city with established LGBTQ+ community and mixed acceptance",highlights:["The Grove LGBTQ+ district","City anti-discrimination laws","Historic LGBTQ+ community"],resources:["St. Louis Pride","PROMO (statewide LGBTQ+ advocacy)","Community centers"],concerns:["Conservative state politics","Limited statewide protections","Rural Missouri challenges"]},{name:"Tuscaloosa",coordinates:[33.2098,-87.5692],safetyScore:58,description:"Alabama college town with university-driven acceptance but state-level challenges",highlights:["University of Alabama presence","College town atmosphere","Some local business support"],resources:["University LGBTQ+ groups","Student organizations","Limited local resources"],concerns:["Conservative state laws","Limited legal protections","Rural Alabama hostility","Religious conservatism"]}]}],moderateSafety:[{country:"Taiwan",equalityIndex:59,legalIndex:67,publicOpinion:51,safetyRating:"Good",cities:[{name:"Taipei",coordinates:[25.033,121.5654],safetyScore:75,description:"First Asian city with marriage equality",highlights:["First in Asia with marriage equality","Growing LGBTQ+ acceptance","Safe for digital nomads"],resources:["Taiwan Pride","LGBTQ+ advocacy groups","Community centers"]},{name:"Kaohsiung",coordinates:[22.6273,120.3014],safetyScore:73,description:"Southern Taiwan's progressive city",highlights:["Growing LGBTQ+ scene","Safe environment"],resources:["Local LGBTQ+ groups","Pride events"]}]},{country:"Japan",equalityIndex:52,legalIndex:53,publicOpinion:51,safetyRating:"Moderate",cities:[{name:"Tokyo",coordinates:[35.6762,139.6503],safetyScore:70,description:"Modern metropolis with growing LGBTQ+ acceptance",highlights:["Shinjuku Ni-chome district","Some local partnership recognition","Generally safe"],resources:["Tokyo Pride","LGBTQ+ organizations","Community spaces"],concerns:["Limited legal recognition","Traditional social attitudes"]},{name:"Osaka",coordinates:[34.6937,135.5023],safetyScore:68,description:"Commercial hub with LGBTQ+ community",highlights:["Growing acceptance","Business-friendly environment"],resources:["Kansai Pride","Local LGBTQ+ groups"]}]}],cautionTier:[{country:"Russia",equalityIndex:29,legalIndex:35,publicOpinion:23,safetyRating:"High Risk",cities:[{name:"Moscow",coordinates:[55.7558,37.6176],safetyScore:25,description:"Capital with severe restrictions on LGBTQ+ rights",highlights:[],resources:[],concerns:["'Gay propaganda' laws","Banned Pride events","Discrimination legal","Safety risks"]},{name:"St. Petersburg",coordinates:[59.9311,30.3609],safetyScore:23,description:"Cultural center with restrictive LGBTQ+ laws",concerns:["Legal restrictions","Social hostility","Limited resources"]}]}],highRisk:[{country:"Saudi Arabia",equalityIndex:12,legalIndex:3,publicOpinion:22,safetyRating:"Extreme Risk",cities:[{name:"Riyadh",coordinates:[24.7136,46.6753],safetyScore:5,description:"Capital with severe criminalization of LGBTQ+ people",concerns:["Death penalty possible","Complete criminalization","No legal protections","Extreme danger"]}]},{country:"Iran",equalityIndex:5,legalIndex:7,publicOpinion:3,safetyRating:"Extreme Risk",cities:[{name:"Tehran",coordinates:[35.6892,51.389],safetyScore:3,description:"Capital with death penalty for homosexuality",concerns:["Death penalty","Complete criminalization","State persecution","Extreme danger"]}]}]},jv={excellent:{description:"Fully safe for LGBTQ+ travelers with comprehensive legal protections",tips:["Enjoy full freedom of expression","Access to LGBTQ+ venues and events","Strong community support available"]},veryGood:{description:"Generally safe with good legal protections and social acceptance",tips:["Research local LGBTQ+ areas","Connect with local community","Be aware of regional variations"]},good:{description:"Mostly safe in urban areas with some legal protections",tips:["Stay in LGBTQ+-friendly accommodations","Research local laws","Connect with LGBTQ+ organizations"]},moderate:{description:"Exercise caution, limited legal protections",tips:["Be discreet in public","Research local customs","Have emergency contacts","Stay in major cities"]},highRisk:{description:"Significant safety concerns, limited or no legal protections",tips:["Extreme discretion required","Avoid public displays of affection","Have exit strategy","Contact embassy if needed"]},extremeRisk:{description:"Severe criminalization and persecution, travel not recommended",tips:["Avoid travel if possible","If must travel, maintain complete discretion","Have emergency evacuation plan"]}},j2=()=>{const[r,t]=$.useState({safetyTier:"all",minSafetyScore:0,region:"all"}),[i,a]=$.useState([]),[c,h]=$.useState(null),[p,x]=$.useState("overview");$.useEffect(()=>{let T=[...Vl.topTier.flatMap(A=>A.cities.map(C=>({...C,country:A.country,tier:"excellent",equalityIndex:A.equalityIndex}))),...Vl.highSafety.flatMap(A=>A.cities.map(C=>({...C,country:A.country,tier:"veryGood",equalityIndex:A.equalityIndex}))),...Vl.moderateSafety.flatMap(A=>A.cities.map(C=>({...C,country:A.country,tier:"moderate",equalityIndex:A.equalityIndex}))),...Vl.cautionTier.flatMap(A=>A.cities.map(C=>({...C,country:A.country,tier:"highRisk",equalityIndex:A.equalityIndex}))),...Vl.highRisk.flatMap(A=>A.cities.map(C=>({...C,country:A.country,tier:"extremeRisk",equalityIndex:A.equalityIndex})))].filter(A=>{var C;return!(r.safetyTier!=="all"&&A.tier!==r.safetyTier||A.safetyScore<r.minSafetyScore||r.region!=="all"&&!((C={europe:["Iceland","Norway","Spain","Denmark","United Kingdom"],americas:["Canada","United States","Uruguay"],asia:["Taiwan","Japan"],oceania:["Australia"],africa:[],middleEast:["Saudi Arabia","Iran"]}[r.region])!=null&&C.includes(A.country)))});a(T)},[r]);const y=j=>j>=85?"#10B981":j>=70?"#F59E0B":j>=50?"#EF4444":"#6B7280",v=j=>{const T={excellent:{color:"bg-green-100 text-green-800",text:"Excellent"},veryGood:{color:"bg-blue-100 text-blue-800",text:"Very Good"},moderate:{color:"bg-yellow-100 text-yellow-800",text:"Moderate"},highRisk:{color:"bg-orange-100 text-orange-800",text:"High Risk"},extremeRisk:{color:"bg-red-100 text-red-800",text:"Extreme Risk"}},A=T[j]||T.moderate;return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.color}`,children:A.text})},w=j=>{const T=jv[j.tier]||jv.moderate;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-xl font-semibold",children:[j.name,", ",j.country]}),v(j.tier)]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(va,{className:"w-5 h-5 text-blue-600 mr-2"}),l.jsx("span",{className:"font-medium",children:"Safety Score"})]}),l.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[j.safetyScore,"/100"]})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Un,{className:"w-5 h-5 text-purple-600 mr-2"}),l.jsx("span",{className:"font-medium",children:"Equality Index"})]}),l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[j.equalityIndex,"/100"]})]})]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:l.jsx("p",{className:"text-gray-700",children:j.description})})]}),j.highlights&&j.highlights.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[l.jsx(_a,{className:"w-5 h-5 text-green-600 mr-2"}),"Key Highlights"]}),l.jsx("ul",{className:"space-y-2",children:j.highlights.map((A,C)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:A})]},C))})]}),j.resources&&j.resources.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[l.jsx(Tt,{className:"w-5 h-5 text-blue-600 mr-2"}),"Available Resources"]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:j.resources.map((A,C)=>l.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:l.jsx("span",{className:"text-blue-800",children:A})},C))})]}),j.concerns&&j.concerns.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[l.jsx(Qm,{className:"w-5 h-5 text-orange-600 mr-2"}),"Safety Concerns"]}),l.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:l.jsx("ul",{className:"space-y-2",children:j.concerns.map((A,C)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx(Qm,{className:"w-4 h-4 text-orange-600 mr-2 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-orange-800",children:A})]},C))})})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[l.jsx(jN,{className:"w-5 h-5 text-indigo-600 mr-2"}),"Travel Advisory"]}),l.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-indigo-800 mb-3",children:T.description}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-indigo-900",children:"Safety Tips:"}),l.jsx("ul",{className:"mt-2 space-y-1",children:T.tips.map((A,C)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full mt-2 mr-2 flex-shrink-0"}),l.jsx("span",{className:"text-indigo-800 text-sm",children:A})]},C))})]})]})]})]})};return l.jsxs("div",{className:"w-full h-full",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-lg",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Global LGBTQ+ Safety Intelligence Map"}),l.jsx("p",{className:"text-blue-100",children:"Comprehensive safety data for LGBTQ+ travelers and communities worldwide"})]}),l.jsx("div",{className:"bg-white p-4 shadow-md border-x border-gray-200",children:l.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Safety Level"}),l.jsxs("select",{value:r.safetyTier,onChange:j=>t({...r,safetyTier:j.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"all",children:"All Levels"}),l.jsx("option",{value:"excellent",children:"Excellent"}),l.jsx("option",{value:"veryGood",children:"Very Good"}),l.jsx("option",{value:"moderate",children:"Moderate"}),l.jsx("option",{value:"highRisk",children:"High Risk"}),l.jsx("option",{value:"extremeRisk",children:"Extreme Risk"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Region"}),l.jsxs("select",{value:r.region,onChange:j=>t({...r,region:j.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"all",children:"All Regions"}),l.jsx("option",{value:"europe",children:"Europe"}),l.jsx("option",{value:"americas",children:"Americas"}),l.jsx("option",{value:"asia",children:"Asia"}),l.jsx("option",{value:"oceania",children:"Oceania"}),l.jsx("option",{value:"africa",children:"Africa"}),l.jsx("option",{value:"middleEast",children:"Middle East"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Minimum Safety Score"}),l.jsxs("select",{value:r.minSafetyScore,onChange:j=>t({...r,minSafetyScore:parseFloat(j.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:0,children:"Any Score"}),l.jsx("option",{value:70,children:"Good (70+)"}),l.jsx("option",{value:80,children:"Very Good (80+)"}),l.jsx("option",{value:90,children:"Excellent (90+)"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded-md w-full text-center",children:[i.length," cities found"]})})]})}),l.jsxs("div",{className:"relative",children:[l.jsxs(o_,{center:[40.7128,-74.006],zoom:2,style:{height:"600px",width:"100%"},className:"border-x border-b border-gray-200",children:[l.jsx(c_,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i.map((j,T)=>l.jsx(r_,{center:j.coordinates,radius:8,fillColor:y(j.safetyScore),color:"#fff",weight:2,opacity:1,fillOpacity:.8,eventHandlers:{click:()=>h(j)},children:l.jsx(l_,{children:l.jsxs("div",{className:"min-w-[300px]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-bold text-lg",children:j.name}),v(j.tier)]}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(va,{className:"w-4 h-4 text-yellow-500 mr-2"}),l.jsxs("span",{children:["Safety Score: ",j.safetyScore,"/100"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description}),l.jsx("button",{onClick:()=>h(j),className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"View Full Details"})]})})},`${j.country}-${j.name}-${T}`))]}),l.jsxs("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Safety Score Legend"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 mr-2"}),l.jsx("span",{children:"85+ Excellent"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500 mr-2"}),l.jsx("span",{children:"70-84 Good"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500 mr-2"}),l.jsx("span",{children:"50-69 Caution"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-500 mr-2"}),l.jsx("span",{children:"<50 High Risk"})]})]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl h-[80vh] overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold",children:[c.name,", ",c.country]}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(va,{className:"w-5 h-5 text-yellow-300 mr-2"}),l.jsxs("span",{children:["Safety Score: ",c.safetyScore,"/100"]}),l.jsx("div",{className:"ml-4",children:v(c.tier)})]})]}),l.jsx("button",{onClick:()=>h(null),className:"text-white hover:text-gray-200 text-2xl",children:""})]})}),l.jsx("div",{className:"p-6 overflow-y-auto h-full",children:w(c)})]})}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-b-lg border-x border-b border-gray-200",children:l.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[l.jsx("p",{children:"Data sources: Equaldex Equality Index, ILGA-Europe Rainbow Map, and community reports"}),l.jsx("p",{className:"mt-1",children:"Last updated: October 2025  For emergency assistance, contact local LGBTQ+ organizations"})]})})]})},N2=()=>l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Queer Safety Index",l.jsx("span",{className:"block text-blue-200 text-2xl md:text-3xl mt-2",children:"Global LGBTQ+ Safety Intelligence"})]}),l.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8",children:"Comprehensive, real-time safety data for LGBTQ+ individuals, families, and communities worldwide. Make informed decisions about travel, relocation, and daily life with our privacy-first intelligence platform."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold",children:"195+"}),l.jsx("div",{className:"text-blue-200",children:"Countries Covered"})]}),l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold",children:"1,000+"}),l.jsx("div",{className:"text-blue-200",children:"Cities Analyzed"})]}),l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),l.jsx("div",{className:"text-blue-200",children:"Real-time Updates"})]})]})]})})}),l.jsx("div",{className:"py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Comprehensive Safety Intelligence"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our QSi platform combines legal analysis, community insights, and real-time data to provide the most accurate safety intelligence for LGBTQ+ communities."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:[l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(Tt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Legal Protections"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Comprehensive analysis of LGBTQ+ rights, anti-discrimination laws, and legal protections"})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(zn,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Community Insights"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Real experiences from LGBTQ+ community members and local advocacy organizations"})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(pi,{className:"h-12 w-12 text-pink-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Family Safety"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Specialized data for LGBTQ+ families, parents, and children with intersectional considerations"})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(Un,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Global Coverage"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Worldwide data with city-level granularity and cultural context for informed decisions"})]})]})]})}),l.jsx("div",{className:"py-8",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:l.jsx(j2,{})})})}),l.jsx("div",{className:"py-16 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"How to Use the QSi Map"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Get the most out of our safety intelligence platform with these simple steps"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"1"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Filter Your Needs"}),l.jsx("p",{className:"text-gray-600",children:"Use our filters to find locations that match your specific safety requirements, family situation, and travel preferences."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"2"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Explore Locations"}),l.jsx("p",{className:"text-gray-600",children:"Click on any city marker to view detailed safety information, legal protections, community resources, and travel advisories."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-green-600",children:"3"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Make Informed Decisions"}),l.jsx("p",{className:"text-gray-600",children:"Use our comprehensive data to make informed decisions about travel, relocation, or daily activities with confidence and safety."})]})]})]})}),l.jsx("div",{className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Trusted Data Sources"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our safety intelligence is built on authoritative sources and community-verified data"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Legal Analysis"}),l.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[l.jsx("li",{children:" Equaldex Equality Index"}),l.jsx("li",{children:" ILGA-Europe Rainbow Map"}),l.jsx("li",{children:" National legislation databases"}),l.jsx("li",{children:" Court case precedents"})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Community Data"}),l.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[l.jsx("li",{children:" LGBTQ+ organization reports"}),l.jsx("li",{children:" Community safety surveys"}),l.jsx("li",{children:" Incident reporting systems"}),l.jsx("li",{children:" Local advocacy groups"})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Real-time Intelligence"}),l.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[l.jsx("li",{children:" News monitoring systems"}),l.jsx("li",{children:" Social media sentiment analysis"}),l.jsx("li",{children:" Government policy tracking"}),l.jsx("li",{children:" Emergency alert networks"})]})]})]})]})}),l.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Tt,{className:"h-16 w-16 text-blue-200 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Privacy-First Design"}),l.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8",children:"Your privacy and safety are our top priorities. Our zero-knowledge architecture ensures that your location data and personal information remain completely private while you access the safety intelligence you need."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Zero-Knowledge Architecture"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"No personal data stored or tracked"})]}),l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"End-to-End Encryption"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"All data transmission is encrypted"})]}),l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Anonymous Access"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"No registration or login required"})]})]})]})})}),l.jsx("div",{className:"py-16 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Need More Advanced Features?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Unlock enterprise-grade safety intelligence with personalized risk assessments, real-time alerts, and dedicated support for organizations and communities."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("a",{href:"/contact",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105",children:"Request Enterprise Access"}),l.jsx("a",{href:"/zk-demo",className:"bg-white text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-gray-300 hover:border-blue-600 hover:text-blue-600 transition-all",children:"Explore Zero-Knowledge Demo"})]})]})})]}),T2=()=>{const[r,t]=$.useState(1),[i,a]=$.useState(""),[c,h]=$.useState(!1),[p,x]=$.useState(""),[y,v]=$.useState(""),[w,j]=$.useState(!1),T=()=>{h(!0),setTimeout(()=>{const U=btoa(i).replace(/[+/=]/g,z=>({"+":"-","/":"_","=":""})[z]);x(U),t(2)},1e3),setTimeout(()=>{const U="zk_"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);v(U),t(3)},2e3),setTimeout(()=>{h(!1),t(4)},3e3)},A=()=>{t(1),a(""),x(""),v(""),h(!1),j(!1)},C=U=>r>U?"complete":r===U?"active":"pending",M=({step:U,title:z,status:k})=>{const B=()=>{switch(k){case"complete":return"bg-green-600 text-white";case"active":return"bg-blue-600 text-white";default:return"bg-gray-300 text-gray-600"}};return l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${B()}`,children:k==="complete"?l.jsx(_a,{className:"w-5 h-5"}):U}),l.jsx("span",{className:`ml-2 text-sm font-medium ${k==="active"?"text-blue-600":k==="complete"?"text-green-600":"text-gray-500"}`,children:z})]})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[l.jsx("section",{className:"pt-24 pb-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Nt,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[l.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx("img",{src:"/images/IMG_1968(3).png",alt:"Rainbow Shield",className:"h-16 w-auto mr-4"}),l.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900",children:"Zero-Knowledge Demo"})]}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Experience how our zero-knowledge technology protects your privacy while contributing to community safety intelligence."})]})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(M,{step:1,title:"Input Data",status:C(1)}),l.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4",children:l.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ${r>=2?"w-1/3":"w-0"}`})}),l.jsx(M,{step:2,title:"Encrypt",status:C(2)}),l.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4",children:l.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ${r>=3?"w-2/3":r>=2?"w-1/3":"w-0"}`})}),l.jsx(M,{step:3,title:"Generate Proof",status:C(3)}),l.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4",children:l.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ${r>=4?"w-full":"w-0"}`})}),l.jsx(M,{step:4,title:"Complete",status:C(4)})]})}),r===1&&l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 1: Enter Your Safety Data"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Share a location or safety experience. This will be processed using zero-knowledge proofs to contribute to community safety while keeping your data completely private."}),l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("textarea",{value:i,onChange:U=>a(U.target.value),placeholder:"e.g., 'Found a very welcoming LGBTQ+ bookstore in downtown Seattle with friendly staff and inclusive atmosphere'",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4 h-24 resize-none"}),l.jsx("button",{onClick:T,disabled:!i.trim()||c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50",children:c?"Processing...":"Process with Zero-Knowledge"})]})]}),r===2&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-6"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Step 2: Local Encryption"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your data is being encrypted on your device before any transmission..."}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx(xs,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-blue-800",children:"Encrypting locally to ensure privacy"})]})]}),r===3&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-pulse",children:l.jsx(dr,{className:"w-16 h-16 text-purple-600 mx-auto mb-6"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Step 3: Generating Zero-Knowledge Proof"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Creating cryptographic proof without revealing your original data..."}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx(vN,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-purple-800",children:"Generating mathematical proof of validity"})]})]}),r===4&&l.jsxs("div",{className:"text-center",children:[l.jsx(_a,{className:"w-16 h-16 text-green-600 mx-auto mb-6"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Zero-Knowledge Processing Complete"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[l.jsx(Ep,{className:"w-8 h-8 text-red-600 mx-auto mb-3"}),l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Your Data Stays Private"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Your original input was never exposed to our servers."}),l.jsx("div",{className:"bg-white p-3 rounded border text-xs text-gray-500 font-mono",children:"Original: [ENCRYPTED LOCALLY]"})]}),l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[l.jsx(Tt,{className:"w-8 h-8 text-green-600 mx-auto mb-3"}),l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Safety Intelligence Generated"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Cryptographic proof contributed to community safety."}),l.jsxs("div",{className:"bg-white p-3 rounded border text-xs text-green-600 font-mono",children:["Proof: ",y]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("button",{onClick:()=>j(!w),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:[w?"Hide":"Show"," Technical Details"]})}),w&&l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6 text-left",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(TN,{className:"w-5 h-5 mr-2"}),"Technical Implementation"]}),l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Encryption Algorithm:"})," AES-256-GCM with client-side key generation"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Zero-Knowledge Protocol:"})," zk-SNARKs (Zero-Knowledge Succinct Non-Interactive Arguments of Knowledge)"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Proof System:"})," Groth16 with BN254 elliptic curve"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Privacy Guarantee:"})," Computational zero-knowledge with statistical soundness"]}),l.jsxs("div",{className:"bg-white p-3 rounded border",children:[l.jsx("strong",{children:"Encrypted Data Hash:"}),l.jsx("code",{className:"block mt-1 text-xs text-gray-600 font-mono break-all",children:p})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{onClick:A,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Try Again"}),l.jsx(Nt,{to:"/contact",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"Learn More"})]})]}),l.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"How Zero-Knowledge Works"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(xs,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"1. Encrypt Locally"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Your data is encrypted on your device before any transmission"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(dr,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"2. Generate Proof"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Cryptographic proof is created without revealing the original data"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(Tt,{className:"w-6 h-6 text-green-600"})}),l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"3. Contribute Safely"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Only the proof is shared, contributing to safety intelligence"})]})]})]})]})})})]})},E2=({onProfileComplete:r})=>{const[t,i]=$.useState(1),[a,c]=$.useState({familyMembers:[],primaryConcerns:[],intersectionalFactors:[],privacyLevel:"maximum"}),[h,p]=$.useState(null),[x,y]=$.useState(!1),[v,w]=$.useState(!1),j=async R=>{y(!0),await new Promise(re=>setTimeout(re,2e3));const X=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(JSON.stringify(R))),ae={timestamp:Date.now(),profileHash:Array.from(new Uint8Array(X)).map(re=>re.toString(16).padStart(2,"0")).join(""),proofs:{hasCisParentLGBTQChild:R.familyMembers.some(re=>re.relationship==="parent"&&re.identity==="cisgender_heterosexual"&&R.familyMembers.some(me=>me.relationship==="child"&&me.identity!=="cisgender_heterosexual")),hasLGBTQParents:R.familyMembers.some(re=>re.relationship==="parent"&&re.identity!=="cisgender_heterosexual"),hasMixedFamily:R.familyMembers.length>0&&R.familyMembers.some(re=>re.identity!=="cisgender_heterosexual")&&R.familyMembers.some(re=>re.identity==="cisgender_heterosexual"),hasIntersectionalNeeds:R.intersectionalFactors.length>0,hasLesbianMembers:R.familyMembers.some(re=>re.identity==="lesbian"),hasGayMembers:R.familyMembers.some(re=>re.identity==="gay"),hasBisexualMembers:R.familyMembers.some(re=>re.identity==="bisexual"),hasTransgenderMembers:R.familyMembers.some(re=>re.identity.includes("transgender")||re.identity==="transgender_woman"||re.identity==="transgender_man"),hasNonbinaryMembers:R.familyMembers.some(re=>re.identity==="nonbinary"||re.identity==="genderfluid"||re.identity==="genderqueer"||re.identity==="agender"),hasIntersexMembers:R.familyMembers.some(re=>re.identity==="intersex"),hasAsexualMembers:R.familyMembers.some(re=>re.identity==="asexual"||re.identity==="aromantic"||re.identity==="demisexual"),hasQuestioningMembers:R.familyMembers.some(re=>re.identity==="questioning"||re.identity==="queer"),needsLesbianSpecificSupport:R.intersectionalFactors.includes("lesbian_specific"),needsGayMenSpecificSupport:R.intersectionalFactors.includes("gay_men_specific"),needsBisexualSpecificSupport:R.intersectionalFactors.includes("bisexual_specific"),needsTransgenderSpecificSupport:R.intersectionalFactors.includes("transgender_specific"),needsNonbinarySpecificSupport:R.intersectionalFactors.includes("nonbinary_specific"),needsIntersexSpecificSupport:R.intersectionalFactors.includes("intersex_specific"),needsAsexualSpecificSupport:R.intersectionalFactors.includes("asexual_specific"),needsQuestioningSupport:R.intersectionalFactors.includes("queer_questioning"),needsRaceEthnicityConsiderations:R.intersectionalFactors.includes("race_ethnicity"),needsDisabilityConsiderations:R.intersectionalFactors.includes("disability"),needsImmigrationConsiderations:R.intersectionalFactors.includes("immigration"),needsAgeSpecificConsiderations:R.intersectionalFactors.includes("age_specific"),needsEconomicConsiderations:R.intersectionalFactors.includes("economic"),needsReligiousConsiderations:R.intersectionalFactors.includes("religious"),needsRuralUrbanConsiderations:R.intersectionalFactors.includes("rural_urban"),needsLanguageSupport:R.intersectionalFactors.includes("language"),needsMentalHealthSupport:R.intersectionalFactors.includes("mental_health"),needsSubstanceRecoverySupport:R.intersectionalFactors.includes("substance_recovery"),needsDomesticViolenceSupport:R.intersectionalFactors.includes("domestic_violence"),needsSexWorkConsiderations:R.intersectionalFactors.includes("sex_work"),needsVeteranSupport:R.intersectionalFactors.includes("military_veteran"),needsCriminalJusticeSupport:R.intersectionalFactors.includes("incarceration_history"),prioritizesSchoolSafety:R.primaryConcerns.includes("school_safety"),prioritizesHealthcareAccess:R.primaryConcerns.includes("healthcare_access"),prioritizesLegalProtections:R.primaryConcerns.includes("legal_protections"),prioritizesCommunitySupport:R.primaryConcerns.includes("community_support"),prioritizesWorkplaceSafety:R.primaryConcerns.includes("workplace_safety"),prioritizesHousingSecurity:R.primaryConcerns.includes("housing_security"),prioritizesPublicSafety:R.primaryConcerns.includes("public_safety"),prioritizesTravelSafety:R.primaryConcerns.includes("travel_safety")},encryptedProfile:btoa(JSON.stringify(R))};return y(!1),ae},T=R=>{c(X=>({...X,familyMembers:[...X.familyMembers,{...R,id:Date.now()}]}))},A=R=>{c(X=>({...X,familyMembers:X.familyMembers.filter(ae=>ae.id!==R)}))},C=R=>{c(X=>({...X,primaryConcerns:X.primaryConcerns.includes(R)?X.primaryConcerns.filter(ae=>ae!==R):[...X.primaryConcerns,R]}))},M=R=>{c(X=>({...X,intersectionalFactors:X.intersectionalFactors.includes(R)?X.intersectionalFactors.filter(ae=>ae!==R):[...X.intersectionalFactors,R]}))},U=async()=>{const R=await j(a);p(R),r(R)},z=()=>{const[R,X]=$.useState({relationship:"",identity:"",ageRange:""}),ae=()=>{R.relationship&&R.identity&&(T(R),X({relationship:"",identity:"",ageRange:""}))};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[l.jsx(zn,{className:"w-5 h-5 mr-2"}),"Family Composition (Encrypted Locally)"]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(xs,{className:"w-4 h-4 text-blue-600 mr-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Zero-Knowledge Privacy"})]}),l.jsx("p",{className:"text-sm text-blue-700",children:"This information is encrypted on your device and never sent to our servers. We only receive mathematical proofs about your safety needs."})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("select",{value:R.relationship,onChange:re=>X({...R,relationship:re.target.value}),className:"p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:"Relationship"}),l.jsx("option",{value:"parent",children:"Parent/Guardian"}),l.jsx("option",{value:"child",children:"Child"}),l.jsx("option",{value:"partner",children:"Partner/Spouse"}),l.jsx("option",{value:"sibling",children:"Sibling"}),l.jsx("option",{value:"extended",children:"Extended Family"}),l.jsx("option",{value:"chosen",children:"Chosen Family"})]}),l.jsxs("select",{value:R.identity,onChange:re=>X({...R,identity:re.target.value}),className:"p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:"Identity"}),l.jsx("option",{value:"cisgender_heterosexual",children:"Cisgender/Heterosexual"}),l.jsxs("optgroup",{label:"Sexual Orientation",children:[l.jsx("option",{value:"lesbian",children:"Lesbian"}),l.jsx("option",{value:"gay",children:"Gay"}),l.jsx("option",{value:"bisexual",children:"Bisexual"}),l.jsx("option",{value:"pansexual",children:"Pansexual"}),l.jsx("option",{value:"asexual",children:"Asexual"}),l.jsx("option",{value:"aromantic",children:"Aromantic"}),l.jsx("option",{value:"demisexual",children:"Demisexual"}),l.jsx("option",{value:"graysexual",children:"Graysexual"})]}),l.jsxs("optgroup",{label:"Gender Identity",children:[l.jsx("option",{value:"transgender_woman",children:"Transgender Woman"}),l.jsx("option",{value:"transgender_man",children:"Transgender Man"}),l.jsx("option",{value:"nonbinary",children:"Non-binary"}),l.jsx("option",{value:"genderfluid",children:"Genderfluid"}),l.jsx("option",{value:"genderqueer",children:"Genderqueer"}),l.jsx("option",{value:"agender",children:"Agender"}),l.jsx("option",{value:"demigender",children:"Demigender"}),l.jsx("option",{value:"two_spirit",children:"Two-Spirit"})]}),l.jsx("optgroup",{label:"Intersex",children:l.jsx("option",{value:"intersex",children:"Intersex"})}),l.jsxs("optgroup",{label:"Umbrella Terms",children:[l.jsx("option",{value:"queer",children:"Queer"}),l.jsx("option",{value:"questioning",children:"Questioning"}),l.jsx("option",{value:"lgbtqia_plus",children:"LGBTQIA+"})]}),l.jsx("optgroup",{label:"Multiple Identities",children:l.jsx("option",{value:"multiple_identities",children:"Multiple LGBTQIA+ Identities"})})]}),l.jsxs("select",{value:R.ageRange,onChange:re=>X({...R,ageRange:re.target.value}),className:"p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:"Age Range"}),l.jsx("option",{value:"child",children:"Child (0-12)"}),l.jsx("option",{value:"teen",children:"Teen (13-17)"}),l.jsx("option",{value:"young_adult",children:"Young Adult (18-25)"}),l.jsx("option",{value:"adult",children:"Adult (26-64)"}),l.jsx("option",{value:"senior",children:"Senior (65+)"})]})]}),l.jsx("button",{onClick:ae,disabled:!R.relationship||!R.identity,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Add Family Member"}),l.jsx("div",{className:"space-y-2",children:a.familyMembers.map(re=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md",children:[l.jsxs("span",{className:"text-sm",children:[re.relationship," - ",re.identity," ",re.ageRange&&`(${re.ageRange})`]}),l.jsx("button",{onClick:()=>A(re.id),className:"text-red-600 hover:text-red-800",children:"Remove"})]},re.id))})]})},k=()=>{const R=[{id:"school_safety",label:"School Safety & Policies",icon:""},{id:"healthcare_access",label:"Healthcare Access",icon:""},{id:"legal_protections",label:"Legal Protections",icon:""},{id:"community_support",label:"Community Support",icon:""},{id:"workplace_safety",label:"Workplace Safety",icon:""},{id:"housing_security",label:"Housing Security",icon:""},{id:"public_safety",label:"Public Safety",icon:""},{id:"travel_safety",label:"Travel Safety",icon:""}];return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Primary Safety Concerns"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:R.map(X=>l.jsxs("label",{className:"flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"checkbox",checked:a.primaryConcerns.includes(X.id),onChange:()=>C(X.id),className:"mr-3"}),l.jsx("span",{className:"mr-2",children:X.icon}),l.jsx("span",{className:"text-sm",children:X.label})]},X.id))})]})},B=()=>{const R=[{id:"lesbian_specific",label:"Lesbian-Specific Safety Concerns",icon:""},{id:"gay_men_specific",label:"Gay Men-Specific Safety Concerns",icon:""},{id:"bisexual_specific",label:"Bisexual Erasure & Biphobia",icon:""},{id:"transgender_specific",label:"Transgender Safety & Healthcare",icon:""},{id:"nonbinary_specific",label:"Non-binary Recognition & Rights",icon:""},{id:"intersex_specific",label:"Intersex Medical & Legal Rights",icon:""},{id:"asexual_specific",label:"Asexual/Aromantic Recognition",icon:""},{id:"queer_questioning",label:"Questioning & Fluid Identity Support",icon:""},{id:"race_ethnicity",label:"Race & Ethnicity Considerations",icon:""},{id:"disability",label:"Disability & Accessibility",icon:""},{id:"immigration",label:"Immigration Status",icon:""},{id:"age_specific",label:"Age-Specific Needs",icon:""},{id:"economic",label:"Economic Factors",icon:""},{id:"religious",label:"Religious Considerations",icon:""},{id:"rural_urban",label:"Rural/Urban Context",icon:""},{id:"language",label:"Language Barriers",icon:""},{id:"mental_health",label:"Mental Health Support Needs",icon:""},{id:"substance_recovery",label:"Substance Use Recovery",icon:""},{id:"domestic_violence",label:"Domestic Violence Survivor",icon:""},{id:"sex_work",label:"Sex Work Considerations",icon:""},{id:"military_veteran",label:"Military/Veteran Status",icon:""},{id:"incarceration_history",label:"Criminal Justice System History",icon:""}];return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Intersectional Considerations"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:R.map(X=>l.jsxs("label",{className:"flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"checkbox",checked:a.intersectionalFactors.includes(X.id),onChange:()=>M(X.id),className:"mr-3"}),l.jsx("span",{className:"mr-2",children:X.icon}),l.jsx("span",{className:"text-sm",children:X.label})]},X.id))})]})},P=()=>h?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[l.jsx(Tt,{className:"w-5 h-5 mr-2 text-green-600"}),"Zero-Knowledge Proof Generated"]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(_a,{className:"w-4 h-4 text-green-600 mr-2"}),l.jsx("span",{className:"font-medium",children:"Privacy-Preserving Profile Complete"})]}),l.jsx("p",{className:"text-sm text-green-700",children:"Your family profile has been converted into mathematical proofs. Only safety matching data is shared - your personal details remain encrypted on your device."})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"font-medium",children:"Proof Details"}),l.jsxs("button",{onClick:()=>w(!v),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[v?l.jsx(Ep,{className:"w-4 h-4 mr-1"}):l.jsx(Qd,{className:"w-4 h-4 mr-1"}),v?"Hide":"Show"," Technical Details"]})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{children:["Proof Hash: ",l.jsxs("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:[h.profileHash.substring(0,16),"..."]})]}),l.jsxs("div",{children:["Timestamp: ",new Date(h.timestamp).toLocaleString()]}),l.jsxs("div",{children:["Proofs Generated: ",Object.keys(h.proofs).length," safety matching criteria"]})]}),v&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded text-xs",children:[l.jsx("div",{className:"font-medium mb-2",children:"Zero-Knowledge Proofs (Boolean Assertions):"}),l.jsx("pre",{className:"whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(h.proofs,null,2)})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"How This Protects Your Privacy:"}),l.jsxs("ul",{className:"text-sm space-y-1",children:[l.jsx("li",{children:" Your raw family data never leaves your device"}),l.jsx("li",{children:" Only mathematical proofs about safety needs are shared"}),l.jsx("li",{children:" We can match you with relevant safety information without knowing your identity"}),l.jsx("li",{children:" Proofs are cryptographically verifiable but don't reveal personal details"}),l.jsx("li",{children:" You maintain full control over your data at all times"})]})]})]}):null;return l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Zero-Knowledge Family Safety Profile"}),l.jsx("p",{className:"text-gray-600",children:"Create a privacy-preserving profile to get personalized safety intelligence without sharing personal details."})]}),l.jsx("div",{className:"flex items-center mb-8",children:[1,2,3,4].map(R=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=R?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:R}),R<4&&l.jsx("div",{className:`w-16 h-1 ${t>R?"bg-blue-600":"bg-gray-300"}`})]},R))}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[t===1&&l.jsx(z,{}),t===2&&l.jsx(k,{}),t===3&&l.jsx(B,{}),t===4&&l.jsx(P,{}),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsx("button",{onClick:()=>i(Math.max(1,t-1)),disabled:t===1,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),t<4?l.jsx("button",{onClick:()=>i(t+1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Next"}):l.jsx("button",{onClick:U,disabled:x||h,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:x?"Generating Proof...":h?"Profile Complete":"Generate ZK Proof"})]})]})]})},ym=[{id:1,name:"New York City, USA",coordinates:[40.7128,-74.006],safetyScore:8.5,lastUpdated:"2025-10-07",legalProtections:{score:9,description:"Strong state and city protections including SONDA and GENDA",marriageEquality:!0,adoptionRights:!0,conversionTherapyBan:!0},socialAcceptance:{score:8.5,description:"Highly accepting urban environment with rich LGBTQ+ history"},familySafety:{lgbtqParents:{score:8.8,adoptionRights:"Full adoption rights for same-sex couples",schoolPolicies:"NYC DOE has comprehensive anti-bullying policies",healthcareAccess:"Extensive LGBTQ+-affirming pediatric care",resources:["Family Equality Council NYC","COLAGE (Children of LGBTQ+ Parents)","NYC LGBT Community Center Family Programs"]},cisParentsLgbtqChildren:{score:8.5,supportGroups:["PFLAG NYC","Gender Spectrum Family Support","TransFamilies NYC"],schoolSupport:"Strong GSA programs and inclusive curricula",medicalResources:["Callen-Lorde Youth Services","Mount Sinai Adolescent Health Center","NYU Langone Gender Care"],legalSupport:"Name change and document update assistance available",safetyTips:"Generally safe environment, but awareness of school district policies recommended"},mixedFamilies:{score:8.3,description:"Families with both LGBTQ+ and cisgender/heterosexual members",resources:["Keshet (LGBTQ+ Jewish families)","Dignity USA (Catholic LGBTQ+ families)"],considerations:"Strong legal protections but family dynamics may vary"}},intersectionalSafety:{raceEthnicity:{score:7.5,considerations:"LGBTQ+ people of color face additional challenges",resources:["Audre Lorde Project","FIERCE","Latino Commission on AIDS"],specificConcerns:"Higher rates of violence against LGBTQ+ people of color"},disability:{score:7.8,accessibility:"Many venues have accessibility accommodations",resources:["Disability Pride NYC","LGBTQ+ disability advocacy groups"],concerns:"Intersection of ableism and homophobia/transphobia"},immigration:{score:8,protections:"Sanctuary city policies provide some protection",resources:["Immigration Equality","Make the Road NY LGBTQ+ services"],concerns:"Federal immigration enforcement remains a risk"},age:{youth:{score:8.2,resources:["Ali Forney Center","Hetrick-Martin Institute","Trinity Place Shelter"],schoolSafety:"Strong anti-bullying policies in most districts",concerns:"Youth homelessness remains an issue"},elderly:{score:7.9,resources:["SAGE (Services & Advocacy for LGBTQ+ Elders)","Callen-Lorde Elder Care"],concerns:"Healthcare discrimination and isolation"}}},communityResources:{healthCare:["Callen-Lorde Community Health Center","Planned Parenthood","Mount Sinai Center for Transgender Medicine"],mentalHealth:["LGBT National Hotline","Trans Lifeline","NYC Well"],legal:["Lambda Legal","Transgender Legal Defense & Education Fund","Legal Aid Society LGBT Rights Project"],youth:["Ali Forney Center","Hetrick-Martin Institute","Trinity Place Shelter"],families:["Family Equality Council","COLAGE","PFLAG NYC"],emergency:["NYC Anti-Violence Project","Safe Horizon","NYC 311 for LGBTQ+ services"]},safetyConcerns:["Hate incidents still occur, particularly in outer boroughs","Domestic violence within LGBTQ+ relationships","Discrimination in some healthcare settings"],travelAdvice:{general:"Very LGBTQ+-friendly destination with extensive resources",families:"Excellent for LGBTQ+ families - many family-friendly venues and services",cisParents:"Strong support networks for parents of LGBTQ+ children",precautions:"Standard urban safety precautions apply"}},{id:2,name:"San Francisco, USA",coordinates:[37.7749,-122.4194],safetyScore:9.2,lastUpdated:"2025-10-07",legalProtections:{score:9.5,description:"California's comprehensive LGBTQ+ protections",marriageEquality:!0,adoptionRights:!0,conversionTherapyBan:!0},socialAcceptance:{score:9,description:"Historic LGBTQ+ capital with deep community roots"},familySafety:{lgbtqParents:{score:9.2,adoptionRights:"Full adoption and surrogacy rights",schoolPolicies:"SFUSD has nation-leading LGBTQ+ inclusive policies",healthcareAccess:"UCSF Benioff Children's Hospital gender clinic",resources:["Our Family Coalition","Bay Area Families for Safe Schools","LGBTQ+ Parent Playgroups"]},cisParentsLgbtqChildren:{score:9,supportGroups:["PFLAG San Francisco","Transgender Family Support Group","Parents of Trans Kids Bay Area"],schoolSupport:"Comprehensive GSA programs and trans-inclusive policies",medicalResources:["UCSF Child and Adolescent Gender Center","SF LGBT Center Youth Services"],legalSupport:"Streamlined name change processes",safetyTips:"Very supportive environment with extensive parent networks"},mixedFamilies:{score:8.8,description:"Strong support for all family configurations",resources:["Congregation Sha'ar Zahav","Most Holy Redeemer Catholic Church"],considerations:"Highly accepting community environment"}},intersectionalSafety:{raceEthnicity:{score:8,considerations:"Gentrification has displaced some LGBTQ+ communities of color",resources:["API Equality-LA","National Queer and Trans People of Color Coalition"],specificConcerns:"Economic displacement affecting LGBTQ+ POC"},disability:{score:8.5,accessibility:"Strong ADA compliance and disability advocacy",resources:["Disability Rights California","SF LGBT Center accessibility programs"],concerns:"Some historic venues lack full accessibility"},immigration:{score:8.8,protections:"Sanctuary city with strong immigrant protections",resources:["SF LGBT Asylum Project","Immigration Equality"],concerns:"Federal enforcement remains a concern"},age:{youth:{score:8.8,resources:["Larkin Street Youth Services","SF LGBT Center Youth Programs","Lyric"],schoolSafety:"Nation-leading school policies",concerns:"High cost of living affects youth services"},elderly:{score:8.5,resources:["Openhouse (LGBTQ+ senior housing)","SF LGBT Center Senior Services"],concerns:"Aging in place challenges due to housing costs"}}},communityResources:{healthCare:["SF LGBT Center","UCSF Gender Affirming Health Program","Lyon-Martin Health Services"],mentalHealth:["SF Suicide Prevention","LGBT National Hotline","Trans Lifeline"],legal:["National Center for Lesbian Rights","Transgender Law Center","Bay Area Legal Aid"],youth:["Larkin Street Youth Services","Lyric","SF LGBT Center Youth Programs"],families:["Our Family Coalition","COLAGE Bay Area","PFLAG San Francisco"],emergency:["Community United Against Violence (CUAV)","SF LGBT Center Crisis Services"]},safetyConcerns:["Recent increase in anti-LGBTQ+ incidents in some neighborhoods","Gentrification displacing LGBTQ+ communities","Property crime affects all residents"],travelAdvice:{general:"World-renowned LGBTQ+ destination with unparalleled resources",families:"Exceptional for LGBTQ+ families with children",cisParents:"Outstanding support networks for parents of LGBTQ+ youth",precautions:"Generally very safe, standard urban awareness recommended"}}],A2=r=>r>=9?"#10B981":r>=7?"#F59E0B":r>=5?"#EF4444":"#6B7280",C2=()=>{const[r,t]=$.useState(null),[i,a]=$.useState({}),[c,h]=$.useState(!1),[p,x]=$.useState(null),[y,v]=$.useState(!0),[w,j]=$.useState(!1),T=async z=>{j(!0),await new Promise(B=>setTimeout(B,1500));const k={};return ym.forEach(B=>{var X,ae,re,me,Le,_e,Be,Kt,pt,ot,W,ue,le,Qe,O,J;let P=B.safetyScore,R=[];if(z.proofs.hasCisParentLGBTQChild){const se=(X=B.familySafety)==null?void 0:X.cisParentsLgbtqChildren;se&&(P=(P+se.score)/2,R.push("Cis Parent Support"))}if(z.proofs.hasLGBTQParents){const se=(ae=B.familySafety)==null?void 0:ae.lgbtqParents;se&&(P=(P+se.score)/2,R.push("LGBTQ+ Parent Resources"))}if(z.proofs.hasMixedFamily){const se=(re=B.familySafety)==null?void 0:re.mixedFamilies;se&&(P=(P+se.score)/2,R.push("Mixed Family Support"))}if(z.proofs.hasLesbianMembers&&(P+=.3,R.push("Lesbian Community & Resources")),z.proofs.hasGayMembers&&(P+=.3,R.push("Gay Men's Community & Health Resources")),z.proofs.hasBisexualMembers&&(B.safetyScore>8?(P+=.2,R.push("Bisexual Visibility & Support")):P-=.1),z.proofs.hasTransgenderMembers){const se=((me=B.intersectionalSafety)==null?void 0:me.transgender)||((Le=B.familySafety)==null?void 0:Le.cisParentsLgbtqChildren);se&&se.score?(P=(P+se.score)/2,R.push("Transgender Healthcare & Legal Support")):P-=.5}if(z.proofs.hasNonbinaryMembers&&(B.safetyScore>8.5?(P+=.2,R.push("Non-binary Recognition & Rights")):P-=.3),z.proofs.hasIntersexMembers&&(((Be=(_e=B.communityResources)==null?void 0:_e.healthCare)==null?void 0:Be.length)>3?(P+=.2,R.push("Intersex Medical Rights & Support")):P-=.2),z.proofs.hasAsexualMembers&&(P+=.1,R.push("Asexual Community Recognition")),z.proofs.hasQuestioningMembers&&(P+=.2,R.push("Questioning & Identity Exploration Support")),z.proofs.needsLesbianSpecificSupport&&(P+=.3,R.push("Lesbian-Specific Safety & Healthcare")),z.proofs.needsGayMenSpecificSupport&&(P+=.3,R.push("Gay Men's Health & Community Safety")),z.proofs.needsBisexualSpecificSupport&&(P+=.2,R.push("Bisexual Erasure Prevention & Support")),z.proofs.needsTransgenderSpecificSupport&&(P+=.4,R.push("Transgender-Specific Healthcare & Legal Rights")),z.proofs.needsNonbinarySpecificSupport&&(P+=.3,R.push("Non-binary Legal Recognition & Support")),z.proofs.needsIntersexSpecificSupport&&(P+=.3,R.push("Intersex Medical Rights & Advocacy")),z.proofs.needsAsexualSpecificSupport&&(P+=.2,R.push("Asexual Visibility & Community Support")),z.proofs.needsQuestioningSupport&&(P+=.2,R.push("Identity Exploration & Questioning Support")),z.proofs.needsRaceEthnicityConsiderations){const se=(Kt=B.intersectionalSafety)==null?void 0:Kt.raceEthnicity;se&&(P=(P+se.score)/2,R.push("LGBTQIA+ People of Color Support"))}if(z.proofs.needsDisabilityConsiderations){const se=(pt=B.intersectionalSafety)==null?void 0:pt.disability;se&&(P=(P+se.score)/2,R.push("LGBTQIA+ Disability Accessibility"))}if(z.proofs.needsImmigrationConsiderations){const se=(ot=B.intersectionalSafety)==null?void 0:ot.immigration;se&&(P=(P+se.score)/2,R.push("LGBTQIA+ Immigration Protections"))}z.proofs.needsMentalHealthSupport&&(P+=.2,R.push("LGBTQIA+ Mental Health Services")),z.proofs.needsDomesticViolenceSupport&&(P+=.3,R.push("LGBTQIA+ Domestic Violence Resources")),z.proofs.needsVeteranSupport&&(P+=.2,R.push("LGBTQIA+ Veteran Services")),z.proofs.prioritizesSchoolSafety&&((ue=(W=B.familySafety)==null?void 0:W.cisParentsLgbtqChildren)!=null&&ue.schoolSupport||(Qe=(le=B.familySafety)==null?void 0:le.lgbtqParents)!=null&&Qe.schoolPolicies)&&(P+=.5,R.push("School Safety Priority")),z.proofs.prioritizesHealthcareAccess&&((J=(O=B.communityResources)==null?void 0:O.healthCare)==null?void 0:J.length)>2&&(P+=.3,R.push("Healthcare Access Priority")),P=Math.min(10,P),k[B.id]={originalScore:B.safetyScore,personalizedScore:Math.round(P*10)/10,matchingFactors:R,confidenceLevel:R.length>0?"High":"Medium"}}),j(!1),k},A=async z=>{t(z);const k=await T(z);a(k),h(!1)},C=z=>{var k,B;return((k=i[z])==null?void 0:k.personalizedScore)||((B=ym.find(P=>P.id===z))==null?void 0:B.safetyScore)||0},M=z=>{var k;return((k=i[z])==null?void 0:k.matchingFactors)||[]},U=z=>{const k=i[z.id],B=M(z.id);return l.jsxs("div",{className:"min-w-[350px]",children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:z.name}),r&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Tt,{className:"w-4 h-4 text-green-600 mr-2"}),l.jsx("span",{className:"font-medium text-green-800",children:"Personalized for Your Family"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"General Safety Score:"}),l.jsxs("span",{children:[(k==null?void 0:k.originalScore)||z.safetyScore,"/10"]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Your Personalized Score:"}),l.jsxs("span",{className:"text-green-600",children:[(k==null?void 0:k.personalizedScore)||z.safetyScore,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Confidence Level:"}),l.jsx("span",{children:(k==null?void 0:k.confidenceLevel)||"Medium"})]})]}),B.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"font-medium text-sm mb-1",children:"Matching Your Needs:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:B.map((P,R)=>l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:P},R))})]})]}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(va,{className:"w-4 h-4 text-yellow-500 mr-2"}),l.jsxs("span",{children:["Safety Score: ",C(z.id),"/10"]})]}),l.jsx("button",{onClick:()=>x(z),className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mt-2",children:"View Detailed Analysis"})]})};return l.jsxs("div",{className:"w-full h-full",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 mb-4 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(xs,{className:"w-6 h-6 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Zero-Knowledge Safety Intelligence"}),l.jsx("p",{className:"text-sm opacity-90",children:"Get personalized safety scores without sharing personal data"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>v(!y),className:"flex items-center px-3 py-2 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30",children:[y?l.jsx(Qd,{className:"w-4 h-4 mr-2"}):l.jsx(Ep,{className:"w-4 h-4 mr-2"}),y?"Privacy Mode On":"Privacy Mode Off"]}),!r&&l.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-gray-100 font-medium",children:"Create Private Profile"})]})]})}),r&&l.jsx("div",{className:"bg-green-50 border border-green-200 p-4 mb-4 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(_a,{className:"w-5 h-5 text-green-600 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-green-800",children:"Zero-Knowledge Profile Active"}),l.jsx("div",{className:"text-sm text-green-600",children:"Showing personalized safety scores based on your encrypted profile"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[w&&l.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[l.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full mr-2"}),"Calculating..."]}),l.jsx("button",{onClick:()=>h(!0),className:"text-sm text-green-600 hover:text-green-800",children:"Update Profile"})]})]})}),l.jsxs("div",{className:"relative",children:[l.jsxs(o_,{center:[40.7128,-74.006],zoom:2,style:{height:"600px",width:"100%"},className:"rounded-lg shadow-lg",children:[l.jsx(c_,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),ym.map(z=>{const k=C(z.id),B=r&&i[z.id];return l.jsx(r_,{center:z.coordinates,radius:B?10:8,fillColor:A2(k),color:B?"#7C3AED":"#fff",weight:B?3:2,opacity:1,fillOpacity:.8,eventHandlers:{click:()=>x(z)},children:l.jsx(l_,{children:U(z)})},z.id)})]}),l.jsxs("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Safety Score Legend"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 mr-2"}),l.jsx("span",{children:"9.0+ Excellent"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500 mr-2"}),l.jsx("span",{children:"7.0-8.9 Good"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500 mr-2"}),l.jsx("span",{children:"5.0-6.9 Caution"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-500 mr-2"}),l.jsx("span",{children:"<5.0 High Risk"})]})]}),r&&l.jsx("div",{className:"mt-3 pt-3 border-t",children:l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-purple-600 mr-2"}),l.jsx("span",{children:"Personalized Score"})]})})]}),l.jsxs("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-lg",children:[l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(xs,{className:"w-4 h-4 text-green-600 mr-2"}),l.jsx("span",{className:"font-medium",children:"Zero-Knowledge Privacy"})]}),l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Your data never leaves your device"})]})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Create Zero-Knowledge Profile"}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsx("div",{className:"overflow-y-auto h-full pb-20",children:l.jsx(E2,{onProfileComplete:A})})]})}),p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl h-[80vh] overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:p.name}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(va,{className:"w-5 h-5 text-yellow-300 mr-2"}),l.jsxs("span",{children:[r?"Personalized":"General"," Safety Score: ",C(p.id),"/10"]})]}),r&&i[p.id]&&l.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["Original Score: ",i[p.id].originalScore,"/10"]})]}),l.jsx("button",{onClick:()=>x(null),className:"text-white hover:text-gray-200 text-2xl",children:""})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto h-full pb-20",children:[r&&i[p.id]&&l.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Zero-Knowledge Personalization"}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("div",{children:"This score is calculated using your encrypted profile without revealing personal details."}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:M(p.id).map((z,k)=>l.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:z},k))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Legal Protections"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:l.jsx("p",{children:p.legalProtections.description})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Community Resources"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(p.communityResources).map(([z,k])=>l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2 capitalize",children:z.replace(/([A-Z])/g," $1")}),l.jsx("ul",{className:"text-sm space-y-1",children:k.slice(0,3).map((B,P)=>l.jsxs("li",{children:[" ",B]},P))})]},z))})]})]})]})]})})]})},O2=()=>l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[l.jsx("section",{className:"py-20 text-center bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx("img",{src:"/images/IMG_1968(3).png",alt:"Vector for Good Shield",className:"h-20 w-auto mr-4"}),l.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900",children:"Zero-Knowledge in Action"})]}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Experience the future of privacy-preserving technology. Our zero-knowledge platform allows you to get personalized safety insights without ever sharing your personal data."})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"How Our Zero-Knowledge System Works"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We use advanced cryptography to ensure your data never leaves your device."})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(xs,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"1. Encrypt Locally"}),l.jsx("p",{className:"text-gray-600",children:"Your personal information is encrypted on your device before any processing begins."})]}),l.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(dr,{className:"w-8 h-8 text-purple-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"2. Generate Proof"}),l.jsx("p",{className:"text-gray-600",children:'A cryptographic "proof" is generated that confirms your needs without revealing the underlying data.'})]}),l.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Tt,{className:"w-8 h-8 text-green-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"3. Get Insights Safely"}),l.jsx("p",{className:"text-gray-600",children:"Our platform uses this proof to provide personalized safety scores, while your data remains private."})]})]})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Demonstration 1: The Zero-Knowledge Proof Process"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"See how we turn your sensitive data into an anonymous, verifiable proof."})]}),l.jsx(T2,{})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Demonstration 2: Personalized Safety with ZK Proofs"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Create a private family profile and see how our QSi map adapts to your unique needsall without sharing any personal data."})]}),l.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:l.jsx(C2,{})})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Ready to Learn More?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Explore our enterprise solutions or dive deeper into the technical details of our privacy-first platform."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Nt,{to:"/contact",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105",children:"Request Enterprise Pilot"}),l.jsx(Nt,{to:"/security-whitepaper",className:"bg-white text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-gray-300 hover:border-blue-600 hover:text-blue-600 transition-all",children:"Read Security Whitepaper"})]})]})})]});function Oe(r,t,i,a,c){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,i),i}function F(r,t,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(r):a?a.value:t.get(r)}let u_=function(){const{crypto:r}=globalThis;if(r!=null&&r.randomUUID)return u_=r.randomUUID.bind(r),r.randomUUID();const t=new Uint8Array(1),i=r?()=>r.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^i()&15>>+a/4).toString(16))};function Fm(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const Vm=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const t=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(t.stack=r.stack),r.cause&&!t.cause&&(t.cause=r.cause),r.name&&(t.name=r.name),t}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};class je extends Error{}class Yt extends je{constructor(t,i,a,c){super(`${Yt.makeMessage(t,i,a)}`),this.status=t,this.headers=c,this.requestID=c==null?void 0:c.get("x-request-id"),this.error=i;const h=i;this.code=h==null?void 0:h.code,this.param=h==null?void 0:h.param,this.type=h==null?void 0:h.type}static makeMessage(t,i,a){const c=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):a;return t&&c?`${t} ${c}`:t?`${t} status code (no body)`:c||"(no status code or body)"}static generate(t,i,a,c){if(!t||!c)return new Yd({message:a,cause:Vm(i)});const h=i==null?void 0:i.error;return t===400?new d_(t,h,a,c):t===401?new h_(t,h,a,c):t===403?new f_(t,h,a,c):t===404?new m_(t,h,a,c):t===409?new p_(t,h,a,c):t===422?new g_(t,h,a,c):t===429?new y_(t,h,a,c):t>=500?new x_(t,h,a,c):new Yt(t,h,a,c)}}class Xn extends Yt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Yd extends Yt{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),i&&(this.cause=i)}}class Lp extends Yd{constructor({message:t}={}){super({message:t??"Request timed out."})}}class d_ extends Yt{}class h_ extends Yt{}class f_ extends Yt{}class m_ extends Yt{}class p_ extends Yt{}class g_ extends Yt{}class y_ extends Yt{}class x_ extends Yt{}class v_ extends je{constructor(){super("Could not parse response content as the length limit was reached")}}class __ extends je{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Wl extends Error{constructor(t){super(t)}}const k2=/^[a-z][a-z0-9+.-]*:/i,R2=r=>k2.test(r);let bn=r=>(bn=Array.isArray,bn(r)),Nv=bn;function b_(r){return typeof r!="object"?{}:r??{}}function L2(r){if(!r)return!0;for(const t in r)return!1;return!0}function M2(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function xm(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}const P2=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new je(`${r} must be an integer`);if(t<0)throw new je(`${r} must be a positive integer`);return t},D2=r=>{try{return JSON.parse(r)}catch{return}},wc=r=>new Promise(t=>setTimeout(t,r)),bo="6.2.0",I2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function B2(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z2=()=>{var i;const r=B2();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":Ev(Deno.build.os),"X-Stainless-Arch":Tv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((i=Deno.version)==null?void 0:i.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":Ev(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Tv(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=U2();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function U2(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of r){const a=i.exec(navigator.userAgent);if(a){const c=a[1]||0,h=a[2]||0,p=a[3]||0;return{browser:t,version:`${c}.${h}.${p}`}}}return null}const Tv=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Ev=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Av;const G2=()=>Av??(Av=z2());function $2(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function w_(...r){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...r)}function S_(r){let t=Symbol.asyncIterator in r?r[Symbol.asyncIterator]():r[Symbol.iterator]();return w_({start(){},async pull(i){const{done:a,value:c}=await t.next();a?i.close():i.enqueue(c)},async cancel(){var i;await((i=t.return)==null?void 0:i.call(t))}})}function j_(r){if(r[Symbol.asyncIterator])return r;const t=r.getReader();return{async next(){try{const i=await t.read();return i!=null&&i.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){const i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function q2(r){var a,c;if(r===null||typeof r!="object")return;if(r[Symbol.asyncIterator]){await((c=(a=r[Symbol.asyncIterator]()).return)==null?void 0:c.call(a));return}const t=r.getReader(),i=t.cancel();t.releaseLock(),await i}const H2=({headers:r,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),N_="RFC3986",T_=r=>String(r),Cv={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:T_},Z2="RFC1738";let Ym=(r,t)=>(Ym=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Ym(r,t));const Oi=(()=>{const r=[];for(let t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r})(),vm=1024,Q2=(r,t,i,a,c)=>{if(r.length===0)return r;let h=r;if(typeof r=="symbol"?h=Symbol.prototype.toString.call(r):typeof r!="string"&&(h=String(r)),i==="iso-8859-1")return escape(h).replace(/%u[0-9a-f]{4}/gi,function(x){return"%26%23"+parseInt(x.slice(2),16)+"%3B"});let p="";for(let x=0;x<h.length;x+=vm){const y=h.length>=vm?h.slice(x,x+vm):h,v=[];for(let w=0;w<y.length;++w){let j=y.charCodeAt(w);if(j===45||j===46||j===95||j===126||j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122||c===Z2&&(j===40||j===41)){v[v.length]=y.charAt(w);continue}if(j<128){v[v.length]=Oi[j];continue}if(j<2048){v[v.length]=Oi[192|j>>6]+Oi[128|j&63];continue}if(j<55296||j>=57344){v[v.length]=Oi[224|j>>12]+Oi[128|j>>6&63]+Oi[128|j&63];continue}w+=1,j=65536+((j&1023)<<10|y.charCodeAt(w)&1023),v[v.length]=Oi[240|j>>18]+Oi[128|j>>12&63]+Oi[128|j>>6&63]+Oi[128|j&63]}p+=v.join("")}return p};function F2(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Ov(r,t){if(bn(r)){const i=[];for(let a=0;a<r.length;a+=1)i.push(t(r[a]));return i}return t(r)}const E_={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,t){return String(r)+"["+t+"]"},repeat(r){return String(r)}},A_=function(r,t){Array.prototype.push.apply(r,bn(t)?t:[t])};let kv;const Rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Q2,encodeValuesOnly:!1,format:N_,formatter:T_,indices:!1,serializeDate(r){return(kv??(kv=Function.prototype.call.bind(Date.prototype.toISOString)))(r)},skipNulls:!1,strictNullHandling:!1};function V2(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const _m={};function C_(r,t,i,a,c,h,p,x,y,v,w,j,T,A,C,M,U,z){let k=r,B=z,P=0,R=!1;for(;(B=B.get(_m))!==void 0&&!R;){const Le=B.get(r);if(P+=1,typeof Le<"u"){if(Le===P)throw new RangeError("Cyclic object value");R=!0}typeof B.get(_m)>"u"&&(P=0)}if(typeof v=="function"?k=v(t,k):k instanceof Date?k=T==null?void 0:T(k):i==="comma"&&bn(k)&&(k=Ov(k,function(Le){return Le instanceof Date?T==null?void 0:T(Le):Le})),k===null){if(h)return y&&!M?y(t,Rt.encoder,U,"key",A):t;k=""}if(V2(k)||F2(k)){if(y){const Le=M?t:y(t,Rt.encoder,U,"key",A);return[(C==null?void 0:C(Le))+"="+(C==null?void 0:C(y(k,Rt.encoder,U,"value",A)))]}return[(C==null?void 0:C(t))+"="+(C==null?void 0:C(String(k)))]}const X=[];if(typeof k>"u")return X;let ae;if(i==="comma"&&bn(k))M&&y&&(k=Ov(k,y)),ae=[{value:k.length>0?k.join(",")||null:void 0}];else if(bn(v))ae=v;else{const Le=Object.keys(k);ae=w?Le.sort(w):Le}const re=x?String(t).replace(/\./g,"%2E"):String(t),me=a&&bn(k)&&k.length===1?re+"[]":re;if(c&&bn(k)&&k.length===0)return me+"[]";for(let Le=0;Le<ae.length;++Le){const _e=ae[Le],Be=typeof _e=="object"&&typeof _e.value<"u"?_e.value:k[_e];if(p&&Be===null)continue;const Kt=j&&x?_e.replace(/\./g,"%2E"):_e,pt=bn(k)?typeof i=="function"?i(me,Kt):me:me+(j?"."+Kt:"["+Kt+"]");z.set(r,P);const ot=new WeakMap;ot.set(_m,z),A_(X,C_(Be,pt,i,a,c,h,p,x,i==="comma"&&M&&bn(k)?null:y,v,w,j,T,A,C,M,U,ot))}return X}function Y2(r=Rt){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=r.charset||Rt.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let i=N_;if(typeof r.format<"u"){if(!Ym(Cv,r.format))throw new TypeError("Unknown format option provided.");i=r.format}const a=Cv[i];let c=Rt.filter;(typeof r.filter=="function"||bn(r.filter))&&(c=r.filter);let h;if(r.arrayFormat&&r.arrayFormat in E_?h=r.arrayFormat:"indices"in r?h=r.indices?"indices":"repeat":h=Rt.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const p=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:Rt.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:Rt.addQueryPrefix,allowDots:p,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:Rt.allowEmptyArrays,arrayFormat:h,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:Rt.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?Rt.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:Rt.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:Rt.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:Rt.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:Rt.encodeValuesOnly,filter:c,format:i,formatter:a,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:Rt.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:Rt.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:Rt.strictNullHandling}}function K2(r,t={}){let i=r;const a=Y2(t);let c,h;typeof a.filter=="function"?(h=a.filter,i=h("",i)):bn(a.filter)&&(h=a.filter,c=h);const p=[];if(typeof i!="object"||i===null)return"";const x=E_[a.arrayFormat],y=x==="comma"&&a.commaRoundTrip;c||(c=Object.keys(i)),a.sort&&c.sort(a.sort);const v=new WeakMap;for(let T=0;T<c.length;++T){const A=c[T];a.skipNulls&&i[A]===null||A_(p,C_(i[A],A,x,y,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,v))}const w=p.join(a.delimiter);let j=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?j+="utf8=%26%2310003%3B&":j+="utf8=%E2%9C%93&"),w.length>0?j+w:""}function W2(r){let t=0;for(const c of r)t+=c.length;const i=new Uint8Array(t);let a=0;for(const c of r)i.set(c,a),a+=c.length;return i}let Rv;function Mp(r){let t;return(Rv??(t=new globalThis.TextEncoder,Rv=t.encode.bind(t)))(r)}let Lv;function Mv(r){let t;return(Lv??(t=new globalThis.TextDecoder,Lv=t.decode.bind(t)))(r)}var Mn,Pn;class Kd{constructor(){Mn.set(this,void 0),Pn.set(this,void 0),Oe(this,Mn,new Uint8Array),Oe(this,Pn,null)}decode(t){if(t==null)return[];const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Mp(t):t;Oe(this,Mn,W2([F(this,Mn,"f"),i]));const a=[];let c;for(;(c=J2(F(this,Mn,"f"),F(this,Pn,"f")))!=null;){if(c.carriage&&F(this,Pn,"f")==null){Oe(this,Pn,c.index);continue}if(F(this,Pn,"f")!=null&&(c.index!==F(this,Pn,"f")+1||c.carriage)){a.push(Mv(F(this,Mn,"f").subarray(0,F(this,Pn,"f")-1))),Oe(this,Mn,F(this,Mn,"f").subarray(F(this,Pn,"f"))),Oe(this,Pn,null);continue}const h=F(this,Pn,"f")!==null?c.preceding-1:c.preceding,p=Mv(F(this,Mn,"f").subarray(0,h));a.push(p),Oe(this,Mn,F(this,Mn,"f").subarray(c.index)),Oe(this,Pn,null)}return a}flush(){return F(this,Mn,"f").length?this.decode(`
`):[]}}Mn=new WeakMap,Pn=new WeakMap;Kd.NEWLINE_CHARS=new Set([`
`,"\r"]);Kd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function J2(r,t){for(let c=t??0;c<r.length;c++){if(r[c]===10)return{preceding:c,index:c+1,carriage:!1};if(r[c]===13)return{preceding:c,index:c+1,carriage:!0}}return null}function X2(r){for(let a=0;a<r.length-1;a++){if(r[a]===10&&r[a+1]===10||r[a]===13&&r[a+1]===13)return a+2;if(r[a]===13&&r[a+1]===10&&a+3<r.length&&r[a+2]===13&&r[a+3]===10)return a+4}return-1}const kd={off:0,error:200,warn:300,info:400,debug:500},Pv=(r,t,i)=>{if(r){if(M2(kd,r))return r;Ft(i).warn(`${t} was set to ${JSON.stringify(r)}, expected one of ${JSON.stringify(Object.keys(kd))}`)}};function Jl(){}function ad(r,t,i){return!t||kd[r]>kd[i]?Jl:t[r].bind(t)}const eT={error:Jl,warn:Jl,info:Jl,debug:Jl};let Dv=new WeakMap;function Ft(r){const t=r.logger,i=r.logLevel??"off";if(!t)return eT;const a=Dv.get(t);if(a&&a[0]===i)return a[1];const c={error:ad("error",t,i),warn:ad("warn",t,i),info:ad("info",t,i),debug:ad("debug",t,i)};return Dv.set(t,[i,c]),c}const tr=r=>(r.options&&(r.options={...r.options},delete r.options.headers),r.headers&&(r.headers=Object.fromEntries((r.headers instanceof Headers?[...r.headers]:Object.entries(r.headers)).map(([t,i])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in r&&(r.retryOfRequestLogID&&(r.retryOf=r.retryOfRequestLogID),delete r.retryOfRequestLogID),r);var Yl;class Li{constructor(t,i,a){this.iterator=t,Yl.set(this,void 0),this.controller=i,Oe(this,Yl,a)}static fromSSEResponse(t,i,a){let c=!1;const h=a?Ft(a):console;async function*p(){if(c)throw new je("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");c=!0;let x=!1;try{for await(const y of tT(t,i))if(!x){if(y.data.startsWith("[DONE]")){x=!0;continue}if(y.event===null||!y.event.startsWith("thread.")){let v;try{v=JSON.parse(y.data)}catch(w){throw h.error("Could not parse message into JSON:",y.data),h.error("From chunk:",y.raw),w}if(v&&v.error)throw new Yt(void 0,v.error,void 0,t.headers);yield v}else{let v;try{v=JSON.parse(y.data)}catch(w){throw console.error("Could not parse message into JSON:",y.data),console.error("From chunk:",y.raw),w}if(y.event=="error")throw new Yt(void 0,v.error,v.message,void 0);yield{event:y.event,data:v}}}x=!0}catch(y){if(Fm(y))return;throw y}finally{x||i.abort()}}return new Li(p,i,a)}static fromReadableStream(t,i,a){let c=!1;async function*h(){const x=new Kd,y=j_(t);for await(const v of y)for(const w of x.decode(v))yield w;for(const v of x.flush())yield v}async function*p(){if(c)throw new je("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");c=!0;let x=!1;try{for await(const y of h())x||y&&(yield JSON.parse(y));x=!0}catch(y){if(Fm(y))return;throw y}finally{x||i.abort()}}return new Li(p,i,a)}[(Yl=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],i=[],a=this.iterator(),c=h=>({next:()=>{if(h.length===0){const p=a.next();t.push(p),i.push(p)}return h.shift()}});return[new Li(()=>c(t),this.controller,F(this,Yl,"f")),new Li(()=>c(i),this.controller,F(this,Yl,"f"))]}toReadableStream(){const t=this;let i;return w_({async start(){i=t[Symbol.asyncIterator]()},async pull(a){try{const{value:c,done:h}=await i.next();if(h)return a.close();const p=Mp(JSON.stringify(c)+`
`);a.enqueue(p)}catch(c){a.error(c)}},async cancel(){var a;await((a=i.return)==null?void 0:a.call(i))}})}}async function*tT(r,t){if(!r.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new je("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new je("Attempted to iterate over a response with no body");const i=new iT,a=new Kd,c=j_(r.body);for await(const h of nT(c))for(const p of a.decode(h)){const x=i.decode(p);x&&(yield x)}for(const h of a.flush()){const p=i.decode(h);p&&(yield p)}}async function*nT(r){let t=new Uint8Array;for await(const i of r){if(i==null)continue;const a=i instanceof ArrayBuffer?new Uint8Array(i):typeof i=="string"?Mp(i):i;let c=new Uint8Array(t.length+a.length);c.set(t),c.set(a,t.length),t=c;let h;for(;(h=X2(t))!==-1;)yield t.slice(0,h),t=t.slice(h)}t.length>0&&(yield t)}class iT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const h={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],h}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,a,c]=sT(t,":");return c.startsWith(" ")&&(c=c.substring(1)),i==="event"?this.event=c:i==="data"&&this.data.push(c),null}}function sT(r,t){const i=r.indexOf(t);return i!==-1?[r.substring(0,i),t,r.substring(i+t.length)]:[r,"",""]}async function O_(r,t){const{response:i,requestLogID:a,retryOfRequestLogID:c,startTime:h}=t,p=await(async()=>{var j;if(t.options.stream)return Ft(r).debug("response",i.status,i.url,i.headers,i.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(i,t.controller,r):Li.fromSSEResponse(i,t.controller,r);if(i.status===204)return null;if(t.options.__binaryResponse)return i;const x=i.headers.get("content-type"),y=(j=x==null?void 0:x.split(";")[0])==null?void 0:j.trim();if((y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))){const T=await i.json();return k_(T,i)}return await i.text()})();return Ft(r).debug(`[${a}] response parsed`,tr({retryOfRequestLogID:c,url:i.url,status:i.status,body:p,durationMs:Date.now()-h})),p}function k_(r,t){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Xl;class Wd extends Promise{constructor(t,i,a=O_){super(c=>{c(null)}),this.responsePromise=i,this.parseResponse=a,Xl.set(this,void 0),Oe(this,Xl,t)}_thenUnwrap(t){return new Wd(F(this,Xl,"f"),this.responsePromise,async(i,a)=>k_(t(await this.parseResponse(i,a),a),a.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i,request_id:i.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(F(this,Xl,"f"),t))),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Xl=new WeakMap;var rd;class Pp{constructor(t,i,a,c){rd.set(this,void 0),Oe(this,rd,t),this.options=c,this.response=i,this.body=a}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new je("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await F(this,rd,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(rd=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const i of t.getPaginatedItems())yield i}}class aT extends Wd{constructor(t,i,a){super(t,i,async(c,h)=>new a(c,h.response,await O_(c,h),h.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const i of t)yield i}}class Jd extends Pp{constructor(t,i,a,c){super(t,i,a,c),this.data=a.data||[],this.object=a.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Et extends Pp{constructor(t,i,a,c){super(t,i,a,c),this.data=a.data||[],this.has_more=a.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var a;const t=this.getPaginatedItems(),i=(a=t[t.length-1])==null?void 0:a.id;return i?{...this.options,query:{...b_(this.options.query),after:i}}:null}}class Rd extends Pp{constructor(t,i,a,c){super(t,i,a,c),this.data=a.data||[],this.has_more=a.has_more||!1,this.last_id=a.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...b_(this.options.query),after:t}}:null}}const R_=()=>{var r;if(typeof File>"u"){const{process:t}=globalThis,i=typeof((r=t==null?void 0:t.versions)==null?void 0:r.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function oc(r,t,i){return R_(),new File(r,t??"unknown_file",i)}function bd(r){return(typeof r=="object"&&r!==null&&("name"in r&&r.name&&String(r.name)||"url"in r&&r.url&&String(r.url)||"filename"in r&&r.filename&&String(r.filename)||"path"in r&&r.path&&String(r.path))||"").split(/[\\/]/).pop()||void 0}const Dp=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Km=async(r,t)=>Wm(r.body)?{...r,body:await L_(r.body,t)}:r,hr=async(r,t)=>({...r,body:await L_(r.body,t)}),Iv=new WeakMap;function rT(r){const t=typeof r=="function"?r:r.fetch,i=Iv.get(t);if(i)return i;const a=(async()=>{try{const c="Response"in t?t.Response:(await t("data:,")).constructor,h=new FormData;return h.toString()!==await new c(h).text()}catch{return!0}})();return Iv.set(t,a),a}const L_=async(r,t)=>{if(!await rT(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const i=new FormData;return await Promise.all(Object.entries(r||{}).map(([a,c])=>Jm(i,a,c))),i},M_=r=>r instanceof Blob&&"name"in r,oT=r=>typeof r=="object"&&r!==null&&(r instanceof Response||Dp(r)||M_(r)),Wm=r=>{if(oT(r))return!0;if(Array.isArray(r))return r.some(Wm);if(r&&typeof r=="object"){for(const t in r)if(Wm(r[t]))return!0}return!1},Jm=async(r,t,i)=>{if(i!==void 0){if(i==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")r.append(t,String(i));else if(i instanceof Response)r.append(t,oc([await i.blob()],bd(i)));else if(Dp(i))r.append(t,oc([await new Response(S_(i)).blob()],bd(i)));else if(M_(i))r.append(t,i,bd(i));else if(Array.isArray(i))await Promise.all(i.map(a=>Jm(r,t+"[]",a)));else if(typeof i=="object")await Promise.all(Object.entries(i).map(([a,c])=>Jm(r,`${t}[${a}]`,c)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`)}},P_=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",lT=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&P_(r),cT=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function";async function uT(r,t,i){if(R_(),r=await r,lT(r))return r instanceof File?r:oc([await r.arrayBuffer()],r.name);if(cT(r)){const c=await r.blob();return t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()),oc(await Xm(c),t,i)}const a=await Xm(r);if(t||(t=bd(r)),!(i!=null&&i.type)){const c=a.find(h=>typeof h=="object"&&"type"in h&&h.type);typeof c=="string"&&(i={...i,type:c})}return oc(a,t,i)}async function Xm(r){var i;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(P_(r))t.push(r instanceof Blob?r:await r.arrayBuffer());else if(Dp(r))for await(const a of r)t.push(...await Xm(a));else{const a=(i=r==null?void 0:r.constructor)==null?void 0:i.name;throw new Error(`Unexpected data type: ${typeof r}${a?`; constructor: ${a}`:""}${dT(r)}`)}return t}function dT(r){return typeof r!="object"||r===null?"":`; props: [${Object.getOwnPropertyNames(r).map(i=>`"${i}"`).join(", ")}]`}class Se{constructor(t){this._client=t}}function D_(r){return r.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Bv=Object.freeze(Object.create(null)),hT=(r=D_)=>function(i,...a){if(i.length===1)return i[0];let c=!1;const h=[],p=i.reduce((w,j,T)=>{var M;/[?#]/.test(j)&&(c=!0);const A=a[T];let C=(c?encodeURIComponent:r)(""+A);return T!==a.length&&(A==null||typeof A=="object"&&A.toString===((M=Object.getPrototypeOf(Object.getPrototypeOf(A.hasOwnProperty??Bv)??Bv))==null?void 0:M.toString))&&(C=A+"",h.push({start:w.length+j.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),w+j+(T===a.length?"":C)},""),x=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let v;for(;(v=y.exec(x))!==null;)h.push({start:v.index,length:v[0].length,error:`Value "${v[0]}" can't be safely passed as a path parameter`});if(h.sort((w,j)=>w.start-j.start),h.length>0){let w=0;const j=h.reduce((T,A)=>{const C=" ".repeat(A.start-w),M="^".repeat(A.length);return w=A.start+A.length,T+C+M},"");throw new je(`Path parameters result in path with invalid segments:
${h.map(T=>T.error).join(`
`)}
${p}
${j}`)}return p},oe=hT(D_);let I_=class extends Se{list(t,i={},a){return this._client.getAPIList(oe`/chat/completions/${t}/messages`,Et,{query:i,...a})}};function Ld(r){return r!==void 0&&"function"in r&&r.function!==void 0}function Ip(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function Sc(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function fT(r,t){return!t||!B_(t)?{...r,choices:r.choices.map(i=>(z_(i.message.tool_calls),{...i,message:{...i.message,parsed:null,...i.message.tool_calls?{tool_calls:i.message.tool_calls}:void 0}}))}:Bp(r,t)}function Bp(r,t){const i=r.choices.map(a=>{var c;if(a.finish_reason==="length")throw new v_;if(a.finish_reason==="content_filter")throw new __;return z_(a.message.tool_calls),{...a,message:{...a.message,...a.message.tool_calls?{tool_calls:((c=a.message.tool_calls)==null?void 0:c.map(h=>pT(t,h)))??void 0}:void 0,parsed:a.message.content&&!a.message.refusal?mT(t,a.message.content):null}}});return{...r,choices:i}}function mT(r,t){var i,a;return((i=r.response_format)==null?void 0:i.type)!=="json_schema"?null:((a=r.response_format)==null?void 0:a.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(t):JSON.parse(t):null}function pT(r,t){var a;const i=(a=r.tools)==null?void 0:a.find(c=>{var h;return Ld(c)&&((h=c.function)==null?void 0:h.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Sc(i)?i.$parseRaw(t.function.arguments):i!=null&&i.function.strict?JSON.parse(t.function.arguments):null}}}function gT(r,t){var a;if(!r||!("tools"in r)||!r.tools)return!1;const i=(a=r.tools)==null?void 0:a.find(c=>{var h;return Ld(c)&&((h=c.function)==null?void 0:h.name)===t.function.name});return Ld(i)&&(Sc(i)||(i==null?void 0:i.function.strict)||!1)}function B_(r){var t;return Ip(r.response_format)?!0:((t=r.tools)==null?void 0:t.some(i=>Sc(i)||i.type==="function"&&i.function.strict===!0))??!1}function z_(r){for(const t of r||[])if(t.type!=="function")throw new je(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function yT(r){for(const t of r??[]){if(t.type!=="function")throw new je(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new je(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Md=r=>(r==null?void 0:r.role)==="assistant",U_=r=>(r==null?void 0:r.role)==="tool";var ep,wd,Sd,ec,tc,jd,nc,ms,ic,Pd,Dd,wo,G_;class zp{constructor(){ep.add(this),this.controller=new AbortController,wd.set(this,void 0),Sd.set(this,()=>{}),ec.set(this,()=>{}),tc.set(this,void 0),jd.set(this,()=>{}),nc.set(this,()=>{}),ms.set(this,{}),ic.set(this,!1),Pd.set(this,!1),Dd.set(this,!1),wo.set(this,!1),Oe(this,wd,new Promise((t,i)=>{Oe(this,Sd,t,"f"),Oe(this,ec,i,"f")})),Oe(this,tc,new Promise((t,i)=>{Oe(this,jd,t,"f"),Oe(this,nc,i,"f")})),F(this,wd,"f").catch(()=>{}),F(this,tc,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},F(this,ep,"m",G_).bind(this))},0)}_connected(){this.ended||(F(this,Sd,"f").call(this),this._emit("connect"))}get ended(){return F(this,ic,"f")}get errored(){return F(this,Pd,"f")}get aborted(){return F(this,Dd,"f")}abort(){this.controller.abort()}on(t,i){return(F(this,ms,"f")[t]||(F(this,ms,"f")[t]=[])).push({listener:i}),this}off(t,i){const a=F(this,ms,"f")[t];if(!a)return this;const c=a.findIndex(h=>h.listener===i);return c>=0&&a.splice(c,1),this}once(t,i){return(F(this,ms,"f")[t]||(F(this,ms,"f")[t]=[])).push({listener:i,once:!0}),this}emitted(t){return new Promise((i,a)=>{Oe(this,wo,!0),t!=="error"&&this.once("error",a),this.once(t,i)})}async done(){Oe(this,wo,!0),await F(this,tc,"f")}_emit(t,...i){if(F(this,ic,"f"))return;t==="end"&&(Oe(this,ic,!0),F(this,jd,"f").call(this));const a=F(this,ms,"f")[t];if(a&&(F(this,ms,"f")[t]=a.filter(c=>!c.once),a.forEach(({listener:c})=>c(...i))),t==="abort"){const c=i[0];!F(this,wo,"f")&&!(a!=null&&a.length)&&Promise.reject(c),F(this,ec,"f").call(this,c),F(this,nc,"f").call(this,c),this._emit("end");return}if(t==="error"){const c=i[0];!F(this,wo,"f")&&!(a!=null&&a.length)&&Promise.reject(c),F(this,ec,"f").call(this,c),F(this,nc,"f").call(this,c),this._emit("end")}}_emitFinal(){}}wd=new WeakMap,Sd=new WeakMap,ec=new WeakMap,tc=new WeakMap,jd=new WeakMap,nc=new WeakMap,ms=new WeakMap,ic=new WeakMap,Pd=new WeakMap,Dd=new WeakMap,wo=new WeakMap,ep=new WeakSet,G_=function(t){if(Oe(this,Pd,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Xn),t instanceof Xn)return Oe(this,Dd,!0),this._emit("abort",t);if(t instanceof je)return this._emit("error",t);if(t instanceof Error){const i=new je(t.message);return i.cause=t,this._emit("error",i)}return this._emit("error",new je(String(t)))};function xT(r){return typeof r.parse=="function"}var hn,tp,Id,np,ip,sp,$_,q_;const vT=10;class H_ extends zp{constructor(){super(...arguments),hn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var a;this._chatCompletions.push(t),this._emit("chatCompletion",t);const i=(a=t.choices[0])==null?void 0:a.message;return i&&this._addMessage(i),t}_addMessage(t,i=!0){if("content"in t||(t.content=null),this.messages.push(t),i){if(this._emit("message",t),U_(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Md(t)&&t.tool_calls)for(const a of t.tool_calls)a.type==="function"&&this._emit("functionToolCall",a.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new je("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),F(this,hn,"m",tp).call(this)}async finalMessage(){return await this.done(),F(this,hn,"m",Id).call(this)}async finalFunctionToolCall(){return await this.done(),F(this,hn,"m",np).call(this)}async finalFunctionToolCallResult(){return await this.done(),F(this,hn,"m",ip).call(this)}async totalUsage(){return await this.done(),F(this,hn,"m",sp).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const i=F(this,hn,"m",Id).call(this);i&&this._emit("finalMessage",i);const a=F(this,hn,"m",tp).call(this);a&&this._emit("finalContent",a);const c=F(this,hn,"m",np).call(this);c&&this._emit("finalFunctionToolCall",c);const h=F(this,hn,"m",ip).call(this);h!=null&&this._emit("finalFunctionToolCallResult",h),this._chatCompletions.some(p=>p.usage)&&this._emit("totalUsage",F(this,hn,"m",sp).call(this))}async _createChatCompletion(t,i,a){const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),F(this,hn,"m",$_).call(this,i);const h=await t.chat.completions.create({...i,stream:!1},{...a,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Bp(h,i))}async _runChatCompletion(t,i,a){for(const c of i.messages)this._addMessage(c,!1);return await this._createChatCompletion(t,i,a)}async _runTools(t,i,a){var A,C,M;const c="tool",{tool_choice:h="auto",stream:p,...x}=i,y=typeof h!="string"&&h.type==="function"&&((A=h==null?void 0:h.function)==null?void 0:A.name),{maxChatCompletions:v=vT}=a||{},w=i.tools.map(U=>{if(Sc(U)){if(!U.$callback)throw new je("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:U.$callback,name:U.function.name,description:U.function.description||"",parameters:U.function.parameters,parse:U.$parseRaw,strict:!0}}}return U}),j={};for(const U of w)U.type==="function"&&(j[U.function.name||U.function.function.name]=U.function);const T="tools"in i?w.map(U=>U.type==="function"?{type:"function",function:{name:U.function.name||U.function.function.name,parameters:U.function.parameters,description:U.function.description,strict:U.function.strict}}:U):void 0;for(const U of i.messages)this._addMessage(U,!1);for(let U=0;U<v;++U){const k=(C=(await this._createChatCompletion(t,{...x,tool_choice:h,tools:T,messages:[...this.messages]},a)).choices[0])==null?void 0:C.message;if(!k)throw new je("missing message in ChatCompletion response");if(!((M=k.tool_calls)!=null&&M.length))return;for(const B of k.tool_calls){if(B.type!=="function")continue;const P=B.id,{name:R,arguments:X}=B.function,ae=j[R];if(ae){if(y&&y!==R){const _e=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(y)} requested. Please try again`;this._addMessage({role:c,tool_call_id:P,content:_e});continue}}else{const _e=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${Object.keys(j).map(Be=>JSON.stringify(Be)).join(", ")}. Please try again`;this._addMessage({role:c,tool_call_id:P,content:_e});continue}let re;try{re=xT(ae)?await ae.parse(X):X}catch(_e){const Be=_e instanceof Error?_e.message:String(_e);this._addMessage({role:c,tool_call_id:P,content:Be});continue}const me=await ae.function(re,this),Le=F(this,hn,"m",q_).call(this,me);if(this._addMessage({role:c,tool_call_id:P,content:Le}),y)return}}}}hn=new WeakSet,tp=function(){return F(this,hn,"m",Id).call(this).content??null},Id=function(){let t=this.messages.length;for(;t-- >0;){const i=this.messages[t];if(Md(i))return{...i,content:i.content??null,refusal:i.refusal??null}}throw new je("stream ended without producing a ChatCompletionMessage with role=assistant")},np=function(){var t,i;for(let a=this.messages.length-1;a>=0;a--){const c=this.messages[a];if(Md(c)&&((t=c==null?void 0:c.tool_calls)!=null&&t.length))return(i=c.tool_calls.filter(h=>h.type==="function").at(-1))==null?void 0:i.function}},ip=function(){for(let t=this.messages.length-1;t>=0;t--){const i=this.messages[t];if(U_(i)&&i.content!=null&&typeof i.content=="string"&&this.messages.some(a=>{var c;return a.role==="assistant"&&((c=a.tool_calls)==null?void 0:c.some(h=>h.type==="function"&&h.id===i.tool_call_id))}))return i.content}},sp=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:i}of this._chatCompletions)i&&(t.completion_tokens+=i.completion_tokens,t.prompt_tokens+=i.prompt_tokens,t.total_tokens+=i.total_tokens);return t},$_=function(t){if(t.n!=null&&t.n>1)throw new je("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},q_=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Up extends H_{static runTools(t,i,a){const c=new Up,h={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runTools"}};return c._run(()=>c._runTools(t,i,h)),c}_addMessage(t,i=!0){super._addMessage(t,i),Md(t)&&t.content&&this._emit("content",t.content)}}const Z_=1,Q_=2,F_=4,V_=8,Y_=16,K_=32,W_=64,J_=128,X_=256,eb=J_|X_,tb=Y_|K_|eb|W_,nb=Z_|Q_|tb,ib=F_|V_,_T=nb|ib,Ut={STR:Z_,NUM:Q_,ARR:F_,OBJ:V_,NULL:Y_,BOOL:K_,NAN:W_,INFINITY:J_,MINUS_INFINITY:X_,INF:eb,SPECIAL:tb,ATOM:nb,COLLECTION:ib,ALL:_T};class bT extends Error{}class wT extends Error{}function ST(r,t=Ut.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return jT(r.trim(),t)}const jT=(r,t)=>{const i=r.length;let a=0;const c=T=>{throw new bT(`${T} at position ${a}`)},h=T=>{throw new wT(`${T} at position ${a}`)},p=()=>(j(),a>=i&&c("Unexpected end of input"),r[a]==='"'?x():r[a]==="{"?y():r[a]==="["?v():r.substring(a,a+4)==="null"||Ut.NULL&t&&i-a<4&&"null".startsWith(r.substring(a))?(a+=4,null):r.substring(a,a+4)==="true"||Ut.BOOL&t&&i-a<4&&"true".startsWith(r.substring(a))?(a+=4,!0):r.substring(a,a+5)==="false"||Ut.BOOL&t&&i-a<5&&"false".startsWith(r.substring(a))?(a+=5,!1):r.substring(a,a+8)==="Infinity"||Ut.INFINITY&t&&i-a<8&&"Infinity".startsWith(r.substring(a))?(a+=8,1/0):r.substring(a,a+9)==="-Infinity"||Ut.MINUS_INFINITY&t&&1<i-a&&i-a<9&&"-Infinity".startsWith(r.substring(a))?(a+=9,-1/0):r.substring(a,a+3)==="NaN"||Ut.NAN&t&&i-a<3&&"NaN".startsWith(r.substring(a))?(a+=3,NaN):w()),x=()=>{const T=a;let A=!1;for(a++;a<i&&(r[a]!=='"'||A&&r[a-1]==="\\");)A=r[a]==="\\"?!A:!1,a++;if(r.charAt(a)=='"')try{return JSON.parse(r.substring(T,++a-Number(A)))}catch(C){h(String(C))}else if(Ut.STR&t)try{return JSON.parse(r.substring(T,a-Number(A))+'"')}catch{return JSON.parse(r.substring(T,r.lastIndexOf("\\"))+'"')}c("Unterminated string literal")},y=()=>{a++,j();const T={};try{for(;r[a]!=="}";){if(j(),a>=i&&Ut.OBJ&t)return T;const A=x();j(),a++;try{const C=p();Object.defineProperty(T,A,{value:C,writable:!0,enumerable:!0,configurable:!0})}catch(C){if(Ut.OBJ&t)return T;throw C}j(),r[a]===","&&a++}}catch{if(Ut.OBJ&t)return T;c("Expected '}' at end of object")}return a++,T},v=()=>{a++;const T=[];try{for(;r[a]!=="]";)T.push(p()),j(),r[a]===","&&a++}catch{if(Ut.ARR&t)return T;c("Expected ']' at end of array")}return a++,T},w=()=>{if(a===0){r==="-"&&Ut.NUM&t&&c("Not sure what '-' is");try{return JSON.parse(r)}catch(A){if(Ut.NUM&t)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}h(String(A))}}const T=a;for(r[a]==="-"&&a++;r[a]&&!",]}".includes(r[a]);)a++;a==i&&!(Ut.NUM&t)&&c("Unterminated number literal");try{return JSON.parse(r.substring(T,a))}catch{r.substring(T,a)==="-"&&Ut.NUM&t&&c("Not sure what '-' is");try{return JSON.parse(r.substring(T,r.lastIndexOf("e")))}catch(C){h(String(C))}}},j=()=>{for(;a<i&&` 
\r	`.includes(r[a]);)a++};return p()},zv=r=>ST(r,Ut.ALL^Ut.NUM);var Ot,fs,ro,ma,bm,od,wm,Sm,jm,ld,Nm,Uv;class gc extends H_{constructor(t){super(),Ot.add(this),fs.set(this,void 0),ro.set(this,void 0),ma.set(this,void 0),Oe(this,fs,t),Oe(this,ro,[])}get currentChatCompletionSnapshot(){return F(this,ma,"f")}static fromReadableStream(t){const i=new gc(null);return i._run(()=>i._fromReadableStream(t)),i}static createChatCompletion(t,i,a){const c=new gc(i);return c._run(()=>c._runChatCompletion(t,{...i,stream:!0},{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createChatCompletion(t,i,a){var p;super._createChatCompletion;const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),F(this,Ot,"m",bm).call(this);const h=await t.chat.completions.create({...i,stream:!0},{...a,signal:this.controller.signal});this._connected();for await(const x of h)F(this,Ot,"m",wm).call(this,x);if((p=h.controller.signal)!=null&&p.aborted)throw new Xn;return this._addChatCompletion(F(this,Ot,"m",ld).call(this))}async _fromReadableStream(t,i){var p;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),F(this,Ot,"m",bm).call(this),this._connected();const c=Li.fromReadableStream(t,this.controller);let h;for await(const x of c)h&&h!==x.id&&this._addChatCompletion(F(this,Ot,"m",ld).call(this)),F(this,Ot,"m",wm).call(this,x),h=x.id;if((p=c.controller.signal)!=null&&p.aborted)throw new Xn;return this._addChatCompletion(F(this,Ot,"m",ld).call(this))}[(fs=new WeakMap,ro=new WeakMap,ma=new WeakMap,Ot=new WeakSet,bm=function(){this.ended||Oe(this,ma,void 0)},od=function(i){let a=F(this,ro,"f")[i.index];return a||(a={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},F(this,ro,"f")[i.index]=a,a)},wm=function(i){var c,h,p,x,y,v,w,j,T,A,C,M,U,z,k;if(this.ended)return;const a=F(this,Ot,"m",Uv).call(this,i);this._emit("chunk",i,a);for(const B of i.choices){const P=a.choices[B.index];B.delta.content!=null&&((c=P.message)==null?void 0:c.role)==="assistant"&&((h=P.message)!=null&&h.content)&&(this._emit("content",B.delta.content,P.message.content),this._emit("content.delta",{delta:B.delta.content,snapshot:P.message.content,parsed:P.message.parsed})),B.delta.refusal!=null&&((p=P.message)==null?void 0:p.role)==="assistant"&&((x=P.message)!=null&&x.refusal)&&this._emit("refusal.delta",{delta:B.delta.refusal,snapshot:P.message.refusal}),((y=B.logprobs)==null?void 0:y.content)!=null&&((v=P.message)==null?void 0:v.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(w=B.logprobs)==null?void 0:w.content,snapshot:((j=P.logprobs)==null?void 0:j.content)??[]}),((T=B.logprobs)==null?void 0:T.refusal)!=null&&((A=P.message)==null?void 0:A.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(C=B.logprobs)==null?void 0:C.refusal,snapshot:((M=P.logprobs)==null?void 0:M.refusal)??[]});const R=F(this,Ot,"m",od).call(this,P);P.finish_reason&&(F(this,Ot,"m",jm).call(this,P),R.current_tool_call_index!=null&&F(this,Ot,"m",Sm).call(this,P,R.current_tool_call_index));for(const X of B.delta.tool_calls??[])R.current_tool_call_index!==X.index&&(F(this,Ot,"m",jm).call(this,P),R.current_tool_call_index!=null&&F(this,Ot,"m",Sm).call(this,P,R.current_tool_call_index)),R.current_tool_call_index=X.index;for(const X of B.delta.tool_calls??[]){const ae=(U=P.message.tool_calls)==null?void 0:U[X.index];ae!=null&&ae.type&&((ae==null?void 0:ae.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(z=ae.function)==null?void 0:z.name,index:X.index,arguments:ae.function.arguments,parsed_arguments:ae.function.parsed_arguments,arguments_delta:((k=X.function)==null?void 0:k.arguments)??""}):(ae==null||ae.type,void 0))}}},Sm=function(i,a){var p,x,y;if(F(this,Ot,"m",od).call(this,i).done_tool_calls.has(a))return;const h=(p=i.message.tool_calls)==null?void 0:p[a];if(!h)throw new Error("no tool call snapshot");if(!h.type)throw new Error("tool call snapshot missing `type`");if(h.type==="function"){const v=(y=(x=F(this,fs,"f"))==null?void 0:x.tools)==null?void 0:y.find(w=>Ld(w)&&w.function.name===h.function.name);this._emit("tool_calls.function.arguments.done",{name:h.function.name,index:a,arguments:h.function.arguments,parsed_arguments:Sc(v)?v.$parseRaw(h.function.arguments):v!=null&&v.function.strict?JSON.parse(h.function.arguments):null})}else h.type},jm=function(i){var c,h;const a=F(this,Ot,"m",od).call(this,i);if(i.message.content&&!a.content_done){a.content_done=!0;const p=F(this,Ot,"m",Nm).call(this);this._emit("content.done",{content:i.message.content,parsed:p?p.$parseRaw(i.message.content):null})}i.message.refusal&&!a.refusal_done&&(a.refusal_done=!0,this._emit("refusal.done",{refusal:i.message.refusal})),(c=i.logprobs)!=null&&c.content&&!a.logprobs_content_done&&(a.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:i.logprobs.content})),(h=i.logprobs)!=null&&h.refusal&&!a.logprobs_refusal_done&&(a.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:i.logprobs.refusal}))},ld=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");const i=F(this,ma,"f");if(!i)throw new je("request ended without sending any chunks");return Oe(this,ma,void 0),Oe(this,ro,[]),NT(i,F(this,fs,"f"))},Nm=function(){var a;const i=(a=F(this,fs,"f"))==null?void 0:a.response_format;return Ip(i)?i:null},Uv=function(i){var a,c,h,p;let x=F(this,ma,"f");const{choices:y,...v}=i;x?Object.assign(x,v):x=Oe(this,ma,{...v,choices:[]});for(const{delta:w,finish_reason:j,index:T,logprobs:A=null,...C}of i.choices){let M=x.choices[T];if(M||(M=x.choices[T]={finish_reason:j,index:T,message:{},logprobs:A,...C}),A)if(!M.logprobs)M.logprobs=Object.assign({},A);else{const{content:X,refusal:ae,...re}=A;Object.assign(M.logprobs,re),X&&((a=M.logprobs).content??(a.content=[]),M.logprobs.content.push(...X)),ae&&((c=M.logprobs).refusal??(c.refusal=[]),M.logprobs.refusal.push(...ae))}if(j&&(M.finish_reason=j,F(this,fs,"f")&&B_(F(this,fs,"f")))){if(j==="length")throw new v_;if(j==="content_filter")throw new __}if(Object.assign(M,C),!w)continue;const{content:U,refusal:z,function_call:k,role:B,tool_calls:P,...R}=w;if(Object.assign(M.message,R),z&&(M.message.refusal=(M.message.refusal||"")+z),B&&(M.message.role=B),k&&(M.message.function_call?(k.name&&(M.message.function_call.name=k.name),k.arguments&&((h=M.message.function_call).arguments??(h.arguments=""),M.message.function_call.arguments+=k.arguments)):M.message.function_call=k),U&&(M.message.content=(M.message.content||"")+U,!M.message.refusal&&F(this,Ot,"m",Nm).call(this)&&(M.message.parsed=zv(M.message.content))),P){M.message.tool_calls||(M.message.tool_calls=[]);for(const{index:X,id:ae,type:re,function:me,...Le}of P){const _e=(p=M.message.tool_calls)[X]??(p[X]={});Object.assign(_e,Le),ae&&(_e.id=ae),re&&(_e.type=re),me&&(_e.function??(_e.function={name:me.name??"",arguments:""})),me!=null&&me.name&&(_e.function.name=me.name),me!=null&&me.arguments&&(_e.function.arguments+=me.arguments,gT(F(this,fs,"f"),_e)&&(_e.function.parsed_arguments=zv(_e.function.arguments)))}}}return x},Symbol.asyncIterator)](){const t=[],i=[];let a=!1;return this.on("chunk",c=>{const h=i.shift();h?h.resolve(c):t.push(c)}),this.on("end",()=>{a=!0;for(const c of i)c.resolve(void 0);i.length=0}),this.on("abort",c=>{a=!0;for(const h of i)h.reject(c);i.length=0}),this.on("error",c=>{a=!0;for(const h of i)h.reject(c);i.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((h,p)=>i.push({resolve:h,reject:p})).then(h=>h?{value:h,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Li(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function NT(r,t){const{id:i,choices:a,created:c,model:h,system_fingerprint:p,...x}=r,y={...x,id:i,choices:a.map(({message:v,finish_reason:w,index:j,logprobs:T,...A})=>{if(!w)throw new je(`missing finish_reason for choice ${j}`);const{content:C=null,function_call:M,tool_calls:U,...z}=v,k=v.role;if(!k)throw new je(`missing role for choice ${j}`);if(M){const{arguments:B,name:P}=M;if(B==null)throw new je(`missing function_call.arguments for choice ${j}`);if(!P)throw new je(`missing function_call.name for choice ${j}`);return{...A,message:{content:C,function_call:{arguments:B,name:P},role:k,refusal:v.refusal??null},finish_reason:w,index:j,logprobs:T}}return U?{...A,index:j,finish_reason:w,logprobs:T,message:{...z,role:k,content:C,refusal:v.refusal??null,tool_calls:U.map((B,P)=>{const{function:R,type:X,id:ae,...re}=B,{arguments:me,name:Le,..._e}=R||{};if(ae==null)throw new je(`missing choices[${j}].tool_calls[${P}].id
${cd(r)}`);if(X==null)throw new je(`missing choices[${j}].tool_calls[${P}].type
${cd(r)}`);if(Le==null)throw new je(`missing choices[${j}].tool_calls[${P}].function.name
${cd(r)}`);if(me==null)throw new je(`missing choices[${j}].tool_calls[${P}].function.arguments
${cd(r)}`);return{...re,id:ae,type:X,function:{..._e,name:Le,arguments:me}}})}}:{...A,message:{...z,content:C,role:k,refusal:v.refusal??null},finish_reason:w,index:j,logprobs:T}}),created:c,model:h,object:"chat.completion",...p?{system_fingerprint:p}:{}};return fT(y,t)}function cd(r){return JSON.stringify(r)}class Bd extends gc{static fromReadableStream(t){const i=new Bd(null);return i._run(()=>i._fromReadableStream(t)),i}static runTools(t,i,a){const c=new Bd(i),h={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runTools"}};return c._run(()=>c._runTools(t,i,h)),c}}let Gp=class extends Se{constructor(){super(...arguments),this.messages=new I_(this._client)}create(t,i){return this._client.post("/chat/completions",{body:t,...i,stream:t.stream??!1})}retrieve(t,i){return this._client.get(oe`/chat/completions/${t}`,i)}update(t,i,a){return this._client.post(oe`/chat/completions/${t}`,{body:i,...a})}list(t={},i){return this._client.getAPIList("/chat/completions",Et,{query:t,...i})}delete(t,i){return this._client.delete(oe`/chat/completions/${t}`,i)}parse(t,i){return yT(t.tools),this._client.chat.completions.create(t,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(a=>Bp(a,t))}runTools(t,i){return t.stream?Bd.runTools(this._client,t,i):Up.runTools(this._client,t,i)}stream(t,i){return gc.createChatCompletion(this._client,t,i)}};Gp.Messages=I_;class $p extends Se{constructor(){super(...arguments),this.completions=new Gp(this._client)}}$p.Completions=Gp;const sb=Symbol("brand.privateNullableHeaders");function*TT(r){if(!r)return;if(sb in r){const{values:a,nulls:c}=r;yield*a.entries();for(const h of c)yield[h,null];return}let t=!1,i;r instanceof Headers?i=r.entries():Nv(r)?i=r:(t=!0,i=Object.entries(r??{}));for(let a of i){const c=a[0];if(typeof c!="string")throw new TypeError("expected header name to be a string");const h=Nv(a[1])?a[1]:[a[1]];let p=!1;for(const x of h)x!==void 0&&(t&&!p&&(p=!0,yield[c,null]),yield[c,x])}}const pe=r=>{const t=new Headers,i=new Set;for(const a of r){const c=new Set;for(const[h,p]of TT(a)){const x=h.toLowerCase();c.has(x)||(t.delete(h),c.add(x)),p===null?(t.delete(h),i.add(x)):(t.append(h,p),i.delete(x))}}return{[sb]:!0,values:t,nulls:i}};class ab extends Se{create(t,i){return this._client.post("/audio/speech",{body:t,...i,headers:pe([{Accept:"application/octet-stream"},i==null?void 0:i.headers]),__binaryResponse:!0})}}class rb extends Se{create(t,i){return this._client.post("/audio/transcriptions",hr({body:t,...i,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class ob extends Se{create(t,i){return this._client.post("/audio/translations",hr({body:t,...i,__metadata:{model:t.model}},this._client))}}class jc extends Se{constructor(){super(...arguments),this.transcriptions=new rb(this._client),this.translations=new ob(this._client),this.speech=new ab(this._client)}}jc.Transcriptions=rb;jc.Translations=ob;jc.Speech=ab;class lb extends Se{create(t,i){return this._client.post("/batches",{body:t,...i})}retrieve(t,i){return this._client.get(oe`/batches/${t}`,i)}list(t={},i){return this._client.getAPIList("/batches",Et,{query:t,...i})}cancel(t,i){return this._client.post(oe`/batches/${t}/cancel`,i)}}class cb extends Se{create(t,i){return this._client.post("/assistants",{body:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(t,i){return this._client.get(oe`/assistants/${t}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(t,i,a){return this._client.post(oe`/assistants/${t}`,{body:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}list(t={},i){return this._client.getAPIList("/assistants",Et,{query:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(t,i){return this._client.delete(oe`/assistants/${t}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}let ub=class extends Se{create(t,i){return this._client.post("/realtime/sessions",{body:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}};class db extends Se{create(t,i){return this._client.post("/realtime/transcription_sessions",{body:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}let Xd=class extends Se{constructor(){super(...arguments),this.sessions=new ub(this._client),this.transcriptionSessions=new db(this._client)}};Xd.Sessions=ub;Xd.TranscriptionSessions=db;class hb extends Se{create(t,i){return this._client.post("/chatkit/sessions",{body:t,...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}cancel(t,i){return this._client.post(oe`/chatkit/sessions/${t}/cancel`,{...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}}let fb=class extends Se{retrieve(t,i){return this._client.get(oe`/chatkit/threads/${t}`,{...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}list(t={},i){return this._client.getAPIList("/chatkit/threads",Rd,{query:t,...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}delete(t,i){return this._client.delete(oe`/chatkit/threads/${t}`,{...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])})}listItems(t,i={},a){return this._client.getAPIList(oe`/chatkit/threads/${t}/items`,Rd,{query:i,...a,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},a==null?void 0:a.headers])})}};class eh extends Se{constructor(){super(...arguments),this.sessions=new hb(this._client),this.threads=new fb(this._client)}uploadFile(t,i){return this._client.post("/chatkit/files",Km({body:t,...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i==null?void 0:i.headers])},this._client))}}eh.Sessions=hb;eh.Threads=fb;class mb extends Se{create(t,i,a){return this._client.post(oe`/threads/${t}/messages`,{body:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}retrieve(t,i,a){const{thread_id:c}=i;return this._client.get(oe`/threads/${c}/messages/${t}`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}update(t,i,a){const{thread_id:c,...h}=i;return this._client.post(oe`/threads/${c}/messages/${t}`,{body:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}list(t,i={},a){return this._client.getAPIList(oe`/threads/${t}/messages`,Et,{query:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}delete(t,i,a){const{thread_id:c}=i;return this._client.delete(oe`/threads/${c}/messages/${t}`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}class pb extends Se{retrieve(t,i,a){const{thread_id:c,run_id:h,...p}=i;return this._client.get(oe`/threads/${c}/runs/${h}/steps/${t}`,{query:p,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}list(t,i,a){const{thread_id:c,...h}=i;return this._client.getAPIList(oe`/threads/${c}/runs/${t}/steps`,Et,{query:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}const ET=r=>{if(typeof Buffer<"u"){const t=Buffer.from(r,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(r),i=t.length,a=new Uint8Array(i);for(let c=0;c<i;c++)a[c]=t.charCodeAt(c);return Array.from(new Float32Array(a.buffer))}};var Tm={};const oo=r=>{var t,i,a,c;if(typeof globalThis.process<"u")return((t=Tm==null?void 0:Tm[r])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(c=(a=(i=globalThis.Deno.env)==null?void 0:i.get)==null?void 0:a.call(i,r))==null?void 0:c.trim()};var Vt,rr,ap,Ri,Nd,hi,or,To,ir,zd,Dn,Td,Ed,lc,sc,ac,Gv,$v,qv,Hv,Zv,Qv,Fv;class cc extends zp{constructor(){super(...arguments),Vt.add(this),ap.set(this,[]),Ri.set(this,{}),Nd.set(this,{}),hi.set(this,void 0),or.set(this,void 0),To.set(this,void 0),ir.set(this,void 0),zd.set(this,void 0),Dn.set(this,void 0),Td.set(this,void 0),Ed.set(this,void 0),lc.set(this,void 0)}[(ap=new WeakMap,Ri=new WeakMap,Nd=new WeakMap,hi=new WeakMap,or=new WeakMap,To=new WeakMap,ir=new WeakMap,zd=new WeakMap,Dn=new WeakMap,Td=new WeakMap,Ed=new WeakMap,lc=new WeakMap,Vt=new WeakSet,Symbol.asyncIterator)](){const t=[],i=[];let a=!1;return this.on("event",c=>{const h=i.shift();h?h.resolve(c):t.push(c)}),this.on("end",()=>{a=!0;for(const c of i)c.resolve(void 0);i.length=0}),this.on("abort",c=>{a=!0;for(const h of i)h.reject(c);i.length=0}),this.on("error",c=>{a=!0;for(const h of i)h.reject(c);i.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((h,p)=>i.push({resolve:h,reject:p})).then(h=>h?{value:h,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const i=new rr;return i._run(()=>i._fromReadableStream(t)),i}async _fromReadableStream(t,i){var h;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),this._connected();const c=Li.fromReadableStream(t,this.controller);for await(const p of c)F(this,Vt,"m",sc).call(this,p);if((h=c.controller.signal)!=null&&h.aborted)throw new Xn;return this._addRun(F(this,Vt,"m",ac).call(this))}toReadableStream(){return new Li(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,i,a,c){const h=new rr;return h._run(()=>h._runToolAssistantStream(t,i,a,{...c,headers:{...c==null?void 0:c.headers,"X-Stainless-Helper-Method":"stream"}})),h}async _createToolAssistantStream(t,i,a,c){var y;const h=c==null?void 0:c.signal;h&&(h.aborted&&this.controller.abort(),h.addEventListener("abort",()=>this.controller.abort()));const p={...a,stream:!0},x=await t.submitToolOutputs(i,p,{...c,signal:this.controller.signal});this._connected();for await(const v of x)F(this,Vt,"m",sc).call(this,v);if((y=x.controller.signal)!=null&&y.aborted)throw new Xn;return this._addRun(F(this,Vt,"m",ac).call(this))}static createThreadAssistantStream(t,i,a){const c=new rr;return c._run(()=>c._threadAssistantStream(t,i,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),c}static createAssistantStream(t,i,a,c){const h=new rr;return h._run(()=>h._runAssistantStream(t,i,a,{...c,headers:{...c==null?void 0:c.headers,"X-Stainless-Helper-Method":"stream"}})),h}currentEvent(){return F(this,Td,"f")}currentRun(){return F(this,Ed,"f")}currentMessageSnapshot(){return F(this,hi,"f")}currentRunStepSnapshot(){return F(this,lc,"f")}async finalRunSteps(){return await this.done(),Object.values(F(this,Ri,"f"))}async finalMessages(){return await this.done(),Object.values(F(this,Nd,"f"))}async finalRun(){if(await this.done(),!F(this,or,"f"))throw Error("Final run was not received.");return F(this,or,"f")}async _createThreadAssistantStream(t,i,a){var x;const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const h={...i,stream:!0},p=await t.createAndRun(h,{...a,signal:this.controller.signal});this._connected();for await(const y of p)F(this,Vt,"m",sc).call(this,y);if((x=p.controller.signal)!=null&&x.aborted)throw new Xn;return this._addRun(F(this,Vt,"m",ac).call(this))}async _createAssistantStream(t,i,a,c){var y;const h=c==null?void 0:c.signal;h&&(h.aborted&&this.controller.abort(),h.addEventListener("abort",()=>this.controller.abort()));const p={...a,stream:!0},x=await t.create(i,p,{...c,signal:this.controller.signal});this._connected();for await(const v of x)F(this,Vt,"m",sc).call(this,v);if((y=x.controller.signal)!=null&&y.aborted)throw new Xn;return this._addRun(F(this,Vt,"m",ac).call(this))}static accumulateDelta(t,i){for(const[a,c]of Object.entries(i)){if(!t.hasOwnProperty(a)){t[a]=c;continue}let h=t[a];if(h==null){t[a]=c;continue}if(a==="index"||a==="type"){t[a]=c;continue}if(typeof h=="string"&&typeof c=="string")h+=c;else if(typeof h=="number"&&typeof c=="number")h+=c;else if(xm(h)&&xm(c))h=this.accumulateDelta(h,c);else if(Array.isArray(h)&&Array.isArray(c)){if(h.every(p=>typeof p=="string"||typeof p=="number")){h.push(...c);continue}for(const p of c){if(!xm(p))throw new Error(`Expected array delta entry to be an object but got: ${p}`);const x=p.index;if(x==null)throw console.error(p),new Error("Expected array delta entry to have an `index` property");if(typeof x!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${x}`);const y=h[x];y==null?h.push(p):h[x]=this.accumulateDelta(y,p)}continue}else throw Error(`Unhandled record type: ${a}, deltaValue: ${c}, accValue: ${h}`);t[a]=h}return t}_addRun(t){return t}async _threadAssistantStream(t,i,a){return await this._createThreadAssistantStream(i,t,a)}async _runAssistantStream(t,i,a,c){return await this._createAssistantStream(i,t,a,c)}async _runToolAssistantStream(t,i,a,c){return await this._createToolAssistantStream(i,t,a,c)}}rr=cc,sc=function(t){if(!this.ended)switch(Oe(this,Td,t),F(this,Vt,"m",qv).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":F(this,Vt,"m",Fv).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":F(this,Vt,"m",$v).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":F(this,Vt,"m",Gv).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ac=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");if(!F(this,or,"f"))throw Error("Final run has not been received");return F(this,or,"f")},Gv=function(t){const[i,a]=F(this,Vt,"m",Zv).call(this,t,F(this,hi,"f"));Oe(this,hi,i),F(this,Nd,"f")[i.id]=i;for(const c of a){const h=i.content[c.index];(h==null?void 0:h.type)=="text"&&this._emit("textCreated",h.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,i),t.data.delta.content)for(const c of t.data.delta.content){if(c.type=="text"&&c.text){let h=c.text,p=i.content[c.index];if(p&&p.type=="text")this._emit("textDelta",h,p.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(c.index!=F(this,To,"f")){if(F(this,ir,"f"))switch(F(this,ir,"f").type){case"text":this._emit("textDone",F(this,ir,"f").text,F(this,hi,"f"));break;case"image_file":this._emit("imageFileDone",F(this,ir,"f").image_file,F(this,hi,"f"));break}Oe(this,To,c.index)}Oe(this,ir,i.content[c.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(F(this,To,"f")!==void 0){const c=t.data.content[F(this,To,"f")];if(c)switch(c.type){case"image_file":this._emit("imageFileDone",c.image_file,F(this,hi,"f"));break;case"text":this._emit("textDone",c.text,F(this,hi,"f"));break}}F(this,hi,"f")&&this._emit("messageDone",t.data),Oe(this,hi,void 0)}},$v=function(t){const i=F(this,Vt,"m",Hv).call(this,t);switch(Oe(this,lc,i),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const a=t.data.delta;if(a.step_details&&a.step_details.type=="tool_calls"&&a.step_details.tool_calls&&i.step_details.type=="tool_calls")for(const h of a.step_details.tool_calls)h.index==F(this,zd,"f")?this._emit("toolCallDelta",h,i.step_details.tool_calls[h.index]):(F(this,Dn,"f")&&this._emit("toolCallDone",F(this,Dn,"f")),Oe(this,zd,h.index),Oe(this,Dn,i.step_details.tool_calls[h.index]),F(this,Dn,"f")&&this._emit("toolCallCreated",F(this,Dn,"f")));this._emit("runStepDelta",t.data.delta,i);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Oe(this,lc,void 0),t.data.step_details.type=="tool_calls"&&F(this,Dn,"f")&&(this._emit("toolCallDone",F(this,Dn,"f")),Oe(this,Dn,void 0)),this._emit("runStepDone",t.data,i);break}},qv=function(t){F(this,ap,"f").push(t),this._emit("event",t)},Hv=function(t){switch(t.event){case"thread.run.step.created":return F(this,Ri,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let i=F(this,Ri,"f")[t.data.id];if(!i)throw Error("Received a RunStepDelta before creation of a snapshot");let a=t.data;if(a.delta){const c=rr.accumulateDelta(i,a.delta);F(this,Ri,"f")[t.data.id]=c}return F(this,Ri,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":F(this,Ri,"f")[t.data.id]=t.data;break}if(F(this,Ri,"f")[t.data.id])return F(this,Ri,"f")[t.data.id];throw new Error("No snapshot available")},Zv=function(t,i){let a=[];switch(t.event){case"thread.message.created":return[t.data,a];case"thread.message.delta":if(!i)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let c=t.data;if(c.delta.content)for(const h of c.delta.content)if(h.index in i.content){let p=i.content[h.index];i.content[h.index]=F(this,Vt,"m",Qv).call(this,h,p)}else i.content[h.index]=h,a.push(h);return[i,a];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(i)return[i,a];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Qv=function(t,i){return rr.accumulateDelta(i,t)},Fv=function(t){switch(Oe(this,Ed,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Oe(this,or,t.data),F(this,Dn,"f")&&(this._emit("toolCallDone",F(this,Dn,"f")),Oe(this,Dn,void 0));break}};let qp=class extends Se{constructor(){super(...arguments),this.steps=new pb(this._client)}create(t,i,a){const{include:c,...h}=i;return this._client.post(oe`/threads/${t}/runs`,{query:{include:c},body:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers]),stream:i.stream??!1})}retrieve(t,i,a){const{thread_id:c}=i;return this._client.get(oe`/threads/${c}/runs/${t}`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}update(t,i,a){const{thread_id:c,...h}=i;return this._client.post(oe`/threads/${c}/runs/${t}`,{body:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}list(t,i={},a){return this._client.getAPIList(oe`/threads/${t}/runs`,Et,{query:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}cancel(t,i,a){const{thread_id:c}=i;return this._client.post(oe`/threads/${c}/runs/${t}/cancel`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}async createAndPoll(t,i,a){const c=await this.create(t,i,a);return await this.poll(c.id,{thread_id:t},a)}createAndStream(t,i,a){return cc.createAssistantStream(t,this._client.beta.threads.runs,i,a)}async poll(t,i,a){var h;const c=pe([a==null?void 0:a.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((h=a==null?void 0:a.pollIntervalMs)==null?void 0:h.toString())??void 0}]);for(;;){const{data:p,response:x}=await this.retrieve(t,i,{...a,headers:{...a==null?void 0:a.headers,...c}}).withResponse();switch(p.status){case"queued":case"in_progress":case"cancelling":let y=5e3;if(a!=null&&a.pollIntervalMs)y=a.pollIntervalMs;else{const v=x.headers.get("openai-poll-after-ms");if(v){const w=parseInt(v);isNaN(w)||(y=w)}}await wc(y);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return p}}}stream(t,i,a){return cc.createAssistantStream(t,this._client.beta.threads.runs,i,a)}submitToolOutputs(t,i,a){const{thread_id:c,...h}=i;return this._client.post(oe`/threads/${c}/runs/${t}/submit_tool_outputs`,{body:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers]),stream:i.stream??!1})}async submitToolOutputsAndPoll(t,i,a){const c=await this.submitToolOutputs(t,i,a);return await this.poll(c.id,i,a)}submitToolOutputsStream(t,i,a){return cc.createToolAssistantStream(t,this._client.beta.threads.runs,i,a)}};qp.Steps=pb;class th extends Se{constructor(){super(...arguments),this.runs=new qp(this._client),this.messages=new mb(this._client)}create(t={},i){return this._client.post("/threads",{body:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(t,i){return this._client.get(oe`/threads/${t}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(t,i,a){return this._client.post(oe`/threads/${t}`,{body:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}delete(t,i){return this._client.delete(oe`/threads/${t}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}createAndRun(t,i){return this._client.post("/threads/runs",{body:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:t.stream??!1})}async createAndRunPoll(t,i){const a=await this.createAndRun(t,i);return await this.runs.poll(a.id,{thread_id:a.thread_id},i)}createAndRunStream(t,i){return cc.createThreadAssistantStream(t,this._client.beta.threads,i)}}th.Runs=qp;th.Messages=mb;class Po extends Se{constructor(){super(...arguments),this.realtime=new Xd(this._client),this.chatkit=new eh(this._client),this.assistants=new cb(this._client),this.threads=new th(this._client)}}Po.Realtime=Xd;Po.ChatKit=eh;Po.Assistants=cb;Po.Threads=th;class gb extends Se{create(t,i){return this._client.post("/completions",{body:t,...i,stream:t.stream??!1})}}class yb extends Se{retrieve(t,i,a){const{container_id:c}=i;return this._client.get(oe`/containers/${c}/files/${t}/content`,{...a,headers:pe([{Accept:"application/binary"},a==null?void 0:a.headers]),__binaryResponse:!0})}}let Hp=class extends Se{constructor(){super(...arguments),this.content=new yb(this._client)}create(t,i,a){return this._client.post(oe`/containers/${t}/files`,hr({body:i,...a},this._client))}retrieve(t,i,a){const{container_id:c}=i;return this._client.get(oe`/containers/${c}/files/${t}`,a)}list(t,i={},a){return this._client.getAPIList(oe`/containers/${t}/files`,Et,{query:i,...a})}delete(t,i,a){const{container_id:c}=i;return this._client.delete(oe`/containers/${c}/files/${t}`,{...a,headers:pe([{Accept:"*/*"},a==null?void 0:a.headers])})}};Hp.Content=yb;class Zp extends Se{constructor(){super(...arguments),this.files=new Hp(this._client)}create(t,i){return this._client.post("/containers",{body:t,...i})}retrieve(t,i){return this._client.get(oe`/containers/${t}`,i)}list(t={},i){return this._client.getAPIList("/containers",Et,{query:t,...i})}delete(t,i){return this._client.delete(oe`/containers/${t}`,{...i,headers:pe([{Accept:"*/*"},i==null?void 0:i.headers])})}}Zp.Files=Hp;class xb extends Se{create(t,i,a){const{include:c,...h}=i;return this._client.post(oe`/conversations/${t}/items`,{query:{include:c},body:h,...a})}retrieve(t,i,a){const{conversation_id:c,...h}=i;return this._client.get(oe`/conversations/${c}/items/${t}`,{query:h,...a})}list(t,i={},a){return this._client.getAPIList(oe`/conversations/${t}/items`,Rd,{query:i,...a})}delete(t,i,a){const{conversation_id:c}=i;return this._client.delete(oe`/conversations/${c}/items/${t}`,a)}}class Qp extends Se{constructor(){super(...arguments),this.items=new xb(this._client)}create(t={},i){return this._client.post("/conversations",{body:t,...i})}retrieve(t,i){return this._client.get(oe`/conversations/${t}`,i)}update(t,i,a){return this._client.post(oe`/conversations/${t}`,{body:i,...a})}delete(t,i){return this._client.delete(oe`/conversations/${t}`,i)}}Qp.Items=xb;class vb extends Se{create(t,i){const a=!!t.encoding_format;let c=a?t.encoding_format:"base64";a&&Ft(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const h=this._client.post("/embeddings",{body:{...t,encoding_format:c},...i});return a?h:(Ft(this._client).debug("embeddings/decoding base64 embeddings from base64"),h._thenUnwrap(p=>(p&&p.data&&p.data.forEach(x=>{const y=x.embedding;x.embedding=ET(y)}),p)))}}class _b extends Se{retrieve(t,i,a){const{eval_id:c,run_id:h}=i;return this._client.get(oe`/evals/${c}/runs/${h}/output_items/${t}`,a)}list(t,i,a){const{eval_id:c,...h}=i;return this._client.getAPIList(oe`/evals/${c}/runs/${t}/output_items`,Et,{query:h,...a})}}class Fp extends Se{constructor(){super(...arguments),this.outputItems=new _b(this._client)}create(t,i,a){return this._client.post(oe`/evals/${t}/runs`,{body:i,...a})}retrieve(t,i,a){const{eval_id:c}=i;return this._client.get(oe`/evals/${c}/runs/${t}`,a)}list(t,i={},a){return this._client.getAPIList(oe`/evals/${t}/runs`,Et,{query:i,...a})}delete(t,i,a){const{eval_id:c}=i;return this._client.delete(oe`/evals/${c}/runs/${t}`,a)}cancel(t,i,a){const{eval_id:c}=i;return this._client.post(oe`/evals/${c}/runs/${t}`,a)}}Fp.OutputItems=_b;class Vp extends Se{constructor(){super(...arguments),this.runs=new Fp(this._client)}create(t,i){return this._client.post("/evals",{body:t,...i})}retrieve(t,i){return this._client.get(oe`/evals/${t}`,i)}update(t,i,a){return this._client.post(oe`/evals/${t}`,{body:i,...a})}list(t={},i){return this._client.getAPIList("/evals",Et,{query:t,...i})}delete(t,i){return this._client.delete(oe`/evals/${t}`,i)}}Vp.Runs=Fp;let bb=class extends Se{create(t,i){return this._client.post("/files",hr({body:t,...i},this._client))}retrieve(t,i){return this._client.get(oe`/files/${t}`,i)}list(t={},i){return this._client.getAPIList("/files",Et,{query:t,...i})}delete(t,i){return this._client.delete(oe`/files/${t}`,i)}content(t,i){return this._client.get(oe`/files/${t}/content`,{...i,headers:pe([{Accept:"application/binary"},i==null?void 0:i.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:i=5e3,maxWait:a=30*60*1e3}={}){const c=new Set(["processed","error","deleted"]),h=Date.now();let p=await this.retrieve(t);for(;!p.status||!c.has(p.status);)if(await wc(i),p=await this.retrieve(t),Date.now()-h>a)throw new Lp({message:`Giving up on waiting for file ${t} to finish processing after ${a} milliseconds.`});return p}};class wb extends Se{}let Sb=class extends Se{run(t,i){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...i})}validate(t,i){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...i})}};class Yp extends Se{constructor(){super(...arguments),this.graders=new Sb(this._client)}}Yp.Graders=Sb;class jb extends Se{create(t,i,a){return this._client.getAPIList(oe`/fine_tuning/checkpoints/${t}/permissions`,Jd,{body:i,method:"post",...a})}retrieve(t,i={},a){return this._client.get(oe`/fine_tuning/checkpoints/${t}/permissions`,{query:i,...a})}delete(t,i,a){const{fine_tuned_model_checkpoint:c}=i;return this._client.delete(oe`/fine_tuning/checkpoints/${c}/permissions/${t}`,a)}}let Kp=class extends Se{constructor(){super(...arguments),this.permissions=new jb(this._client)}};Kp.Permissions=jb;class Nb extends Se{list(t,i={},a){return this._client.getAPIList(oe`/fine_tuning/jobs/${t}/checkpoints`,Et,{query:i,...a})}}class Wp extends Se{constructor(){super(...arguments),this.checkpoints=new Nb(this._client)}create(t,i){return this._client.post("/fine_tuning/jobs",{body:t,...i})}retrieve(t,i){return this._client.get(oe`/fine_tuning/jobs/${t}`,i)}list(t={},i){return this._client.getAPIList("/fine_tuning/jobs",Et,{query:t,...i})}cancel(t,i){return this._client.post(oe`/fine_tuning/jobs/${t}/cancel`,i)}listEvents(t,i={},a){return this._client.getAPIList(oe`/fine_tuning/jobs/${t}/events`,Et,{query:i,...a})}pause(t,i){return this._client.post(oe`/fine_tuning/jobs/${t}/pause`,i)}resume(t,i){return this._client.post(oe`/fine_tuning/jobs/${t}/resume`,i)}}Wp.Checkpoints=Nb;class Do extends Se{constructor(){super(...arguments),this.methods=new wb(this._client),this.jobs=new Wp(this._client),this.checkpoints=new Kp(this._client),this.alpha=new Yp(this._client)}}Do.Methods=wb;Do.Jobs=Wp;Do.Checkpoints=Kp;Do.Alpha=Yp;class Tb extends Se{}class Jp extends Se{constructor(){super(...arguments),this.graderModels=new Tb(this._client)}}Jp.GraderModels=Tb;class Eb extends Se{createVariation(t,i){return this._client.post("/images/variations",hr({body:t,...i},this._client))}edit(t,i){return this._client.post("/images/edits",hr({body:t,...i,stream:t.stream??!1},this._client))}generate(t,i){return this._client.post("/images/generations",{body:t,...i,stream:t.stream??!1})}}class Ab extends Se{retrieve(t,i){return this._client.get(oe`/models/${t}`,i)}list(t){return this._client.getAPIList("/models",Jd,t)}delete(t,i){return this._client.delete(oe`/models/${t}`,i)}}class Cb extends Se{create(t,i){return this._client.post("/moderations",{body:t,...i})}}class Ob extends Se{accept(t,i,a){return this._client.post(oe`/realtime/calls/${t}/accept`,{body:i,...a,headers:pe([{Accept:"*/*"},a==null?void 0:a.headers])})}hangup(t,i){return this._client.post(oe`/realtime/calls/${t}/hangup`,{...i,headers:pe([{Accept:"*/*"},i==null?void 0:i.headers])})}refer(t,i,a){return this._client.post(oe`/realtime/calls/${t}/refer`,{body:i,...a,headers:pe([{Accept:"*/*"},a==null?void 0:a.headers])})}reject(t,i={},a){return this._client.post(oe`/realtime/calls/${t}/reject`,{body:i,...a,headers:pe([{Accept:"*/*"},a==null?void 0:a.headers])})}}class kb extends Se{create(t,i){return this._client.post("/realtime/client_secrets",{body:t,...i})}}class nh extends Se{constructor(){super(...arguments),this.clientSecrets=new kb(this._client),this.calls=new Ob(this._client)}}nh.ClientSecrets=kb;nh.Calls=Ob;function AT(r,t){return!t||!OT(t)?{...r,output_parsed:null,output:r.output.map(i=>i.type==="function_call"?{...i,parsed_arguments:null}:i.type==="message"?{...i,content:i.content.map(a=>({...a,parsed:null}))}:i)}:Rb(r,t)}function Rb(r,t){const i=r.output.map(c=>{if(c.type==="function_call")return{...c,parsed_arguments:LT(t,c)};if(c.type==="message"){const h=c.content.map(p=>p.type==="output_text"?{...p,parsed:CT(t,p.text)}:p);return{...c,content:h}}return c}),a=Object.assign({},r,{output:i});return Object.getOwnPropertyDescriptor(r,"output_text")||rp(a),Object.defineProperty(a,"output_parsed",{enumerable:!0,get(){for(const c of a.output)if(c.type==="message"){for(const h of c.content)if(h.type==="output_text"&&h.parsed!==null)return h.parsed}return null}}),a}function CT(r,t){var i,a,c,h;return((a=(i=r.text)==null?void 0:i.format)==null?void 0:a.type)!=="json_schema"?null:"$parseRaw"in((c=r.text)==null?void 0:c.format)?((h=r.text)==null?void 0:h.format).$parseRaw(t):JSON.parse(t)}function OT(r){var t;return!!Ip((t=r.text)==null?void 0:t.format)}function kT(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function RT(r,t){return r.find(i=>i.type==="function"&&i.name===t)}function LT(r,t){const i=RT(r.tools??[],t.name);return{...t,...t,parsed_arguments:kT(i)?i.$parseRaw(t.arguments):i!=null&&i.strict?JSON.parse(t.arguments):null}}function rp(r){const t=[];for(const i of r.output)if(i.type==="message")for(const a of i.content)a.type==="output_text"&&t.push(a.text);r.output_text=t.join("")}var lo,ud,pa,dd,Vv,Yv,Kv,Wv;class Xp extends zp{constructor(t){super(),lo.add(this),ud.set(this,void 0),pa.set(this,void 0),dd.set(this,void 0),Oe(this,ud,t)}static createResponse(t,i,a){const c=new Xp(i);return c._run(()=>c._createOrRetrieveResponse(t,i,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createOrRetrieveResponse(t,i,a){var x;const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),F(this,lo,"m",Vv).call(this);let h,p=null;"response_id"in i?(h=await t.responses.retrieve(i.response_id,{stream:!0},{...a,signal:this.controller.signal,stream:!0}),p=i.starting_after??null):h=await t.responses.create({...i,stream:!0},{...a,signal:this.controller.signal}),this._connected();for await(const y of h)F(this,lo,"m",Yv).call(this,y,p);if((x=h.controller.signal)!=null&&x.aborted)throw new Xn;return F(this,lo,"m",Kv).call(this)}[(ud=new WeakMap,pa=new WeakMap,dd=new WeakMap,lo=new WeakSet,Vv=function(){this.ended||Oe(this,pa,void 0)},Yv=function(i,a){if(this.ended)return;const c=(p,x)=>{(a==null||x.sequence_number>a)&&this._emit(p,x)},h=F(this,lo,"m",Wv).call(this,i);switch(c("event",i),i.type){case"response.output_text.delta":{const p=h.output[i.output_index];if(!p)throw new je(`missing output at index ${i.output_index}`);if(p.type==="message"){const x=p.content[i.content_index];if(!x)throw new je(`missing content at index ${i.content_index}`);if(x.type!=="output_text")throw new je(`expected content to be 'output_text', got ${x.type}`);c("response.output_text.delta",{...i,snapshot:x.text})}break}case"response.function_call_arguments.delta":{const p=h.output[i.output_index];if(!p)throw new je(`missing output at index ${i.output_index}`);p.type==="function_call"&&c("response.function_call_arguments.delta",{...i,snapshot:p.arguments});break}default:c(i.type,i);break}},Kv=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");const i=F(this,pa,"f");if(!i)throw new je("request ended without sending any events");Oe(this,pa,void 0);const a=MT(i,F(this,ud,"f"));return Oe(this,dd,a),a},Wv=function(i){var c;let a=F(this,pa,"f");if(!a){if(i.type!=="response.created")throw new je(`When snapshot hasn't been set yet, expected 'response.created' event, got ${i.type}`);return a=Oe(this,pa,i.response),a}switch(i.type){case"response.output_item.added":{a.output.push(i.item);break}case"response.content_part.added":{const h=a.output[i.output_index];if(!h)throw new je(`missing output at index ${i.output_index}`);const p=h.type,x=i.part;p==="message"&&x.type!=="reasoning_text"?h.content.push(x):p==="reasoning"&&x.type==="reasoning_text"&&(h.content||(h.content=[]),h.content.push(x));break}case"response.output_text.delta":{const h=a.output[i.output_index];if(!h)throw new je(`missing output at index ${i.output_index}`);if(h.type==="message"){const p=h.content[i.content_index];if(!p)throw new je(`missing content at index ${i.content_index}`);if(p.type!=="output_text")throw new je(`expected content to be 'output_text', got ${p.type}`);p.text+=i.delta}break}case"response.function_call_arguments.delta":{const h=a.output[i.output_index];if(!h)throw new je(`missing output at index ${i.output_index}`);h.type==="function_call"&&(h.arguments+=i.delta);break}case"response.reasoning_text.delta":{const h=a.output[i.output_index];if(!h)throw new je(`missing output at index ${i.output_index}`);if(h.type==="reasoning"){const p=(c=h.content)==null?void 0:c[i.content_index];if(!p)throw new je(`missing content at index ${i.content_index}`);if(p.type!=="reasoning_text")throw new je(`expected content to be 'reasoning_text', got ${p.type}`);p.text+=i.delta}break}case"response.completed":{Oe(this,pa,i.response);break}}return a},Symbol.asyncIterator)](){const t=[],i=[];let a=!1;return this.on("event",c=>{const h=i.shift();h?h.resolve(c):t.push(c)}),this.on("end",()=>{a=!0;for(const c of i)c.resolve(void 0);i.length=0}),this.on("abort",c=>{a=!0;for(const h of i)h.reject(c);i.length=0}),this.on("error",c=>{a=!0;for(const h of i)h.reject(c);i.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((h,p)=>i.push({resolve:h,reject:p})).then(h=>h?{value:h,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=F(this,dd,"f");if(!t)throw new je("stream ended without producing a ChatCompletion");return t}}function MT(r,t){return AT(r,t)}class Lb extends Se{list(t,i={},a){return this._client.getAPIList(oe`/responses/${t}/input_items`,Et,{query:i,...a})}}class eg extends Se{constructor(){super(...arguments),this.inputItems=new Lb(this._client)}create(t,i){return this._client.post("/responses",{body:t,...i,stream:t.stream??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&rp(a),a))}retrieve(t,i={},a){return this._client.get(oe`/responses/${t}`,{query:i,...a,stream:(i==null?void 0:i.stream)??!1})._thenUnwrap(c=>("object"in c&&c.object==="response"&&rp(c),c))}delete(t,i){return this._client.delete(oe`/responses/${t}`,{...i,headers:pe([{Accept:"*/*"},i==null?void 0:i.headers])})}parse(t,i){return this._client.responses.create(t,i)._thenUnwrap(a=>Rb(a,t))}stream(t,i){return Xp.createResponse(this._client,t,i)}cancel(t,i){return this._client.post(oe`/responses/${t}/cancel`,i)}}eg.InputItems=Lb;class Mb extends Se{create(t,i,a){return this._client.post(oe`/uploads/${t}/parts`,hr({body:i,...a},this._client))}}class tg extends Se{constructor(){super(...arguments),this.parts=new Mb(this._client)}create(t,i){return this._client.post("/uploads",{body:t,...i})}cancel(t,i){return this._client.post(oe`/uploads/${t}/cancel`,i)}complete(t,i,a){return this._client.post(oe`/uploads/${t}/complete`,{body:i,...a})}}tg.Parts=Mb;const PT=async r=>{const t=await Promise.allSettled(r),i=t.filter(c=>c.status==="rejected");if(i.length){for(const c of i)console.error(c.reason);throw new Error(`${i.length} promise(s) failed - see the above errors`)}const a=[];for(const c of t)c.status==="fulfilled"&&a.push(c.value);return a};class Pb extends Se{create(t,i,a){return this._client.post(oe`/vector_stores/${t}/file_batches`,{body:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}retrieve(t,i,a){const{vector_store_id:c}=i;return this._client.get(oe`/vector_stores/${c}/file_batches/${t}`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}cancel(t,i,a){const{vector_store_id:c}=i;return this._client.post(oe`/vector_stores/${c}/file_batches/${t}/cancel`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}async createAndPoll(t,i,a){const c=await this.create(t,i);return await this.poll(t,c.id,a)}listFiles(t,i,a){const{vector_store_id:c,...h}=i;return this._client.getAPIList(oe`/vector_stores/${c}/file_batches/${t}/files`,Et,{query:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}async poll(t,i,a){var h;const c=pe([a==null?void 0:a.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((h=a==null?void 0:a.pollIntervalMs)==null?void 0:h.toString())??void 0}]);for(;;){const{data:p,response:x}=await this.retrieve(i,{vector_store_id:t},{...a,headers:c}).withResponse();switch(p.status){case"in_progress":let y=5e3;if(a!=null&&a.pollIntervalMs)y=a.pollIntervalMs;else{const v=x.headers.get("openai-poll-after-ms");if(v){const w=parseInt(v);isNaN(w)||(y=w)}}await wc(y);break;case"failed":case"cancelled":case"completed":return p}}}async uploadAndPoll(t,{files:i,fileIds:a=[]},c){if(i==null||i.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const h=(c==null?void 0:c.maxConcurrency)??5,p=Math.min(h,i.length),x=this._client,y=i.values(),v=[...a];async function w(T){for(let A of T){const C=await x.files.create({file:A,purpose:"assistants"},c);v.push(C.id)}}const j=Array(p).fill(y).map(w);return await PT(j),await this.createAndPoll(t,{file_ids:v})}}class Db extends Se{create(t,i,a){return this._client.post(oe`/vector_stores/${t}/files`,{body:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}retrieve(t,i,a){const{vector_store_id:c}=i;return this._client.get(oe`/vector_stores/${c}/files/${t}`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}update(t,i,a){const{vector_store_id:c,...h}=i;return this._client.post(oe`/vector_stores/${c}/files/${t}`,{body:h,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}list(t,i={},a){return this._client.getAPIList(oe`/vector_stores/${t}/files`,Et,{query:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}delete(t,i,a){const{vector_store_id:c}=i;return this._client.delete(oe`/vector_stores/${c}/files/${t}`,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}async createAndPoll(t,i,a){const c=await this.create(t,i,a);return await this.poll(t,c.id,a)}async poll(t,i,a){var h;const c=pe([a==null?void 0:a.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((h=a==null?void 0:a.pollIntervalMs)==null?void 0:h.toString())??void 0}]);for(;;){const p=await this.retrieve(i,{vector_store_id:t},{...a,headers:c}).withResponse(),x=p.data;switch(x.status){case"in_progress":let y=5e3;if(a!=null&&a.pollIntervalMs)y=a.pollIntervalMs;else{const v=p.response.headers.get("openai-poll-after-ms");if(v){const w=parseInt(v);isNaN(w)||(y=w)}}await wc(y);break;case"failed":case"completed":return x}}}async upload(t,i,a){const c=await this._client.files.create({file:i,purpose:"assistants"},a);return this.create(t,{file_id:c.id},a)}async uploadAndPoll(t,i,a){const c=await this.upload(t,i,a);return await this.poll(t,c.id,a)}content(t,i,a){const{vector_store_id:c}=i;return this._client.getAPIList(oe`/vector_stores/${c}/files/${t}/content`,Jd,{...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}class ih extends Se{constructor(){super(...arguments),this.files=new Db(this._client),this.fileBatches=new Pb(this._client)}create(t,i){return this._client.post("/vector_stores",{body:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(t,i){return this._client.get(oe`/vector_stores/${t}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(t,i,a){return this._client.post(oe`/vector_stores/${t}`,{body:i,...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}list(t={},i){return this._client.getAPIList("/vector_stores",Et,{query:t,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(t,i){return this._client.delete(oe`/vector_stores/${t}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}search(t,i,a){return this._client.getAPIList(oe`/vector_stores/${t}/search`,Jd,{body:i,method:"post",...a,headers:pe([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}ih.Files=Db;ih.FileBatches=Pb;class Ib extends Se{create(t,i){return this._client.post("/videos",Km({body:t,...i},this._client))}retrieve(t,i){return this._client.get(oe`/videos/${t}`,i)}list(t={},i){return this._client.getAPIList("/videos",Rd,{query:t,...i})}delete(t,i){return this._client.delete(oe`/videos/${t}`,i)}downloadContent(t,i={},a){return this._client.get(oe`/videos/${t}/content`,{query:i,...a,headers:pe([{Accept:"application/binary"},a==null?void 0:a.headers]),__binaryResponse:!0})}remix(t,i,a){return this._client.post(oe`/videos/${t}/remix`,Km({body:i,...a},this._client))}}var So,Bb,Ad;class zb extends Se{constructor(){super(...arguments),So.add(this)}async unwrap(t,i,a=this._client.webhookSecret,c=300){return await this.verifySignature(t,i,a,c),JSON.parse(t)}async verifySignature(t,i,a=this._client.webhookSecret,c=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");F(this,So,"m",Bb).call(this,a);const h=pe([i]).values,p=F(this,So,"m",Ad).call(this,h,"webhook-signature"),x=F(this,So,"m",Ad).call(this,h,"webhook-timestamp"),y=F(this,So,"m",Ad).call(this,h,"webhook-id"),v=parseInt(x,10);if(isNaN(v))throw new Wl("Invalid webhook timestamp format");const w=Math.floor(Date.now()/1e3);if(w-v>c)throw new Wl("Webhook timestamp is too old");if(v>w+c)throw new Wl("Webhook timestamp is too new");const j=p.split(" ").map(M=>M.startsWith("v1,")?M.substring(3):M),T=a.startsWith("whsec_")?Buffer.from(a.replace("whsec_",""),"base64"):Buffer.from(a,"utf-8"),A=y?`${y}.${x}.${t}`:`${x}.${t}`,C=await crypto.subtle.importKey("raw",T,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const M of j)try{const U=Buffer.from(M,"base64");if(await crypto.subtle.verify("HMAC",C,U,new TextEncoder().encode(A)))return}catch{continue}throw new Wl("The given webhook signature does not match the expected signature")}}So=new WeakSet,Bb=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Ad=function(t,i){if(!t)throw new Error("Headers are required");const a=t.get(i);if(a==null)throw new Error(`Missing required header: ${i}`);return a};var op,ng,Cd,Ub;class Ie{constructor({baseURL:t=oo("OPENAI_BASE_URL"),apiKey:i=oo("OPENAI_API_KEY"),organization:a=oo("OPENAI_ORG_ID")??null,project:c=oo("OPENAI_PROJECT_ID")??null,webhookSecret:h=oo("OPENAI_WEBHOOK_SECRET")??null,...p}={}){if(op.add(this),Cd.set(this,void 0),this.completions=new gb(this),this.chat=new $p(this),this.embeddings=new vb(this),this.files=new bb(this),this.images=new Eb(this),this.audio=new jc(this),this.moderations=new Cb(this),this.models=new Ab(this),this.fineTuning=new Do(this),this.graders=new Jp(this),this.vectorStores=new ih(this),this.webhooks=new zb(this),this.beta=new Po(this),this.batches=new lb(this),this.uploads=new tg(this),this.responses=new eg(this),this.realtime=new nh(this),this.conversations=new Qp(this),this.evals=new Vp(this),this.containers=new Zp(this),this.videos=new Ib(this),i===void 0)throw new je("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const x={apiKey:i,organization:a,project:c,webhookSecret:h,...p,baseURL:t||"https://api.openai.com/v1"};if(!x.dangerouslyAllowBrowser&&I2())throw new je(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=x.baseURL,this.timeout=x.timeout??ng.DEFAULT_TIMEOUT,this.logger=x.logger??console;const y="warn";this.logLevel=y,this.logLevel=Pv(x.logLevel,"ClientOptions.logLevel",this)??Pv(oo("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??y,this.fetchOptions=x.fetchOptions,this.maxRetries=x.maxRetries??2,this.fetch=x.fetch??$2(),Oe(this,Cd,H2),this._options=x,this.apiKey=typeof i=="string"?i:"Missing Key",this.organization=a,this.project=c,this.webhookSecret=h}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:i}){}async authHeaders(t){return pe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return K2(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${bo}`}defaultIdempotencyKey(){return`stainless-node-retry-${u_()}`}makeStatusError(t,i,a,c){return Yt.generate(t,i,a,c)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let i;try{i=await t()}catch(a){throw a instanceof je?a:new je(`Failed to get token from 'apiKey' function: ${a.message}`,{cause:a})}if(typeof i!="string"||!i)throw new je(`Expected 'apiKey' function argument to return a string but it returned ${i}`);return this.apiKey=i,!0}buildURL(t,i,a){const c=!F(this,op,"m",Ub).call(this)&&a||this.baseURL,h=R2(t)?new URL(t):new URL(c+(c.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return L2(p)||(i={...p,...i}),typeof i=="object"&&i&&!Array.isArray(i)&&(h.search=this.stringifyQuery(i)),h.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:i,options:a}){}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,a){return this.request(Promise.resolve(a).then(c=>({method:t,path:i,...c})))}request(t,i=null){return new Wd(this,this.makeRequest(t,i,void 0))}async makeRequest(t,i,a){var z,k;const c=await t,h=c.maxRetries??this.maxRetries;i==null&&(i=h),await this.prepareOptions(c);const{req:p,url:x,timeout:y}=await this.buildRequest(c,{retryCount:h-i});await this.prepareRequest(p,{url:x,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=a===void 0?"":`, retryOf: ${a}`,j=Date.now();if(Ft(this).debug(`[${v}] sending request`,tr({retryOfRequestLogID:a,method:c.method,url:x,options:c,headers:p.headers})),(z=c.signal)!=null&&z.aborted)throw new Xn;const T=new AbortController,A=await this.fetchWithTimeout(x,p,y,T).catch(Vm),C=Date.now();if(A instanceof globalThis.Error){const B=`retrying, ${i} attempts remaining`;if((k=c.signal)!=null&&k.aborted)throw new Xn;const P=Fm(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return Ft(this).info(`[${v}] connection ${P?"timed out":"failed"} - ${B}`),Ft(this).debug(`[${v}] connection ${P?"timed out":"failed"} (${B})`,tr({retryOfRequestLogID:a,url:x,durationMs:C-j,message:A.message})),this.retryRequest(c,i,a??v);throw Ft(this).info(`[${v}] connection ${P?"timed out":"failed"} - error; no more retries left`),Ft(this).debug(`[${v}] connection ${P?"timed out":"failed"} (error; no more retries left)`,tr({retryOfRequestLogID:a,url:x,durationMs:C-j,message:A.message})),P?new Lp:new Yd({cause:A})}const M=[...A.headers.entries()].filter(([B])=>B==="x-request-id").map(([B,P])=>", "+B+": "+JSON.stringify(P)).join(""),U=`[${v}${w}${M}] ${p.method} ${x} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${C-j}ms`;if(!A.ok){const B=await this.shouldRetry(A);if(i&&B){const me=`retrying, ${i} attempts remaining`;return await q2(A.body),Ft(this).info(`${U} - ${me}`),Ft(this).debug(`[${v}] response error (${me})`,tr({retryOfRequestLogID:a,url:A.url,status:A.status,headers:A.headers,durationMs:C-j})),this.retryRequest(c,i,a??v,A.headers)}const P=B?"error; no more retries left":"error; not retryable";Ft(this).info(`${U} - ${P}`);const R=await A.text().catch(me=>Vm(me).message),X=D2(R),ae=X?void 0:R;throw Ft(this).debug(`[${v}] response error (${P})`,tr({retryOfRequestLogID:a,url:A.url,status:A.status,headers:A.headers,message:ae,durationMs:Date.now()-j})),this.makeStatusError(A.status,X,ae,A.headers)}return Ft(this).info(U),Ft(this).debug(`[${v}] response start`,tr({retryOfRequestLogID:a,url:A.url,status:A.status,headers:A.headers,durationMs:C-j})),{response:A,options:c,controller:T,requestLogID:v,retryOfRequestLogID:a,startTime:j}}getAPIList(t,i,a){return this.requestAPIList(i,{method:"get",path:t,...a})}requestAPIList(t,i){const a=this.makeRequest(i,null,void 0);return new aT(this,a,t)}async fetchWithTimeout(t,i,a,c){const{signal:h,method:p,...x}=i||{};h&&h.addEventListener("abort",()=>c.abort());const y=setTimeout(()=>c.abort(),a),v=globalThis.ReadableStream&&x.body instanceof globalThis.ReadableStream||typeof x.body=="object"&&x.body!==null&&Symbol.asyncIterator in x.body,w={signal:c.signal,...v?{duplex:"half"}:{},method:"GET",...x};p&&(w.method=p.toUpperCase());try{return await this.fetch.call(void 0,t,w)}finally{clearTimeout(y)}}async shouldRetry(t){const i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,a,c){let h;const p=c==null?void 0:c.get("retry-after-ms");if(p){const y=parseFloat(p);Number.isNaN(y)||(h=y)}const x=c==null?void 0:c.get("retry-after");if(x&&!h){const y=parseFloat(x);Number.isNaN(y)?h=Date.parse(x)-Date.now():h=y*1e3}if(!(h&&0<=h&&h<60*1e3)){const y=t.maxRetries??this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(i,y)}return await wc(h),this.makeRequest(t,i-1,a)}calculateDefaultRetryTimeoutMillis(t,i){const h=i-t,p=Math.min(.5*Math.pow(2,h),8),x=1-Math.random()*.25;return p*x*1e3}async buildRequest(t,{retryCount:i=0}={}){const a={...t},{method:c,path:h,query:p,defaultBaseURL:x}=a,y=this.buildURL(h,p,x);"timeout"in a&&P2("timeout",a.timeout),a.timeout=a.timeout??this.timeout;const{bodyHeaders:v,body:w}=this.buildBody({options:a}),j=await this.buildHeaders({options:t,method:c,bodyHeaders:v,retryCount:i});return{req:{method:c,headers:j,...a.signal&&{signal:a.signal},...globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"},...w&&{body:w},...this.fetchOptions??{},...a.fetchOptions??{}},url:y,timeout:a.timeout}}async buildHeaders({options:t,method:i,bodyHeaders:a,retryCount:c}){let h={};this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),h[this.idempotencyHeader]=t.idempotencyKey);const p=pe([h,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(c),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...G2(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:i}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=pe([i]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:S_(t)}:F(this,Cd,"f").call(this,{body:t,headers:a})}}ng=Ie,Cd=new WeakMap,op=new WeakSet,Ub=function(){return this.baseURL!=="https://api.openai.com/v1"};Ie.OpenAI=ng;Ie.DEFAULT_TIMEOUT=6e5;Ie.OpenAIError=je;Ie.APIError=Yt;Ie.APIConnectionError=Yd;Ie.APIConnectionTimeoutError=Lp;Ie.APIUserAbortError=Xn;Ie.NotFoundError=m_;Ie.ConflictError=p_;Ie.RateLimitError=y_;Ie.BadRequestError=d_;Ie.AuthenticationError=h_;Ie.InternalServerError=x_;Ie.PermissionDeniedError=f_;Ie.UnprocessableEntityError=g_;Ie.InvalidWebhookSignatureError=Wl;Ie.toFile=uT;Ie.Completions=gb;Ie.Chat=$p;Ie.Embeddings=vb;Ie.Files=bb;Ie.Images=Eb;Ie.Audio=jc;Ie.Moderations=Cb;Ie.Models=Ab;Ie.FineTuning=Do;Ie.Graders=Jp;Ie.VectorStores=ih;Ie.Webhooks=zb;Ie.Beta=Po;Ie.Batches=lb;Ie.Uploads=tg;Ie.Responses=eg;Ie.Realtime=nh;Ie.Conversations=Qp;Ie.Evals=Vp;Ie.Containers=Zp;Ie.Videos=Ib;var DT={};const IT=new Ie({apiKey:DT.OPENAI_API_KEY||"sk-cBeWLnHvQ6E4XZ7rLn444H",dangerouslyAllowBrowser:!0}),lr={SAFETY_ANALYST:{id:"safety-analyst",name:"Safety Intelligence Analyst",model:"gpt-4.1-mini",systemPrompt:"You are a Safety Intelligence Analyst specializing in LGBTQ+ safety assessment. You provide comprehensive safety analysis for locations worldwide, considering legal frameworks, social acceptance, healthcare access, and community support. Always prioritize user safety and provide actionable insights.",capabilities:["location-analysis","risk-assessment","safety-recommendations"],avatar:"/images/ai-safety-analyst.png"},TRAVEL_ADVISOR:{id:"travel-advisor",name:"LGBTQ+ Travel Advisor",model:"gpt-4.1-mini",systemPrompt:"You are an expert LGBTQ+ Travel Advisor with deep knowledge of global destinations. You provide personalized travel recommendations, safety tips, and cultural insights while respecting privacy through zero-knowledge principles. Focus on creating safe, inclusive travel experiences.",capabilities:["travel-planning","cultural-guidance","accommodation-recommendations"],avatar:"/images/ai-travel-advisor.png"},LEGAL_EXPERT:{id:"legal-expert",name:"Legal Rights Expert",model:"gpt-4.1-mini",systemPrompt:"You are a Legal Rights Expert specializing in LGBTQ+ rights and protections worldwide. You provide accurate, up-to-date information about legal frameworks, rights, and protections in different jurisdictions. Always emphasize the importance of consulting local legal counsel for specific situations.",capabilities:["legal-analysis","rights-information","policy-updates"],avatar:"/images/ai-legal-expert.png"},COMMUNITY_CONNECTOR:{id:"community-connector",name:"Community Connector",model:"gpt-4.1-mini",systemPrompt:"You are a Community Connector focused on helping LGBTQ+ individuals find supportive communities, resources, and services. You maintain privacy while connecting people with relevant local organizations, support groups, and safe spaces.",capabilities:["community-matching","resource-discovery","support-networks"],avatar:"/images/ai-community-connector.png"},CRISIS_SUPPORT:{id:"crisis-support",name:"Crisis Support Specialist",model:"gpt-4.1-mini",systemPrompt:"You are a Crisis Support Specialist trained to provide immediate assistance and resources for LGBTQ+ individuals in crisis situations. You prioritize safety, provide crisis hotlines, emergency resources, and guide users to appropriate professional help. Always maintain a supportive, non-judgmental approach.",capabilities:["crisis-intervention","emergency-resources","mental-health-support"],avatar:"/images/ai-crisis-support.png"}};class BT{constructor(){this.activeConversations=new Map,this.conversationHistory=new Map}async startConversation(t,i={}){const a=lr[t.toUpperCase()];if(!a)throw new Error(`Agent ${t} not found`);const c=this.generateConversationId(),h={id:c,agentId:t,agent:a,context:i,messages:[],startTime:new Date,lastActivity:new Date};return this.activeConversations.set(c,h),h}async sendMessage(t,i,a={}){const c=this.activeConversations.get(t);if(!c)throw new Error("Conversation not found");try{c.messages.push({role:"user",content:i,timestamp:new Date,context:a});const h=[{role:"system",content:c.agent.systemPrompt},...c.messages.map(y=>({role:y.role,content:y.content}))],x=(await IT.chat.completions.create({model:c.agent.model,messages:h,temperature:.7,max_tokens:1e3,presence_penalty:.1,frequency_penalty:.1})).choices[0].message.content;return c.messages.push({role:"assistant",content:x,timestamp:new Date,model:c.agent.model}),c.lastActivity=new Date,this.conversationHistory.set(t,c),{response:x,agentName:c.agent.name,conversationId:t,messageCount:c.messages.length}}catch(h){throw console.error("AI Agent Service Error:",h),new Error(`Failed to get response from ${c.agent.name}: ${h.message}`)}}getConversation(t){return this.activeConversations.get(t)||this.conversationHistory.get(t)}getAvailableAgents(){return Object.values(lr)}getAgent(t){return lr[t.toUpperCase()]}generateConversationId(){return`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}endConversation(t){const i=this.activeConversations.get(t);i&&(i.endTime=new Date,this.conversationHistory.set(t,i),this.activeConversations.delete(t))}async getSafetyAnalysis(t,i={}){const a=await this.startConversation("SAFETY_ANALYST",{location:t,userProfile:i,analysisType:"comprehensive"}),c=`Please provide a comprehensive safety analysis for ${t} considering LGBTQ+ travelers. Include:
    1. Legal status and protections
    2. Social acceptance levels
    3. Healthcare access
    4. Safe areas and venues
    5. Potential risks and precautions
    6. Emergency contacts and resources
    
    Location: ${t}
    ${i.travelPurpose?`Travel Purpose: ${i.travelPurpose}`:""}
    ${i.duration?`Duration: ${i.duration}`:""}`;return await this.sendMessage(a.id,c,{location:t,userProfile:i})}async getTravelRecommendations(t,i={}){const a=await this.startConversation("TRAVEL_ADVISOR",{destination:t,preferences:i}),c=`I'm planning to travel to ${t}. Can you provide personalized LGBTQ+-friendly recommendations including:
    1. Safe accommodations
    2. LGBTQ+ venues and events
    3. Cultural considerations
    4. Local LGBTQ+ organizations
    5. Transportation tips
    6. Best times to visit
    
    Destination: ${t}
    Preferences: ${JSON.stringify(i)}`;return await this.sendMessage(a.id,c,{destination:t,preferences:i})}async getLegalInfo(t,i){const a=await this.startConversation("LEGAL_EXPERT",{jurisdiction:t,query:i}),c=`Please provide information about LGBTQ+ legal rights and protections in ${t}. 
    Specific query: ${i}
    
    Please include:
    1. Current legal status
    2. Anti-discrimination protections
    3. Marriage and partnership rights
    4. Recent legal changes
    5. Enforcement and practical considerations
    6. Resources for legal assistance`;return await this.sendMessage(a.id,c,{jurisdiction:t,query:i})}}const Jv=new BT,zT="modulepreload",UT=function(r){return"/"+r},Xv={},Nc=function(t,i,a){let c=Promise.resolve();if(i&&i.length>0){let p=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),y=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));c=p(i.map(v=>{if(v=UT(v),v in Xv)return;Xv[v]=!0;const w=v.endsWith(".css"),j=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${j}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":zT,w||(T.as="script"),T.crossOrigin="",T.href=v,y&&T.setAttribute("nonce",y),document.head.appendChild(T),w)return new Promise((A,C)=>{T.addEventListener("load",A),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(p){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=p,window.dispatchEvent(x),!x.defaultPrevented)throw p}return c.then(p=>{for(const x of p||[])x.status==="rejected"&&h(x.reason);return t().catch(h)})},GT=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...i)=>Nc(async()=>{const{default:a}=await Promise.resolve().then(()=>Io);return{default:a}},[]).then(({default:a})=>a(...i)):t=fetch,(...i)=>t(...i)};class ig extends Error{constructor(t,i="FunctionsError",a){super(t),this.name=i,this.context=a}}class e0 extends ig{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class t0 extends ig{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class n0 extends ig{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(lp||(lp={}));var $T=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};class qT{constructor(t,{headers:i={},customFetch:a,region:c=lp.Any}={}){this.url=t,this.headers=i,this.region=c,this.fetch=GT(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $T(this,arguments,void 0,function*(i,a={}){var c;try{const{headers:h,method:p,body:x,signal:y}=a;let v={},{region:w}=a;w||(w=this.region);const j=new URL(`${this.url}/${i}`);w&&w!=="any"&&(v["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let T;x&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)&&(typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",T=x):typeof x=="string"?(v["Content-Type"]="text/plain",T=x):typeof FormData<"u"&&x instanceof FormData?T=x:(v["Content-Type"]="application/json",T=JSON.stringify(x)));const A=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:T,signal:y}).catch(z=>{throw z.name==="AbortError"?z:new e0(z)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new t0(A);if(!A.ok)throw new n0(A);let M=((c=A.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),U;return M==="application/json"?U=yield A.json():M==="application/octet-stream"?U=yield A.blob():M==="text/event-stream"?U=A:M==="multipart/form-data"?U=yield A.formData():U=yield A.text(),{data:U,error:null,response:A}}catch(h){return h instanceof Error&&h.name==="AbortError"?{data:null,error:new e0(h)}:{data:null,error:h,response:h instanceof n0||h instanceof t0?h.context:void 0}}})}}var zt={},co={},uo={},ho={},fo={},mo={},HT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ko=HT();const ZT=ko.fetch,Gb=ko.fetch.bind(ko),$b=ko.Headers,QT=ko.Request,FT=ko.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:$b,Request:QT,Response:FT,default:Gb,fetch:ZT},Symbol.toStringTag,{value:"Module"})),VT=NS(Io);var hd={},i0;function qb(){if(i0)return hd;i0=1,Object.defineProperty(hd,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return hd.default=r,hd}var s0;function Hb(){if(s0)return mo;s0=1;var r=mo&&mo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(mo,"__esModule",{value:!0});const t=r(VT),i=r(qb());class a{constructor(h){var p,x;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(p=h.shouldThrowOnError)!==null&&p!==void 0?p:!1,this.signal=h.signal,this.isMaybeSingle=(x=h.isMaybeSingle)!==null&&x!==void 0?x:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,p){return this.headers=new Headers(this.headers),this.headers.set(h,p),this}then(h,p){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const x=this.fetch;let y=x(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var w,j,T,A;let C=null,M=null,U=null,z=v.status,k=v.statusText;if(v.ok){if(this.method!=="HEAD"){const X=await v.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((w=this.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?M=X:M=JSON.parse(X))}const P=(j=this.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),R=(T=v.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");P&&R&&R.length>1&&(U=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(C={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,U=null,z=406,k="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const P=await v.text();try{C=JSON.parse(P),Array.isArray(C)&&v.status===404&&(M=[],C=null,z=200,k="OK")}catch{v.status===404&&P===""?(z=204,k="No Content"):C={message:P}}if(C&&this.isMaybeSingle&&(!((A=C==null?void 0:C.details)===null||A===void 0)&&A.includes("0 rows"))&&(C=null,z=200,k="OK"),C&&this.shouldThrowOnError)throw new i.default(C)}return{error:C,data:M,count:U,status:z,statusText:k}});return this.shouldThrowOnError||(y=y.catch(v=>{var w,j,T;return{error:{message:`${(w=v==null?void 0:v.name)!==null&&w!==void 0?w:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(j=v==null?void 0:v.stack)!==null&&j!==void 0?j:""}`,hint:"",code:`${(T=v==null?void 0:v.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),y.then(h,p)}returns(){return this}overrideTypes(){return this}}return mo.default=a,mo}var a0;function Zb(){if(a0)return fo;a0=1;var r=fo&&fo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fo,"__esModule",{value:!0});const t=r(Hb());class i extends t.default{select(c){let h=!1;const p=(c??"*").split("").map(x=>/\s/.test(x)&&!h?"":(x==='"'&&(h=!h),x)).join("");return this.url.searchParams.set("select",p),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:h=!0,nullsFirst:p,foreignTable:x,referencedTable:y=x}={}){const v=y?`${y}.order`:"order",w=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${w?`${w},`:""}${c}.${h?"asc":"desc"}${p===void 0?"":p?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:h,referencedTable:p=h}={}){const x=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(x,`${c}`),this}range(c,h,{foreignTable:p,referencedTable:x=p}={}){const y=typeof x>"u"?"offset":`${x}.offset`,v=typeof x>"u"?"limit":`${x}.limit`;return this.url.searchParams.set(y,`${c}`),this.url.searchParams.set(v,`${h-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:h=!1,settings:p=!1,buffers:x=!1,wal:y=!1,format:v="text"}={}){var w;const j=[c?"analyze":null,h?"verbose":null,p?"settings":null,x?"buffers":null,y?"wal":null].filter(Boolean).join("|"),T=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${T}"; options=${j};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return fo.default=i,fo}var r0;function sg(){if(r0)return ho;r0=1;var r=ho&&ho.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ho,"__esModule",{value:!0});const t=r(Zb());class i extends t.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(x=>typeof x=="string"&&new RegExp("[,()]").test(x)?`"${x}"`:`${x}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:x}={}){let y="";x==="plain"?y="pl":x==="phrase"?y="ph":x==="websearch"&&(y="w");const v=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${v}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const x=p?`${p}.or`:"or";return this.url.searchParams.append(x,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return ho.default=i,ho}var o0;function Qb(){if(o0)return uo;o0=1;var r=uo&&uo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(uo,"__esModule",{value:!0});const t=r(sg());class i{constructor(c,{headers:h={},schema:p,fetch:x}){this.url=c,this.headers=new Headers(h),this.schema=p,this.fetch=x}select(c,h){const{head:p=!1,count:x}=h??{},y=p?"HEAD":"GET";let v=!1;const w=(c??"*").split("").map(j=>/\s/.test(j)&&!v?"":(j==='"'&&(v=!v),j)).join("");return this.url.searchParams.set("select",w),x&&this.headers.append("Prefer",`count=${x}`),new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:h,defaultToNull:p=!0}={}){var x;const y="POST";if(h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const v=c.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(v.length>0){const w=[...new Set(v)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}upsert(c,{onConflict:h,ignoreDuplicates:p=!1,count:x,defaultToNull:y=!0}={}){var v;const w="POST";if(this.headers.append("Prefer",`resolution=${p?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),x&&this.headers.append("Prefer",`count=${x}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const j=c.reduce((T,A)=>T.concat(Object.keys(A)),[]);if(j.length>0){const T=[...new Set(j)].map(A=>`"${A}"`);this.url.searchParams.set("columns",T.join(","))}}return new t.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(c,{count:h}={}){var p;const x="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}delete({count:c}={}){var h;const p="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return uo.default=i,uo}var l0;function YT(){if(l0)return co;l0=1;var r=co&&co.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(co,"__esModule",{value:!0});const t=r(Qb()),i=r(sg());class a{constructor(h,{headers:p={},schema:x,fetch:y}={}){this.url=h,this.headers=new Headers(p),this.schemaName=x,this.fetch=y}from(h){const p=new URL(`${this.url}/${h}`);return new t.default(p,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new a(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,p={},{head:x=!1,get:y=!1,count:v}={}){var w;let j;const T=new URL(`${this.url}/rpc/${h}`);let A;x||y?(j=x?"HEAD":"GET",Object.entries(p).filter(([M,U])=>U!==void 0).map(([M,U])=>[M,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([M,U])=>{T.searchParams.append(M,U)})):(j="POST",A=p);const C=new Headers(this.headers);return v&&C.set("Prefer",`count=${v}`),new i.default({method:j,url:T,headers:C,schema:this.schemaName,body:A,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return co.default=a,co}var c0;function KT(){if(c0)return zt;c0=1;var r=zt&&zt.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(zt,"__esModule",{value:!0}),zt.PostgrestError=zt.PostgrestBuilder=zt.PostgrestTransformBuilder=zt.PostgrestFilterBuilder=zt.PostgrestQueryBuilder=zt.PostgrestClient=void 0;const t=r(YT());zt.PostgrestClient=t.default;const i=r(Qb());zt.PostgrestQueryBuilder=i.default;const a=r(sg());zt.PostgrestFilterBuilder=a.default;const c=r(Zb());zt.PostgrestTransformBuilder=c.default;const h=r(Hb());zt.PostgrestBuilder=h.default;const p=r(qb());return zt.PostgrestError=p.default,zt.default={PostgrestClient:t.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:h.default,PostgrestError:p.default},zt}var WT=KT();const JT=Ro(WT),{PostgrestClient:XT,PostgrestQueryBuilder:LC,PostgrestFilterBuilder:MC,PostgrestTransformBuilder:PC,PostgrestBuilder:DC,PostgrestError:IC}=JT;class eE{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const a=i.node,c=parseInt(a.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const a=this.getWebSocketConstructor();return new a(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tE="2.74.0",nE=`realtime-js/${tE}`,iE="1.0.0",cp=1e4,sE=1e3,aE=100;var uc;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(uc||(uc={}));var kt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(kt||(kt={}));var fi;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(fi||(fi={}));var up;(function(r){r.websocket="websocket"})(up||(up={}));var sr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(sr||(sr={}));class rE{constructor(){this.HEADER_LENGTH=1}decode(t,i){return t.constructor===ArrayBuffer?i(this._binaryDecode(t)):i(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const i=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,i,a)}_decodeBroadcast(t,i,a){const c=i.getUint8(1),h=i.getUint8(2);let p=this.HEADER_LENGTH+2;const x=a.decode(t.slice(p,p+c));p=p+c;const y=a.decode(t.slice(p,p+h));p=p+h;const v=JSON.parse(a.decode(t.slice(p,t.byteLength)));return{ref:null,topic:x,event:y,payload:v}}}class Fb{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(rt||(rt={}));const u0=(r,t,i={})=>{var a;const c=(a=i.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((h,p)=>(h[p]=oE(p,r,t,c),h),{}):{}},oE=(r,t,i,a)=>{const c=t.find(x=>x.name===r),h=c==null?void 0:c.type,p=i[r];return h&&!a.includes(h)?Vb(h,p):dp(p)},Vb=(r,t)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return dE(t,i)}switch(r){case rt.bool:return lE(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return cE(t);case rt.json:case rt.jsonb:return uE(t);case rt.timestamp:return hE(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return dp(t);default:return dp(t)}},dp=r=>r,lE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},cE=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},uE=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},dE=(r,t)=>{if(typeof r!="string")return r;const i=r.length-1,a=r[i];if(r[0]==="{"&&a==="}"){let h;const p=r.slice(1,i);try{h=JSON.parse("["+p+"]")}catch{h=p?p.split(","):[]}return h.map(x=>Vb(t,x))}return r},hE=r=>typeof r=="string"?r.replace(" ","T"):r,Yb=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Em{constructor(t,i,a={},c=cp){this.channel=t,this.event=i,this.payload=a,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var a;return this._hasReceived(t)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var d0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(d0||(d0={}));class dc{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},c=>{const{onJoin:h,onLeave:p,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dc.syncState(this.state,c,h,p),this.pendingDiffs.forEach(y=>{this.state=dc.syncDiff(this.state,y,h,p)}),this.pendingDiffs=[],x()}),this.channel._on(a.diff,{},c=>{const{onJoin:h,onLeave:p,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=dc.syncDiff(this.state,c,h,p),x())}),this.onJoin((c,h,p)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:p})}),this.onLeave((c,h,p)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,a,c){const h=this.cloneDeep(t),p=this.transformState(i),x={},y={};return this.map(h,(v,w)=>{p[v]||(y[v]=w)}),this.map(p,(v,w)=>{const j=h[v];if(j){const T=w.map(U=>U.presence_ref),A=j.map(U=>U.presence_ref),C=w.filter(U=>A.indexOf(U.presence_ref)<0),M=j.filter(U=>T.indexOf(U.presence_ref)<0);C.length>0&&(x[v]=C),M.length>0&&(y[v]=M)}else x[v]=w}),this.syncDiff(h,{joins:x,leaves:y},a,c)}static syncDiff(t,i,a,c){const{joins:h,leaves:p}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),c||(c=()=>{}),this.map(h,(x,y)=>{var v;const w=(v=t[x])!==null&&v!==void 0?v:[];if(t[x]=this.cloneDeep(y),w.length>0){const j=t[x].map(A=>A.presence_ref),T=w.filter(A=>j.indexOf(A.presence_ref)<0);t[x].unshift(...T)}a(x,w,y)}),this.map(p,(x,y)=>{let v=t[x];if(!v)return;const w=y.map(j=>j.presence_ref);v=v.filter(j=>w.indexOf(j.presence_ref)<0),t[x]=v,c(x,v,y),v.length===0&&delete t[x]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(a=>i(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,a)=>{const c=t[a];return"metas"in c?i[a]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):i[a]=c,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(h0||(h0={}));var hc;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(hc||(hc={}));var ps;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ps||(ps={}));class ag{constructor(t,i={config:{}},a){var c,h;if(this.topic=t,this.params=i,this.socket=a,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Em(this,fi.join,this.params,this.timeout),this.rejoinTimer=new Fb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fi.reply,{},(p,x)=>{this._trigger(this._replyEventName(x),p)}),this.presence=new dc(this),this.broadcastEndpointURL=Yb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var a,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:p,presence:x,private:y}}=this.params,v=(c=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(A=>A.filter))!==null&&c!==void 0?c:[],w=!!this.bindings[hc.PRESENCE]&&this.bindings[hc.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,j={},T={broadcast:p,presence:Object.assign(Object.assign({},x),{enabled:w}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(A=>t==null?void 0:t(ps.CHANNEL_ERROR,A)),this._onClose(()=>t==null?void 0:t(ps.CLOSED)),this.updateJoinPayload(Object.assign({config:T},j)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:A})=>{var C;if(this.socket.setAuth(),A===void 0){t==null||t(ps.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,U=(C=M==null?void 0:M.length)!==null&&C!==void 0?C:0,z=[];for(let k=0;k<U;k++){const B=M[k],{filter:{event:P,schema:R,table:X,filter:ae}}=B,re=A&&A[k];if(re&&re.event===P&&re.schema===R&&re.table===X&&re.filter===ae)z.push(Object.assign(Object.assign({},B),{id:re.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,t&&t(ps.SUBSCRIBED);return}}).receive("error",A=>{this.state=kt.errored,t==null||t(ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,a){return this.state===kt.joined&&t===hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,i,a)}async send(t,i={}){var a,c;if(!this._canPush()&&t.type==="broadcast"){const{event:h,payload:p}=t,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:p,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var p,x,y;const v=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((y=(x=(p=this.params)===null||p===void 0?void 0:p.config)===null||x===void 0?void 0:x.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(c=>{a=new Em(this,fi.leave,{},t),a.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,i,a){const c=new AbortController,h=setTimeout(()=>c.abort(),a),p=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(h),p}_push(t,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Em(this,t,i,a);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>aE){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,a){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,a){var c,h;const p=t.toLocaleLowerCase(),{close:x,error:y,leave:v,join:w}=fi;if(a&&[x,y,v,w].indexOf(p)>=0&&a!==this._joinRef())return;let T=this._onMessage(p,i,a);if(i&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var C,M,U;return((C=A.filter)===null||C===void 0?void 0:C.event)==="*"||((U=(M=A.filter)===null||M===void 0?void 0:M.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===p}).map(A=>A.callback(T,a)):(h=this.bindings[p])===null||h===void 0||h.filter(A=>{var C,M,U,z,k,B;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in A){const P=A.id,R=(C=A.filter)===null||C===void 0?void 0:C.event;return P&&((M=i.ids)===null||M===void 0?void 0:M.includes(P))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((U=i.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const P=(k=(z=A==null?void 0:A.filter)===null||z===void 0?void 0:z.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((B=i==null?void 0:i.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===p}).map(A=>{if(typeof T=="object"&&"ids"in T){const C=T.data,{schema:M,table:U,commit_timestamp:z,type:k,errors:B}=C;T=Object.assign(Object.assign({},{schema:M,table:U,commit_timestamp:z,eventType:k,new:{},old:{},errors:B}),this._getPayloadRecords(C))}A.callback(T,a)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,a){const c=t.toLocaleLowerCase(),h={type:c,filter:i,callback:a};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(t,i){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===a&&ag.isEqual(c.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const a in t)if(t[a]!==i[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fi.close,{},t)}_onError(t){this._on(fi.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=u0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=u0(t.columns,t.old_record)),i}}const Am=()=>{},fd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fE=[1e3,2e3,5e3,1e4],mE=1e4,pE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gE{constructor(t,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cp,this.transport=null,this.heartbeatIntervalMs=fd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Am,this.ref=0,this.reconnectTimer=null,this.logger=Am,this.conn=null,this.sendBuffer=[],this.serializer=new rE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let h;return c?h=c:typeof fetch>"u"?h=(...p)=>Nc(async()=>{const{default:x}=await Promise.resolve().then(()=>Io);return{default:x}},void 0).then(({default:x})=>x(...p)).catch(x=>{throw new Error(`Failed to load @supabase/node-fetch: ${x.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):h=fetch,(...p)=>h(...p)},!(!((a=i==null?void 0:i.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${up.websocket}`,this.httpEndpoint=Yb(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iE}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,a){this.logger(t,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case uc.connecting:return sr.Connecting;case uc.open:return sr.Open;case uc.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const a=`realtime:${t}`,c=this.getChannels().find(h=>h.topic===a);if(c)return c;{const h=new ag(`realtime:${t}`,i,this);return this.channels.push(h),h}}push(t){const{topic:i,event:a,payload:c,ref:h}=t,p=()=>{this.encode(t,x=>{var y;(y=this.conn)===null||y===void 0||y.send(x)})};this.log("push",`${i} ${a} (${h})`,c),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sE,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},fd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:c,payload:h,ref:p}=i,x=p?`(${p})`:"",y=h.status||"";this.log("receive",`${y} ${a} ${c} ${x}`.trim(),h),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(c,h,p)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fi.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const a=t.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${t}${a}${c}`}_workerObjectUrl(t){let i;if(t)i=t;else{const a=new Blob([pE],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i;t?i=t:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(a=>{const c={access_token:i,version:nE};i&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(fi.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(i)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Fb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,a,c,h,p,x,y,v,w;if(this.transport=(i=t==null?void 0:t.transport)!==null&&i!==void 0?i:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:cp,this.heartbeatIntervalMs=(c=t==null?void 0:t.heartbeatIntervalMs)!==null&&c!==void 0?c:fd.HEARTBEAT_INTERVAL,this.worker=(h=t==null?void 0:t.worker)!==null&&h!==void 0?h:!1,this.accessToken=(p=t==null?void 0:t.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(x=t==null?void 0:t.heartbeatCallback)!==null&&x!==void 0?x:Am,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=t==null?void 0:t.reconnectAfterMs)!==null&&y!==void 0?y:j=>fE[j-1]||mE,this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:(j,T)=>T(JSON.stringify(j)),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class rg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function jt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class yE extends rg{constructor(t,i,a){super(t),this.name="StorageApiError",this.status=i,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hp extends rg{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}}var xE=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};const Kb=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...i)=>Nc(async()=>{const{default:a}=await Promise.resolve().then(()=>Io);return{default:a}},void 0).then(({default:a})=>a(...i)):t=fetch,(...i)=>t(...i)},vE=()=>xE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nc(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),fp=r=>{if(Array.isArray(r))return r.map(i=>fp(i));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([i,a])=>{const c=i.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));t[c]=fp(a)}),t},_E=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var mr=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};const Cm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),bE=(r,t,i)=>mr(void 0,void 0,void 0,function*(){const a=yield vE();r instanceof a&&!(i!=null&&i.noResolveJson)?r.json().then(c=>{const h=r.status||500,p=(c==null?void 0:c.statusCode)||h+"";t(new yE(Cm(c),h,p))}).catch(c=>{t(new hp(Cm(c),c))}):t(new hp(Cm(r),r))}),wE=(r,t,i,a)=>{const c={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"||!a?c:(_E(a)?(c.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(a)):c.body=a,t!=null&&t.duplex&&(c.duplex=t.duplex),Object.assign(Object.assign({},c),i))};function Tc(r,t,i,a,c,h){return mr(this,void 0,void 0,function*(){return new Promise((p,x)=>{r(i,wE(t,a,c,h)).then(y=>{if(!y.ok)throw y;return a!=null&&a.noResolveJson?y:y.json()}).then(y=>p(y)).catch(y=>bE(y,x,a))})})}function Ud(r,t,i,a){return mr(this,void 0,void 0,function*(){return Tc(r,"GET",t,i,a)})}function ki(r,t,i,a,c){return mr(this,void 0,void 0,function*(){return Tc(r,"POST",t,a,c,i)})}function mp(r,t,i,a,c){return mr(this,void 0,void 0,function*(){return Tc(r,"PUT",t,a,c,i)})}function SE(r,t,i,a){return mr(this,void 0,void 0,function*(){return Tc(r,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),a)})}function Wb(r,t,i,a,c){return mr(this,void 0,void 0,function*(){return Tc(r,"DELETE",t,a,c,i)})}var jE=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};class NE{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i}then(t,i){return this.execute().then(t,i)}execute(){return jE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}}var TE=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};class EE{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i}asStream(){return new NE(this.downloadFn,this.shouldThrowOnError)}then(t,i){return this.execute().then(t,i)}execute(){return TE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}}var _n=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};const AE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CE{constructor(t,i={},a,c){this.shouldThrowOnError=!1,this.url=t,this.headers=i,this.bucketId=a,this.fetch=Kb(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,i,a,c){return _n(this,void 0,void 0,function*(){try{let h;const p=Object.assign(Object.assign({},f0),c);let x=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(p.upsert)});const y=p.metadata;typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),y&&h.append("metadata",this.encodeMetadata(y)),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",p.cacheControl),y&&h.append("metadata",this.encodeMetadata(y))):(h=a,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType,y&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),c!=null&&c.headers&&(x=Object.assign(Object.assign({},x),c.headers));const v=this._removeEmptyFolders(i),w=this._getFinalPath(v),j=yield(t=="PUT"?mp:ki)(this.fetch,`${this.url}/object/${w}`,h,Object.assign({headers:x},p!=null&&p.duplex?{duplex:p.duplex}:{}));return{data:{path:v,id:j.Id,fullPath:j.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(jt(h))return{data:null,error:h};throw h}})}upload(t,i,a){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,a)})}uploadToSignedUrl(t,i,a,c){return _n(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),x=new URL(this.url+`/object/upload/sign/${p}`);x.searchParams.set("token",i);try{let y;const v=Object.assign({upsert:f0.upsert},c),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&a instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",a)):typeof FormData<"u"&&a instanceof FormData?(y=a,y.append("cacheControl",v.cacheControl)):(y=a,w["cache-control"]=`max-age=${v.cacheControl}`,w["content-type"]=v.contentType);const j=yield mp(this.fetch,x.toString(),y,{headers:w});return{data:{path:h,fullPath:j.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(jt(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(t,i){return _n(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const c=Object.assign({},this.headers);i!=null&&i.upsert&&(c["x-upsert"]="true");const h=yield ki(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:c}),p=new URL(this.url+h.url),x=p.searchParams.get("token");if(!x)throw new rg("No token returned by API");return{data:{signedUrl:p.toString(),path:t,token:x},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}update(t,i,a){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,a)})}move(t,i,a){return _n(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}copy(t,i,a){return _n(this,void 0,void 0,function*(){try{return{data:{path:(yield ki(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}createSignedUrl(t,i,a){return _n(this,void 0,void 0,function*(){try{let c=this._getFinalPath(t),h=yield ki(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const p=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${p}`)},{data:h,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}createSignedUrls(t,i,a){return _n(this,void 0,void 0,function*(){try{const c=yield ki(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:c.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${h}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}download(t,i){const c=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),p=h?`?${h}`:"",x=this._getFinalPath(t),y=()=>Ud(this.fetch,`${this.url}/${c}/${x}${p}`,{headers:this.headers,noResolveJson:!0});return new EE(y,this.shouldThrowOnError)}info(t){return _n(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{const a=yield Ud(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:fp(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}exists(t){return _n(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{return yield SE(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a)&&a instanceof hp){const c=a.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,i){const a=this._getFinalPath(t),c=[],h=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";h!==""&&c.push(h);const x=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});y!==""&&c.push(y);let v=c.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${a}${v}`)}}}remove(t){return _n(this,void 0,void 0,function*(){try{return{data:yield Wb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}list(t,i,a){return _n(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},AE),i),{prefix:t||""});return{data:yield ki(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},a),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}listV2(t,i){return _n(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield ki(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}}const OE="2.74.0",kE={"X-Client-Info":`storage-js/${OE}`};var po=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};class RE{constructor(t,i={},a,c){this.shouldThrowOnError=!1;const h=new URL(t);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kE),i),this.fetch=Kb(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return po(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}getBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}createBucket(t){return po(this,arguments,void 0,function*(i,a={public:!1}){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}updateBucket(t,i){return po(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}deleteBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield Wb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}}class LE extends RE{constructor(t,i={},a,c){super(t,i,a,c)}from(t){return new CE(this.url,this.headers,t,this.fetch)}}const ME="2.74.0";let rc="";typeof Deno<"u"?rc="deno":typeof document<"u"?rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rc="react-native":rc="node";const PE={"X-Client-Info":`supabase-js-${rc}/${ME}`},DE={headers:PE},IE={schema:"public"},BE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zE={};var UE=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};const GE=r=>{let t;return r?t=r:typeof fetch>"u"?t=Gb:t=fetch,(...i)=>t(...i)},$E=()=>typeof Headers>"u"?$b:Headers,qE=(r,t,i)=>{const a=GE(i),c=$E();return(h,p)=>UE(void 0,void 0,void 0,function*(){var x;const y=(x=yield t())!==null&&x!==void 0?x:r;let v=new c(p==null?void 0:p.headers);return v.has("apikey")||v.set("apikey",r),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),a(h,Object.assign(Object.assign({},p),{headers:v}))})};var HE=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};function ZE(r){return r.endsWith("/")?r:r+"/"}function QE(r,t){var i,a;const{db:c,auth:h,realtime:p,global:x}=r,{db:y,auth:v,realtime:w,global:j}=t,T={db:Object.assign(Object.assign({},y),c),auth:Object.assign(Object.assign({},v),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},j),x),{headers:Object.assign(Object.assign({},(i=j==null?void 0:j.headers)!==null&&i!==void 0?i:{}),(a=x==null?void 0:x.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>HE(this,void 0,void 0,function*(){return""})};return r.accessToken?T.accessToken=r.accessToken:delete T.accessToken,T}function FE(r){const t=r==null?void 0:r.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jb="2.74.0",jo=30*1e3,pp=3,Om=pp*jo,VE="http://localhost:9999",YE="supabase.auth.token",KE={"X-Client-Info":`gotrue-js/${Jb}`},gp="X-Supabase-Api-Version",Xb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JE=10*60*1e3;class yc extends Error{constructor(t,i,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function Ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class XE extends yc{constructor(t,i,a){super(t,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function eA(r){return Ne(r)&&r.name==="AuthApiError"}class ar extends yc{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class ba extends yc{constructor(t,i,a,c){super(t,a,c),this.name=i,this.status=a}}class ya extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tA(r){return Ne(r)&&r.name==="AuthSessionMissingError"}class go extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class md extends ba{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pd extends ba{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nA(r){return Ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class m0 extends ba{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yp extends ba{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function km(r){return Ne(r)&&r.name==="AuthRetryableFetchError"}class p0 extends ba{constructor(t,i,a){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class xp extends ba{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g0=` 	
\r=`.split(""),iA=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<g0.length;t+=1)r[g0[t].charCodeAt(0)]=-2;for(let t=0;t<Gd.length;t+=1)r[Gd[t].charCodeAt(0)]=t;return r})();function y0(r,t,i){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(Gd[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(Gd[a]),t.queuedBits-=6}}function ew(r,t,i){const a=iA[r];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function x0(r){const t=[],i=p=>{t.push(String.fromCodePoint(p))},a={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=p=>{rA(p,a,i)};for(let p=0;p<r.length;p+=1)ew(r.charCodeAt(p),c,h);return t.join("")}function sA(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function aA(r,t){for(let i=0;i<r.length;i+=1){let a=r.charCodeAt(i);if(a>55295&&a<=56319){const c=(a-55296)*1024&65535;a=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}sA(a,t)}}function rA(r,t,i){if(t.utf8seq===0){if(r<=127){i(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function Co(r){const t=[],i={queue:0,queuedBits:0},a=c=>{t.push(c)};for(let c=0;c<r.length;c+=1)ew(r.charCodeAt(c),i,a);return new Uint8Array(t)}function oA(r){const t=[];return aA(r,i=>t.push(i)),new Uint8Array(t)}function cr(r){const t=[],i={queue:0,queuedBits:0},a=c=>{t.push(c)};return r.forEach(c=>y0(c,i,a)),y0(null,i,a),t.join("")}function lA(r){return Math.round(Date.now()/1e3)+r}function cA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const In=()=>typeof window<"u"&&typeof document<"u",Xa={tested:!1,writable:!1},tw=()=>{if(!In())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xa.tested)return Xa.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Xa.tested=!0,Xa.writable=!0}catch{Xa.tested=!0,Xa.writable=!1}return Xa.writable};function uA(r){const t={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,h)=>{t[h]=c})}catch{}return i.searchParams.forEach((a,c)=>{t[c]=a}),t}const nw=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...i)=>Nc(async()=>{const{default:a}=await Promise.resolve().then(()=>Io);return{default:a}},void 0).then(({default:a})=>a(...i)):t=fetch,(...i)=>t(...i)},dA=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",No=async(r,t,i)=>{await r.setItem(t,JSON.stringify(i))},er=async(r,t)=>{const i=await r.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ga=async(r,t)=>{await r.removeItem(t)};class sh{constructor(){this.promise=new sh.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}sh.promiseConstructor=Promise;function Rm(r){const t=r.split(".");if(t.length!==3)throw new xp("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!WE.test(t[a]))throw new xp("JWT not in base64url format");return{header:JSON.parse(x0(t[0])),payload:JSON.parse(x0(t[1])),signature:Co(t[2]),raw:{header:t[0],payload:t[1]}}}async function hA(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function fA(r,t){return new Promise((a,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const p=await r(h);if(!t(h,null,p)){a(p);return}}catch(p){if(!t(h,p)){c(p);return}}})()})}function mA(r){return("0"+r.toString(16)).substr(-2)}function pA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let c="";for(let h=0;h<56;h++)c+=i.charAt(Math.floor(Math.random()*a));return c}return crypto.getRandomValues(t),Array.from(t,mA).join("")}async function gA(r){const i=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(a);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function yA(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await gA(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(r,t,i=!1){const a=pA();let c=a;i&&(c+="/PASSWORD_RECOVERY"),await No(r,`${t}-code-verifier`,c);const h=await yA(a);return[h,a===h?"plain":"s256"]}const xA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vA(r){const t=r.headers.get(gp);if(!t||!t.match(xA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _A(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function bA(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xo(r){if(!wA.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lm(){const r={};return new Proxy(r,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v0(r){return JSON.parse(JSON.stringify(r))}var SA=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(r);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(r,a[c])&&(i[a[c]]=r[a[c]]);return i};const nr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),jA=[502,503,504];async function _0(r){var t;if(!dA(r))throw new yp(nr(r),0);if(jA.includes(r.status))throw new yp(nr(r),r.status);let i;try{i=await r.json()}catch(h){throw new ar(nr(h),h)}let a;const c=vA(r);if(c&&c.getTime()>=Xb["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new p0(nr(i),r.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new ya}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((h,p)=>h&&typeof p=="string",!0))throw new p0(nr(i),r.status,i.weak_password.reasons);throw new XE(nr(i),r.status||500,a)}const NA=(r,t,i,a)=>{const c={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),c.body=JSON.stringify(a),Object.assign(Object.assign({},c),i))};async function Me(r,t,i,a){var c;const h=Object.assign({},a==null?void 0:a.headers);h[gp]||(h[gp]=Xb["2024-01-01"].name),a!=null&&a.jwt&&(h.Authorization=`Bearer ${a.jwt}`);const p=(c=a==null?void 0:a.query)!==null&&c!==void 0?c:{};a!=null&&a.redirectTo&&(p.redirect_to=a.redirectTo);const x=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",y=await TA(r,t,i+x,{headers:h,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(y):{data:Object.assign({},y),error:null}}async function TA(r,t,i,a,c,h){const p=NA(t,a,c,h);let x;try{x=await r(i,Object.assign({},p))}catch(y){throw console.error(y),new yp(nr(y),0)}if(x.ok||await _0(x),a!=null&&a.noResolveJson)return x;try{return await x.json()}catch(y){await _0(y)}}function di(r){var t;let i=null;CA(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=lA(r.expires_in)));const a=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:i,user:a},error:null}}function b0(r){const t=di(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(t.data.weak_password=r.weak_password),t}function xa(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function EA(r){return{data:r,error:null}}function AA(r){const{action_link:t,email_otp:i,hashed_token:a,redirect_to:c,verification_type:h}=r,p=SA(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:t,email_otp:i,hashed_token:a,redirect_to:c,verification_type:h},y=Object.assign({},p);return{data:{properties:x,user:y},error:null}}function w0(r){return r}function CA(r){return r.access_token&&r.refresh_token&&r.expires_in}const Mm=["global","local","others"];var OA=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(r);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(r,a[c])&&(i[a[c]]=r[a[c]]);return i};class kA{constructor({url:t="",headers:i={},fetch:a}){this.url=t,this.headers=i,this.fetch=nw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=Mm[0]){if(Mm.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mm.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,i={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:xa})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:i}=t,a=OA(t,["options"]),c=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(c.new_email=a==null?void 0:a.newEmail,delete c.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:AA,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Ne(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xa})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,a,c,h,p,x,y;try{const v={nextPage:null,lastPage:0,total:0},w=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t==null?void 0:t.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(h=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:w0});if(w.error)throw w.error;const j=await w.json(),T=(p=w.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(y=(x=w.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(C=>{const M=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(C.split(";")[1].split("=")[1]);v[`${U}Page`]=M}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},j),v),error:null}}catch(v){if(Ne(v))return{data:{users:[]},error:v};throw v}}async getUserById(t){xo(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xa})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){xo(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:xa})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,i=!1){xo(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:xa})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){xo(t.userId);try{const{data:i,error:a}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:a}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _deleteFactor(t){xo(t.userId),xo(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,a,c,h,p,x,y;try{const v={nextPage:null,lastPage:0,total:0},w=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t==null?void 0:t.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(h=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:w0});if(w.error)throw w.error;const j=await w.json(),T=(p=w.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(y=(x=w.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(C=>{const M=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(C.split(";")[1].split("=")[1]);v[`${U}Page`]=M}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},j),v),error:null}}catch(v){if(Ne(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}}function S0(r={}){return{getItem:t=>r[t]||null,setItem:(t,i)=>{r[t]=i},removeItem:t=>{delete r[t]}}}const vo={debug:!!(globalThis&&tw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RA extends iw{}async function LA(r,t,i){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async c=>{if(c){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(t===0)throw vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new RA(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vo.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function MA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sw(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function PA(r){return parseInt(r,16)}function DA(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function IA(r){var t;const{chainId:i,domain:a,expirationTime:c,issuedAt:h=new Date,nonce:p,notBefore:x,requestId:y,resources:v,scheme:w,uri:j,version:T}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const A=sw(r.address),C=w?`${w}://${a}`:a,M=r.statement?`${r.statement}
`:"",U=`${C} wants you to sign in with your Ethereum account:
${A}

${M}`;let z=`URI: ${j}
Version: ${T}
Chain ID: ${i}${p?`
Nonce: ${p}`:""}
Issued At: ${h.toISOString()}`;if(c&&(z+=`
Expiration Time: ${c.toISOString()}`),x&&(z+=`
Not Before: ${x.toISOString()}`),y&&(z+=`
Request ID: ${y}`),v){let k=`
Resources:`;for(const B of v){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);k+=`
- ${B}`}z+=k}return`${U}
${z}`}class St extends Error{constructor({message:t,code:i,cause:a,name:c}){var h;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(h=c??(a instanceof Error?a.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=i}}class $d extends St{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function BA({error:r,options:t}){var i,a,c;const{publicKey:h}=t;if(!h)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new St({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=h.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new St({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((a=h.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new St({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new St({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new St({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new St({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return h.pubKeyCredParams.filter(x=>x.type==="public-key").length===0?new St({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new St({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const p=window.location.hostname;if(rw(p)){if(h.rp.id!==p)return new St({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new St({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function zA({error:r,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new St({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new St({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(rw(a)){if(i.rpId!==a)return new St({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var aw=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(r);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(r,a[c])&&(i[a[c]]=r[a[c]]);return i};class UA{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const GA=new UA;function $A(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:i,excludeCredentials:a}=r,c=aw(r,["challenge","user","excludeCredentials"]),h=Co(t).buffer,p=Object.assign(Object.assign({},i),{id:Co(i.id).buffer}),x=Object.assign(Object.assign({},c),{challenge:h,user:p});if(a&&a.length>0){x.excludeCredentials=new Array(a.length);for(let y=0;y<a.length;y++){const v=a[y];x.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:Co(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return x}function qA(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:i}=r,a=aw(r,["challenge","allowCredentials"]),c=Co(t).buffer,h=Object.assign(Object.assign({},a),{challenge:c});if(i&&i.length>0){h.allowCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const x=i[p];h.allowCredentials[p]=Object.assign(Object.assign({},x),{id:Co(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return h}function HA(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:cr(new Uint8Array(r.response.attestationObject)),clientDataJSON:cr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZA(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,a=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:cr(new Uint8Array(c.authenticatorData)),clientDataJSON:cr(new Uint8Array(c.clientDataJSON)),signature:cr(new Uint8Array(c.signature)),userHandle:c.userHandle?cr(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rw(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function j0(){var r,t;return!!(In()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function QA(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:BA({error:t,options:r})}}}async function FA(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:zA({error:t,options:r})}}}const VA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},YA={userVerification:"preferred",hints:["security-key"]};function qd(...r){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),a={};for(const c of r)if(c)for(const h in c){const p=c[h];if(p!==void 0)if(Array.isArray(p))a[h]=p;else if(i(p))a[h]=p;else if(t(p)){const x=a[h];t(x)?a[h]=qd(x,p):a[h]=qd(p)}else a[h]=p}return a}function KA(r,t){return qd(VA,r,t||{})}function WA(r,t){return qd(YA,r,t||{})}class JA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:a,signal:c},h){try{const{data:p,error:x}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!p)return{data:null,error:x};const y=c??GA.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:v}=p.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${a}`),v.displayName||(v.displayName=v.name)}switch(p.webauthn.type){case"create":{const v=KA(p.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:w,error:j}=await QA({publicKey:v,signal:y});return w?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:w}},error:null}:{data:null,error:j}}case"request":{const v=WA(p.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:w,error:j}=await FA(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:v,signal:y}));return w?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:w}},error:null}:{data:null,error:j}}}}catch(p){return Ne(p)?{data:null,error:p}:{data:null,error:new ar("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:c}},h){if(!i)return{data:null,error:new yc("rpId is required for WebAuthn authentication")};try{if(!j0())return{data:null,error:new ar("Browser does not support WebAuthn",null)};const{data:p,error:x}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:a},signal:c},{request:h});if(!p)return{data:null,error:x};const{webauthn:y}=p;return this._verify({factorId:t,challengeId:p.challengeId,webauthn:{type:y.type,rpId:i,rpOrigins:a,credential_response:y.credential_response}})}catch(p){return Ne(p)?{data:null,error:p}:{data:null,error:new ar("Unexpected error in authenticate",p)}}}async _register({friendlyName:t,rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:c},h){if(!i)return{data:null,error:new yc("rpId is required for WebAuthn registration")};try{if(!j0())return{data:null,error:new ar("Browser does not support WebAuthn",null)};const{data:p,error:x}=await this._enroll({friendlyName:t});if(!p)return await this.client.mfa.listFactors().then(w=>{var j;return(j=w.data)===null||j===void 0?void 0:j.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===t&&T.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:x};const{data:y,error:v}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:c},{create:h});return y?this._verify({factorId:p.id,challengeId:y.challengeId,webauthn:{rpId:i,rpOrigins:a,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(p){return Ne(p)?{data:null,error:p}:{data:null,error:new ar("Unexpected error in register",p)}}}}MA();const XA={url:VE,storageKey:YE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N0(r,t,i){return await i()}const _o={};class xc{get jwks(){var t,i;return(i=(t=_o[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=_o[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:t})}constructor(t){var i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xc.nextInstanceID,xc.nextInstanceID+=1,this.instanceID>0&&In()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},XA),t);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new kA({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=nw(c.fetch),this.lock=c.lock||N0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:In()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=LA:this.lock=N0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JA(this)},this.persistSession?(c.storage?this.storage=c.storage:tw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=S0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=S0(this.memoryStorage)),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const i=uA(window.location.href);let a="none";if(this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce"),In()&&this.detectSessionInUrl&&a!=="none"){const{data:c,error:h}=await this._getSessionFromURL(i,a);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),nA(h)){const y=(t=h.details)===null||t===void 0?void 0:t.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:p,redirectType:x}=c;return this._debug("#_initialize()","detected session in URL",p,"redirect type",x),await this._saveSession(p),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Ne(i)?{error:i}:{error:new ar("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,a,c;try{const h=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(c=t==null?void 0:t.options)===null||c===void 0?void 0:c.captchaToken}},xform:di}),{data:p,error:x}=h;if(x||!p)return{data:{user:null,session:null},error:x};const y=p.session,v=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(h){if(Ne(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(t){var i,a,c;try{let h;if("email"in t){const{email:w,password:j,options:T}=t;let A=null,C=null;this.flowType==="pkce"&&([A,C]=await yo(this.storage,this.storageKey)),h=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:w,password:j,data:(i=T==null?void 0:T.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:A,code_challenge_method:C},xform:di})}else if("phone"in t){const{phone:w,password:j,options:T}=t;h=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:j,data:(a=T==null?void 0:T.data)!==null&&a!==void 0?a:{},channel:(c=T==null?void 0:T.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:di})}else throw new md("You must provide either an email or phone number and a password");const{data:p,error:x}=h;if(x||!p)return{data:{user:null,session:null},error:x};const y=p.session,v=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(h){if(Ne(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(t){try{let i;if("email"in t){const{email:h,password:p,options:x}=t;i=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:p,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:b0})}else if("phone"in t){const{phone:h,password:p,options:x}=t;i=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:p,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:b0})}else throw new md("You must provide either an email or phone number and a password");const{data:a,error:c}=i;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new go}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:c})}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(t){var i,a,c,h;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=t.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,a,c,h,p,x,y,v,w,j,T;let A,C;if("message"in t)A=t.message,C=t.signature;else{const{chain:M,wallet:U,statement:z,options:k}=t;let B;if(In())if(typeof U=="object")B=U;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")B=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=U}const P=new URL((i=k==null?void 0:k.url)!==null&&i!==void 0?i:window.location.href),R=await B.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=sw(R[0]);let ae=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ae){const me=await B.request({method:"eth_chainId"});ae=PA(me)}const re={domain:P.host,address:X,statement:z,uri:P.href,version:"1",chainId:ae,nonce:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(p=(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(x=k==null?void 0:k.signInWithEthereum)===null||x===void 0?void 0:x.expirationTime,notBefore:(y=k==null?void 0:k.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=k==null?void 0:k.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(w=k==null?void 0:k.signInWithEthereum)===null||w===void 0?void 0:w.resources};A=IA(re),C=await B.request({method:"personal_sign",params:[DA(A),X]})}try{const{data:M,error:U}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:C},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(T=t.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:di});if(U)throw U;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new go}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:U})}catch(M){if(Ne(M))return{data:{user:null,session:null},error:M};throw M}}async signInWithSolana(t){var i,a,c,h,p,x,y,v,w,j,T,A;let C,M;if("message"in t)C=t.message,M=t.signature;else{const{chain:U,wallet:z,statement:k,options:B}=t;let P;if(In())if(typeof z=="object")P=z;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))P=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=z}const R=new URL((i=B==null?void 0:B.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in P&&P.signIn){const X=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),k?{statement:k}:null));let ae;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ae=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ae=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)C=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),M=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(c=(a=B==null?void 0:B.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=B==null?void 0:B.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((x=B==null?void 0:B.signInWithSolana)===null||x===void 0)&&x.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((v=B==null?void 0:B.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((j=(w=B==null?void 0:B.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||j===void 0)&&j.length?["Resources",...B.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const X=await P.signMessage(new TextEncoder().encode(C),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=X}}try{const{data:U,error:z}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:cr(M)},!((T=t.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=t.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:di});if(z)throw z;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new go}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:z})}catch(U){if(Ne(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(t){const i=await er(this.storage,`${this.storageKey}-code-verifier`),[a,c]=(i??"").split("/");try{const{data:h,error:p}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:di});if(await ga(this.storage,`${this.storageKey}-code-verifier`),p)throw p;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new go}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:p})}catch(h){if(Ne(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(t){try{const{options:i,provider:a,token:c,access_token:h,nonce:p}=t,x=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:c,access_token:h,nonce:p,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:di}),{data:y,error:v}=x;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new go}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:v})}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(t){var i,a,c,h,p;try{if("email"in t){const{email:x,options:y}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await yo(this.storage,this.storageKey));const{error:j}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},create_user:(a=y==null?void 0:y.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:w},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:j}}if("phone"in t){const{phone:x,options:y}=t,{data:v,error:w}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(c=y==null?void 0:y.data)!==null&&c!==void 0?c:{},create_user:(h=y==null?void 0:y.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(p=y==null?void 0:y.channel)!==null&&p!==void 0?p:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:w}}throw new md("You must provide either an email or phone number.")}catch(x){if(Ne(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(t){var i,a;try{let c,h;"options"in t&&(c=(i=t.options)===null||i===void 0?void 0:i.redirectTo,h=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:p,error:x}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:di});if(x)throw x;if(!p)throw new Error("An error occurred on token verification.");const y=p.session,v=p.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(c){if(Ne(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(t){var i,a,c;try{let h=null,p=null;return this.flowType==="pkce"&&([h,p]=await yo(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((c=t==null?void 0:t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:EA})}catch(h){if(Ne(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;if(a)throw a;if(!i)throw new ya;const{error:c}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:c}})}catch(t){if(Ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:a,type:c,options:h}=t,{error:p}=await Me(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:p}}else if("phone"in t){const{phone:a,type:c,options:h}=t,{data:p,error:x}=await Me(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x}}throw new md("You must provide either an email or phone number and a type")}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Om:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const p=await er(this.userStorage,this.storageKey+"-user");p!=null&&p.user?t.user=p.user:t.user=Lm()}if(this.storage.isServer&&t.user){let p=this.suppressGetSessionWarning;t=new Proxy(t,{get:(y,v,w)=>(!p&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),p=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,v,w))})}return{data:{session:t},error:null}}const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);return h?{data:{session:null},error:h}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xa}):await this._useSession(async i=>{var a,c,h;const{data:p,error:x}=i;if(x)throw x;return!(!((a=p.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ya}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:xa})})}catch(i){if(Ne(i))return tA(i)&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async a=>{const{data:c,error:h}=a;if(h)throw h;if(!c.session)throw new ya;const p=c.session;let x=null,y=null;this.flowType==="pkce"&&t.email!=null&&([x,y]=await yo(this.storage,this.storageKey));const{data:v,error:w}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:x,code_challenge_method:y}),jwt:p.access_token,xform:xa});if(w)throw w;return p.user=v.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),{data:{user:p.user},error:null}})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ya;const i=Date.now()/1e3;let a=i,c=!0,h=null;const{payload:p}=Rm(t.access_token);if(p.exp&&(a=p.exp,c=a<=i),c){const{data:x,error:y}=await this._callRefreshToken(t.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!x)return{data:{user:null,session:null},error:null};h=x}else{const{data:x,error:y}=await this._getUser(t.access_token);if(y)throw y;h={access_token:t.access_token,refresh_token:t.refresh_token,user:x.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(i){if(Ne(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var a;if(!t){const{data:p,error:x}=i;if(x)throw x;t=(a=p.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new ya;const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);return h?{data:{user:null,session:null},error:h}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(t,i){try{if(!In())throw new pd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new m0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pd("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new m0("No code detected.");const{data:k,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:c,access_token:h,refresh_token:p,expires_in:x,expires_at:y,token_type:v}=t;if(!h||!x||!p||!v)throw new pd("No session defined in URL");const w=Math.round(Date.now()/1e3),j=parseInt(x);let T=w+j;y&&(T=parseInt(y));const A=T-w;A*1e3<=jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${j}s`);const C=T-j;w-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,T,w):w-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,T,w);const{data:M,error:U}=await this._getUser(h);if(U)throw U;const z={provider_token:a,provider_refresh_token:c,access_token:h,expires_in:j,expires_at:T,refresh_token:p,token_type:v,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:t.type},error:null}}catch(a){if(Ne(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:c,error:h}=i;if(h)return{error:h};const p=(a=c.session)===null||a===void 0?void 0:a.access_token;if(p){const{error:x}=await this.admin.signOut(p,t);if(x&&!(eA(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return t!=="others"&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const i=cA(),a={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async i=>{var a,c;try{const{data:{session:h},error:p}=i;if(p)throw p;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",t,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",h),console.error(h)}})}async resetPasswordForEmail(t,i={}){let a=null,c=null;this.flowType==="pkce"&&([a,c]=await yo(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(h){if(Ne(h))return{data:null,error:h};throw h}}async getUserIdentities(){var t;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:a,error:c}=await this._useSession(async h=>{var p,x,y,v,w;const{data:j,error:T}=h;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(p=t.options)===null||p===void 0?void 0:p.redirectTo,scopes:(x=t.options)===null||x===void 0?void 0:x.scopes,queryParams:(y=t.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",A,{headers:this.headers,jwt:(w=(v=j.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return In()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Ne(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var a;try{const{error:c,data:{session:h}}=i;if(c)throw c;const{options:p,provider:x,token:y,access_token:v,nonce:w}=t,j=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=h==null?void 0:h.access_token)!==null&&a!==void 0?a:void 0,body:{provider:x,id_token:y,access_token:v,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:di}),{data:T,error:A}=j;return A?{data:{user:null,session:null},error:A}:!T||!T.session||!T.user?{data:{user:null,session:null},error:new go}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),{data:T,error:A})}catch(c){if(Ne(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var a,c;const{data:h,error:p}=i;if(p)throw p;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await fA(async c=>(c>0&&await hA(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:di})),(c,h)=>{const p=200*Math.pow(2,c);return h&&km(h)&&Date.now()+p-a<jo})}catch(a){if(this._debug(i,"error",a),Ne(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",a),In()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const c=await er(this.storage,this.storageKey);if(c&&this.userStorage){let p=await er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:c.user},await No(this.userStorage,this.storageKey+"-user",p)),c.user=(t=p==null?void 0:p.user)!==null&&t!==void 0?t:Lm()}else if(c&&!c.user&&!c.user){const p=await er(this.storage,this.storageKey+"-user");p&&(p!=null&&p.user)?(c.user=p.user,await ga(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,c)):c.user=Lm()}if(this._debug(a,"session from storage",c),!this._isValidSession(c)){this._debug(a,"session is not valid"),c!==null&&await this._removeSession();return}const h=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Om;if(this._debug(a,`session has${h?"":" not"} expired with margin of ${Om}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:p}=await this._callRefreshToken(c.refresh_token);p&&(console.error(p),km(p)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:x}=await this._getUser(c.access_token);!x&&(p!=null&&p.user)?(c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(a,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(a,"error",c),console.error(c);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var i,a;if(!t)throw new ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new sh;const{data:h,error:p}=await this._refreshAccessToken(t);if(p)throw p;if(!h.session)throw new ya;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const x={data:h.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(h){if(this._debug(c,"error",h),Ne(h)){const p={data:null,error:h};return km(h)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(p),p}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,i,a=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:i});const h=[],p=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(t,i)}catch(y){h.push(y)}});if(await Promise.all(p),h.length>0){for(let x=0;x<h.length;x+=1)console.error(h[x]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const i=Object.assign({},t),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await No(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const h=v0(c);await No(this.storage,this.storageKey,h)}else{const c=v0(i);await No(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ga(this.storage,this.storageKey),await ga(this.storage,this.storageKey+"-code-verifier"),await ga(this.storage,this.storageKey+"-user"),this.userStorage&&await ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&In()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((a.expires_at*1e3-t)/jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${jo}ms, refresh threshold is ${pp} ticks`),c<=pp&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!In()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,a){const c=[`provider=${encodeURIComponent(i)}`];if(a!=null&&a.redirectTo&&c.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&c.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[h,p]=await yo(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(p)}`});c.push(x.toString())}if(a!=null&&a.queryParams){const h=new URLSearchParams(a.queryParams);c.push(h.toString())}return a!=null&&a.skipBrowserRedirect&&c.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var a;const{data:c,error:h}=i;return h?{data:null,error:h}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _enroll(t){try{return await this._useSession(async i=>{var a,c;const{data:h,error:p}=i;if(p)return{data:null,error:p};const x=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:y,error:v}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(a=h==null?void 0:h.session)===null||a===void 0?void 0:a.access_token});return v?{data:null,error:v}:(t.factorType==="totp"&&y.type==="totp"&&(!((c=y==null?void 0:y.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:c,error:h}=i;if(h)return{data:null,error:h};const p=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HA(t.webauthn.credential_response):ZA(t.webauthn.credential_response)})}:{code:t.code}),{data:x,error:y}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+x.expires_in},x)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",x),{data:x,error:y})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:c,error:h}=i;if(h)return{data:null,error:h};const p=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});if(p.error)return p;const{data:x}=p;if(x.type!=="webauthn")return{data:x,error:null};switch(x.webauthn.type){case"create":return{data:Object.assign(Object.assign({},x),{webauthn:Object.assign(Object.assign({},x.webauthn),{credential_options:Object.assign(Object.assign({},x.webauthn.credential_options),{publicKey:$A(x.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},x),{webauthn:Object.assign(Object.assign({},x.webauthn),{credential_options:Object.assign(Object.assign({},x.webauthn.credential_options),{publicKey:qA(x.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(t){const{data:i,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(t=i==null?void 0:i.factors)!==null&&t!==void 0?t:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var i,a;const{data:{session:c},error:h}=t;if(h)return{data:null,error:h};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Rm(c.access_token);let x=null;p.aal&&(x=p.aal);let y=x;((a=(i=c.user.factors)===null||i===void 0?void 0:i.filter(j=>j.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(y="aal2");const w=p.amr||[];return{data:{currentLevel:x,nextLevel:y,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(t,i={keys:[]}){let a=i.keys.find(x=>x.kid===t);if(a)return a;const c=Date.now();if(a=this.jwks.keys.find(x=>x.kid===t),a&&this.jwks_cached_at+JE>c)return a;const{data:h,error:p}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,a=h.keys.find(x=>x.kid===t),!a)?null:a}async getClaims(t,i={}){try{let a=t;if(!a){const{data:A,error:C}=await this.getSession();if(C||!A.session)return{data:null,error:C};a=A.session.access_token}const{header:c,payload:h,signature:p,raw:{header:x,payload:y}}=Rm(a);i!=null&&i.allowExpired||_A(h.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!v){const{error:A}=await this.getUser(a);if(A)throw A;return{data:{claims:h,header:c,signature:p},error:null}}const w=bA(c.alg),j=await crypto.subtle.importKey("jwk",v,w,!0,["verify"]);if(!await crypto.subtle.verify(w,j,p,oA(`${x}.${y}`)))throw new xp("Invalid JWT signature");return{data:{claims:h,header:c,signature:p},error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}}xc.nextInstanceID=0;const eC=xc;class tC extends eC{constructor(t){super(t)}}var nC=function(r,t,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(w){try{v(a.next(w))}catch(j){p(j)}}function y(w){try{v(a.throw(w))}catch(j){p(j)}}function v(w){w.done?h(w.value):c(w.value).then(x,y)}v((a=a.apply(r,t||[])).next())})};class iC{constructor(t,i,a){var c,h,p;this.supabaseUrl=t,this.supabaseKey=i;const x=FE(t);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",x),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",x),this.storageUrl=new URL("storage/v1",x),this.functionsUrl=new URL("functions/v1",x);const y=`sb-${x.hostname.split(".")[0]}-auth-token`,v={db:IE,realtime:zE,auth:Object.assign(Object.assign({},BE),{storageKey:y}),global:DE},w=QE(a??{},v);this.storageKey=(c=w.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(h=w.global.headers)!==null&&h!==void 0?h:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(j,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((p=w.auth)!==null&&p!==void 0?p:{},this.headers,w.global.fetch),this.fetch=qE(i,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new XT(new URL("rest/v1",x).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new LE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new qT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},a={}){return this.rest.rpc(t,i,a)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return nC(this,void 0,void 0,function*(){var t,i;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(i=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:a,storage:c,userStorage:h,storageKey:p,flowType:x,lock:y,debug:v},w,j){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tC({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),w),storageKey:p,autoRefreshToken:t,persistSession:i,detectSessionInUrl:a,storage:c,userStorage:h,flowType:x,lock:y,debug:v,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new gE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,i,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const og=(r,t,i)=>new iC(r,t,i);function sC(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aC="https://bgfcvbfsckdvxittlwdt.supabase.co",rC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnZmN2YmZzY2tkdnhpdHRsd2R0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4ODg2NjcsImV4cCI6MjA3MDQ2NDY2N30.QgdXSjhhoRzSCGJcAizjVgbX7k0dUo0922paoP0925U",oC=og(aC,rC);class lC{constructor(){this.client=oC}async signUp(t,i,a={}){try{const{data:c,error:h}=await this.client.auth.signUp({email:t,password:i,options:{data:a}});if(h)throw h;return c}catch(c){throw console.error("Sign up error:",c),c}}async signIn(t,i){try{const{data:a,error:c}=await this.client.auth.signInWithPassword({email:t,password:i});if(c)throw c;return a}catch(a){throw console.error("Sign in error:",a),a}}async signOut(){try{const{error:t}=await this.client.auth.signOut();if(t)throw t}catch(t){throw console.error("Sign out error:",t),t}}async getCurrentUser(){try{const{data:{user:t},error:i}=await this.client.auth.getUser();if(i)throw i;return t}catch(t){return console.error("Get user error:",t),null}}async getSafetyData(t={}){try{let i=this.client.from("safety_data").select("*");t.country&&(i=i.eq("country",t.country)),t.city&&(i=i.eq("city",t.city)),t.minScore&&(i=i.gte("safety_score",t.minScore)),t.maxScore&&(i=i.lte("safety_score",t.maxScore));const{data:a,error:c}=await i;if(c)throw c;return a}catch(i){throw console.error("Get safety data error:",i),i}}async updateSafetyData(t,i){try{const{data:a,error:c}=await this.client.from("safety_data").update(i).eq("id",t).select();if(c)throw c;return a}catch(a){throw console.error("Update safety data error:",a),a}}async addSafetyReport(t){var i;try{const{data:a,error:c}=await this.client.from("safety_reports").insert([{...t,created_at:new Date().toISOString(),user_id:(i=await this.getCurrentUser())==null?void 0:i.id}]).select();if(c)throw c;return a}catch(a){throw console.error("Add safety report error:",a),a}}async getUserProfile(t){try{const{data:i,error:a}=await this.client.from("user_profiles").select("*").eq("user_id",t).single();if(a&&a.code!=="PGRST116")throw a;return i}catch(i){return console.error("Get user profile error:",i),null}}async updateUserProfile(t,i){try{const{data:a,error:c}=await this.client.from("user_profiles").upsert([{user_id:t,...i,updated_at:new Date().toISOString()}]).select();if(c)throw c;return a}catch(a){throw console.error("Update user profile error:",a),a}}async saveConversation(t){var i;try{const{data:a,error:c}=await this.client.from("ai_conversations").insert([{...t,user_id:(i=await this.getCurrentUser())==null?void 0:i.id,created_at:new Date().toISOString()}]).select();if(c)throw c;return a}catch(a){throw console.error("Save conversation error:",a),a}}async getConversationHistory(t,i=50){try{const{data:a,error:c}=await this.client.from("ai_conversations").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(i);if(c)throw c;return a}catch(a){throw console.error("Get conversation history error:",a),a}}async recordUserInteraction(t){var i;try{const{data:a,error:c}=await this.client.from("user_interactions").insert([{...t,user_id:(i=await this.getCurrentUser())==null?void 0:i.id,timestamp:new Date().toISOString()}]);if(c)throw c;return a}catch(a){throw console.error("Record interaction error:",a),a}}async submitFeedback(t){var i;try{const{data:a,error:c}=await this.client.from("feedback").insert([{...t,user_id:(i=await this.getCurrentUser())==null?void 0:i.id,created_at:new Date().toISOString()}]).select();if(c)throw c;return a}catch(a){throw console.error("Submit feedback error:",a),a}}subscribeToSafetyUpdates(t){return this.client.channel("safety_updates").on("postgres_changes",{event:"*",schema:"public",table:"safety_data"},t).subscribe()}subscribeToUserNotifications(t,i){return this.client.channel(`user_notifications_${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t}`},i).subscribe()}async uploadFile(t,i,a){try{const{data:c,error:h}=await this.client.storage.from(t).upload(i,a);if(h)throw h;return c}catch(c){throw console.error("Upload file error:",c),c}}async getFileUrl(t,i){try{const{data:a}=this.client.storage.from(t).getPublicUrl(i);return a.publicUrl}catch(a){return console.error("Get file URL error:",a),null}}async initializeDatabase(){try{const t=[{name:"safety_data",sql:`
            CREATE TABLE IF NOT EXISTS safety_data (
              id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
              country VARCHAR NOT NULL,
              city VARCHAR,
              latitude DECIMAL,
              longitude DECIMAL,
              safety_score INTEGER CHECK (safety_score >= 0 AND safety_score <= 100),
              legal_status JSONB,
              social_acceptance JSONB,
              healthcare_access JSONB,
              community_support JSONB,
              last_updated TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
              created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
            );
          `},{name:"user_profiles",sql:`
            CREATE TABLE IF NOT EXISTS user_profiles (
              id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
              user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
              display_name VARCHAR,
              preferences JSONB,
              privacy_settings JSONB,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
              updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
              UNIQUE(user_id)
            );
          `},{name:"ai_conversations",sql:`
            CREATE TABLE IF NOT EXISTS ai_conversations (
              id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
              user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
              agent_id VARCHAR NOT NULL,
              conversation_data JSONB,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
            );
          `}];for(const i of t){const{error:a}=await this.client.rpc("exec_sql",{sql:i.sql});a&&console.warn(`Table ${i.name} might already exist:`,a)}return!0}catch(t){return console.error("Database initialization error:",t),!1}}}const T0=new lC,cC=()=>{const[r,t]=$.useState(null),[i,a]=$.useState(null),[c,h]=$.useState(""),[p,x]=$.useState(!1),[y,v]=$.useState([]),[w,j]=$.useState(null);$.useEffect(()=>{(async()=>{const B=await T0.getCurrentUser();j(B)})()},[]);const T={SAFETY_ANALYST:Tt,TRAVEL_ADVISOR:pc,LEGAL_EXPERT:UN,COMMUNITY_CONNECTOR:zn,CRISIS_SUPPORT:pi},A={SAFETY_ANALYST:"bg-blue-500",TRAVEL_ADVISOR:"bg-green-500",LEGAL_EXPERT:"bg-purple-500",COMMUNITY_CONNECTOR:"bg-orange-500",CRISIS_SUPPORT:"bg-red-500"},C=async k=>{try{x(!0);const B=await Jv.startConversation(k);a(B),t(k),v([])}catch(B){console.error("Failed to start conversation:",B),alert("Failed to start conversation. Please try again.")}finally{x(!1)}},M=async()=>{if(!(!c.trim()||!i||p))try{x(!0);const k={role:"user",content:c,timestamp:new Date};v(R=>[...R,k]),h("");const B=await Jv.sendMessage(i.id,c,{userId:w==null?void 0:w.id}),P={role:"assistant",content:B.response,timestamp:new Date,agentName:B.agentName};v(R=>[...R,P]),w&&await T0.saveConversation({conversation_id:i.id,agent_id:r,messages:[k,P]})}catch(k){console.error("Failed to send message:",k),alert("Failed to send message. Please try again.")}finally{x(!1)}},U=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),M())},z=k=>k.split(`
`).map((B,P)=>l.jsx("p",{className:B.trim()?"mb-2":"mb-1",children:B},P));return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[l.jsx("section",{className:"py-20 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx(Oo,{className:"h-16 w-16 text-blue-600 mr-4"}),l.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900",children:"AI Agent Team"})]}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Meet our specialized AI agents, each trained to provide expert assistance in different aspects of LGBTQ+ safety and support. All conversations are privacy-protected using zero-knowledge architecture."}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[l.jsx(dr,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{children:"Live AI Connections"}),l.jsx("span",{children:""}),l.jsx(Tt,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{children:"Privacy Protected"}),l.jsx("span",{children:""}),l.jsx(t_,{className:"h-4 w-4 text-purple-500"}),l.jsx("span",{children:"Real-time Chat"})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Choose Your AI Agent"}),l.jsx("div",{className:"space-y-4",children:Object.entries(lr).map(([k,B])=>{const P=T[k],R=r===k;return l.jsx("div",{onClick:()=>C(k),className:`p-6 rounded-xl border-2 cursor-pointer transition-all transform hover:scale-105 ${R?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${A[k]} text-white`,children:l.jsx(P,{className:"h-6 w-6"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:B.name}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[B.systemPrompt.substring(0,120),"..."]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:B.capabilities.map((X,ae)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:X.replace("-"," ")},ae))})]})]})},k)})})]}),l.jsx("div",{className:"lg:col-span-2",children:r?l.jsxs("div",{className:"bg-white rounded-xl shadow-lg h-[600px] flex flex-col",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${A[r]} text-white`,children:Bn.createElement(T[r],{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:lr[r].name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["AI Agent  ",i?"Connected":"Connecting..."]})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[y.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(pm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsxs("p",{className:"text-gray-500",children:["Start a conversation with ",lr[r].name]}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Ask about safety, travel, legal rights, or community resources"})]}):y.map((k,B)=>l.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${k.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[k.role==="user"?l.jsx(JN,{className:"h-4 w-4"}):l.jsx(pm,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs opacity-75",children:k.role==="user"?"You":k.agentName||"AI Agent"})]}),l.jsx("div",{className:"text-sm",children:z(k.content)}),l.jsx("div",{className:"text-xs opacity-50 mt-1",children:k.timestamp.toLocaleTimeString()})]})},B)),p&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"bg-gray-100 text-gray-900 max-w-xs lg:max-w-md px-4 py-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pm,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs",children:"AI Agent is thinking..."})]}),l.jsxs("div",{className:"flex space-x-1 mt-2",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),l.jsxs("div",{className:"p-6 border-t border-gray-200",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("textarea",{value:c,onChange:k=>h(k.target.value),onKeyPress:U,placeholder:`Ask ${lr[r].name} anything...`,className:"flex-1 resize-none border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"2",disabled:p}),l.jsxs("button",{onClick:M,disabled:!c.trim()||p,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[l.jsx(_d,{className:"h-4 w-4"}),l.jsx("span",{children:"Send"})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send  Shift+Enter for new line"})]})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-lg h-[600px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Oo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select an AI Agent to Start"}),l.jsx("p",{className:"text-gray-500",children:"Choose from our specialized AI agents to get expert assistance"})]})})})]}),l.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsxs("button",{onClick:()=>C("SAFETY_ANALYST"),className:"p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all text-left",children:[l.jsx(Tt,{className:"h-8 w-8 text-blue-600 mb-3"}),l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Safety Analysis"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Get comprehensive safety assessment for any location"})]}),l.jsxs("button",{onClick:()=>C("TRAVEL_ADVISOR"),className:"p-6 border border-gray-200 rounded-lg hover:border-green-300 hover:shadow-md transition-all text-left",children:[l.jsx(pc,{className:"h-8 w-8 text-green-600 mb-3"}),l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Travel Planning"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Get LGBTQ+-friendly travel recommendations"})]}),l.jsxs("button",{onClick:()=>C("CRISIS_SUPPORT"),className:"p-6 border border-gray-200 rounded-lg hover:border-red-300 hover:shadow-md transition-all text-left",children:[l.jsx(pi,{className:"h-8 w-8 text-red-600 mb-3"}),l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Crisis Support"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Get immediate support and crisis resources"})]})]})]})]})]})},uC=()=>{const r=[{year:"2023",title:"Foundation Established",description:"Vector for Good founded with mission to create privacy-first safety intelligence"},{year:"2024",title:"IQSF Partnership",description:"Strategic partnership with International Queer Safety Foundation launched"},{year:"2024",title:"Zero-Knowledge Protocol",description:"Breakthrough in privacy-preserving safety intelligence technology"},{year:"2025",title:"Global Expansion",description:"Platform launched across 195+ countries with real-time safety intelligence"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[l.jsx("section",{className:"pt-24 pb-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Nt,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[l.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:"About Vector for Good"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"We're building the world's most trusted privacy-first safety intelligence platform, empowering communities while protecting individual privacy and human dignity."})]})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(FN,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Our Mission"})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"To create a safer, more inclusive world by providing privacy-first safety intelligence that empowers individuals and communities to make informed decisions about their safety without compromising their privacy or dignity."})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(pi,{className:"w-8 h-8 text-purple-600 mr-3"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Our Vision"})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"A world where everyone can live authentically and safely, supported by technology that respects privacy while fostering community protection and empowerment through collective intelligence and shared safety insights."})]})]})})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Core Values"}),l.jsx("p",{className:"text-xl text-gray-600",children:"The principles that guide everything we do"})]}),l.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(xs,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Privacy First"}),l.jsx("p",{className:"text-gray-600",children:"Zero-knowledge architecture ensures your data remains private"})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(zn,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Community Driven"}),l.jsx("p",{className:"text-gray-600",children:"Built by and for the communities we serve"})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(Un,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Global Impact"}),l.jsx("p",{className:"text-gray-600",children:"Creating positive change across all communities worldwide"})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[l.jsx(Oo,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Innovation"}),l.jsx("p",{className:"text-gray-600",children:"Cutting-edge technology for social good"})]})]})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Journey"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Key milestones in building safer communities"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-blue-600 to-purple-600"}),r.map((t,i)=>l.jsxs("div",{className:`relative flex items-center mb-8 ${i%2===0?"justify-start":"justify-end"}`,children:[l.jsx("div",{className:`w-1/2 ${i%2===0?"pr-8 text-right":"pl-8 text-left"}`,children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:t.year}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.title}),l.jsx("p",{className:"text-gray-600",children:t.description})]})}),l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-white border-4 border-blue-600 rounded-full"})]},i))]})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Meet Our Founder"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Visionary leader dedicated to creating safer communities worldwide"})]}),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl shadow-xl p-8 md:p-12",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:"/images/founder-photo.png",alt:"Levi Hankins, Founder & CEO of Vector for Good",className:"w-48 h-48 md:w-56 md:h-56 rounded-2xl object-cover shadow-lg"})}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Levi Hankins"}),l.jsx("p",{className:"text-xl text-purple-600 font-semibold mb-4",children:"Founder & CEO, Vector for Good"}),l.jsxs("div",{className:"space-y-4 text-gray-700",children:[l.jsx("p",{className:"text-lg leading-relaxed",children:`A retired United States Navy veteran and ordained minister, Levi brings a unique combination of service, leadership, and spiritual guidance to his mission of protecting vulnerable communities. Inspired by Dame Jane Goodall's profound wisdom that "everyone has a special role to play and we are more interconnected than separate," he created Vector for Good to protect LGBTQIA+ communities through innovative technology and compassionate design.`}),l.jsx("p",{className:"text-lg leading-relaxed",children:"Drawing from his military experience in service and protection, combined with his ministerial calling to care for others, Levi leads Vector for Good's mission to create the world's most trusted safety intelligence platform while maintaining the highest standards of privacy and human dignity. His deep expertise in privacy-preserving technologies is matched by an unwavering commitment to social justice and community protection."}),l.jsx("p",{className:"text-lg leading-relaxed",children:"As a partner with the International Queer Safety Foundation (IQSF), Levi works tirelessly to ensure that every LGBTQIA+ individual and family can live authentically and safely, anywhere in the world. His background in both military service and ministry informs his holistic approach to safetyprotecting not just physical wellbeing, but also spiritual and emotional flourishing."})]}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-center md:justify-start gap-3",children:[l.jsx("span",{className:"px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"US Navy Veteran"}),l.jsx("span",{className:"px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Ordained Minister"}),l.jsx("span",{className:"px-4 py-2 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:"Privacy Technology Expert"}),l.jsx("span",{className:"px-4 py-2 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:"LGBTQIA+ Advocate"}),l.jsx("span",{className:"px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Social Impact Leader"})]})]})]}),l.jsx("div",{className:"mt-8 pt-8 border-t border-purple-200",children:l.jsxs("blockquote",{className:"text-center",children:[l.jsx("p",{className:"text-xl italic text-gray-700 mb-4",children:'"Dame Jane taught us that we are more interconnected than separate. Every individual matters, every individual has a role to play, every individual makes a difference. This wisdom guides everything we do at Vector for Good."'}),l.jsx("footer",{className:"text-purple-600 font-semibold",children:" Levi Hankins, Founder & CEO"})]})})]})})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-8 text-center text-white",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join Our Mission"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Help us build a safer, more inclusive world for everyone"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Nt,{to:"/contact",className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Get Involved"}),l.jsx(Nt,{to:"/qsi-map",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Explore QSi Map"})]})]})})})]})},dC=()=>{const r=[{icon:Un,title:"Global Reach",description:"Combined coverage across 195+ countries with local community insights and cultural context"},{icon:Tt,title:"Enhanced Safety Intelligence",description:"Advanced zero-knowledge protocols protecting community data while maximizing safety insights"},{icon:zn,title:"Community Empowerment",description:"Free tools and resources specifically designed for LGBTQ+ activists, travelers, and vulnerable populations"},{icon:dr,title:"Real-time Updates",description:"24/7 monitoring and instant alerts for safety conditions affecting LGBTQ+ communities worldwide"}],t=[{title:"Global Safety Database",description:"Comprehensive database of LGBTQ+ friendly locations, services, and safety information across all continents",status:"Active",impact:"50,000+ verified safe locations"},{title:"Emergency Response Network",description:"Rapid response system for LGBTQ+ individuals facing safety threats while traveling or in crisis situations",status:"Pilot Phase",impact:"24/7 multilingual support"},{title:"Legal Protection Mapping",description:"Real-time tracking of LGBTQ+ rights and legal protections across different jurisdictions worldwide",status:"Development",impact:"195+ countries monitored"},{title:"Community Ambassador Program",description:"Training local LGBTQ+ advocates to provide safety intelligence and support in their regions",status:"Expanding",impact:"500+ ambassadors globally"}],i=[{date:"January 2024",title:"Partnership Announcement",description:"Official partnership between Vector for Good and IQSF launched at Global Pride Summit"},{date:"March 2024",title:"Technology Integration",description:"Zero-knowledge safety intelligence platform integrated with IQSF's global network"},{date:"June 2024",title:"Pilot Program Launch",description:"Beta testing with 10,000+ LGBTQ+ community members across 25 countries"},{date:"September 2024",title:"Global Expansion",description:"Full platform rollout to all IQSF member organizations worldwide"},{date:"December 2024",title:"Impact Milestone",description:"Reached 1 million community members with enhanced safety intelligence"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[l.jsx("section",{className:"pt-24 pb-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Nt,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[l.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6",children:[l.jsx("img",{src:"/images/IMG_1968(3).png",alt:"Rainbow Shield",className:"h-16 w-auto mr-4"}),l.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900",children:"IQSF Partnership"})]}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Partnering with the International Queer Safety Foundation to create the world's most comprehensive privacy-first safety intelligence platform for LGBTQ+ communities worldwide."})]})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Building Safer Communities Together"}),l.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Our strategic partnership with the International Queer Safety Foundation represents a groundbreaking collaboration to protect LGBTQ+ individuals worldwide while maintaining the highest standards of privacy and human dignity."}),l.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"By combining Vector for Good's cutting-edge zero-knowledge technology with IQSF's global network and community expertise, we're creating unprecedented safety intelligence capabilities that empower communities without compromising individual privacy."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(Nt,{to:"/contact",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all text-center",children:"Join the Partnership"}),l.jsxs("a",{href:"https://iqsf.org",target:"_blank",rel:"noopener noreferrer",className:"border-2 border-purple-600 text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-purple-600 hover:text-white transition-colors text-center inline-flex items-center justify-center",children:["Visit IQSF ",l.jsx(J0,{className:"w-4 h-4 ml-2"})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:"/images/IMG_1979(4).png",alt:"Global Partnership",className:"w-full h-auto rounded-lg shadow-lg"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-600/20 to-transparent rounded-lg"})]})]})})})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Partnership Benefits"}),l.jsx("p",{className:"text-xl text-gray-600",children:"How our collaboration enhances safety for LGBTQ+ communities"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((a,c)=>l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center hover:shadow-xl transition-shadow",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(a.icon,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a.title}),l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:a.description})]},c))})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Joint Initiatives"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Collaborative projects making a global impact"})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.map((a,c)=>l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.title}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.status==="Active"?"bg-green-100 text-green-800":a.status==="Pilot Phase"?"bg-blue-100 text-blue-800":a.status==="Development"?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"}`,children:a.status})]}),l.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:a.description}),l.jsxs("div",{className:"flex items-center text-sm text-purple-600 font-medium",children:[l.jsx(qm,{className:"w-4 h-4 mr-2"}),a.impact]})]},c))})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Partnership Timeline"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Key milestones in our collaborative journey"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-purple-600 to-blue-600"}),i.map((a,c)=>l.jsxs("div",{className:`relative flex items-center mb-8 ${c%2===0?"justify-start":"justify-end"}`,children:[l.jsx("div",{className:`w-1/2 ${c%2===0?"pr-8 text-right":"pl-8 text-left"}`,children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Hm,{className:"w-4 h-4 text-purple-600 mr-2"}),l.jsx("div",{className:"text-sm font-medium text-purple-600",children:a.date})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),l.jsx("p",{className:"text-gray-600",children:a.description})]})}),l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-white border-4 border-purple-600 rounded-full"})]},c))]})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl shadow-lg p-8 text-white",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Global Impact"}),l.jsx("p",{className:"text-xl opacity-90",children:"Together, we're making a difference worldwide"})]}),l.jsxs("div",{className:"grid md:grid-cols-4 gap-6 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold mb-2",children:"195+"}),l.jsx("div",{className:"text-lg opacity-90",children:"Countries Covered"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold mb-2",children:"1M+"}),l.jsx("div",{className:"text-lg opacity-90",children:"Community Members"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold mb-2",children:"50K+"}),l.jsx("div",{className:"text-lg opacity-90",children:"Safe Locations"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold mb-2",children:"24/7"}),l.jsx("div",{className:"text-lg opacity-90",children:"Support Available"})]})]})]})})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-16",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get Involved"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join our mission to create safer, more inclusive communities worldwide. Whether you're an individual, organization, or advocate, there's a place for you in our partnership."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Nt,{to:"/contact",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"Partner With Us"}),l.jsx(Nt,{to:"/qsi-map",className:"border-2 border-purple-600 text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-purple-600 hover:text-white transition-colors",children:"Explore QSi Map"})]})]})})})]})},hC=()=>{const[r,t]=$.useState(0),[i,a]=$.useState(!1),[c,h]=$.useState(!1);$.useEffect(()=>{a(!0);const v=setInterval(()=>{t(w=>(w+1)%p.length)},8e3);return()=>clearInterval(v)},[]);const p=[{text:"What you do makes a difference, and you have to decide what kind of difference you want to make.",context:"On individual responsibility and action"},{text:"Every individual matters. Every individual has a role to play. Every individual makes a difference.",context:"On the power of each person"},{text:"Hope is not passive. Hope is action. Hope is doing something.",context:"On the nature of hope"},{text:"We have a choice to use the gift of our life to make the world a better placeor not to bother.",context:"On life's purpose"},{text:"Change happens by listening and then starting a dialogue with the people who are doing something you don't believe is right.",context:"On creating positive change"},{text:"Only if we understand, will we care. Only if we care, will we help. Only if we help, shall all be saved.",context:"On education and compassion"}],x=[{icon:Tt,title:"Protecting the Vulnerable",description:"Just as Jane protected chimpanzees from harm, Vector for Good protects LGBTQ+ individuals by providing safety intelligence and secure spaces worldwide.",color:"from-green-500 to-emerald-600"},{icon:Un,title:"Global Conservation",description:"Jane's worldwide conservation efforts inspire our global mission to create safe spaces and protect LGBTQ+ communities across all continents.",color:"from-blue-500 to-cyan-600"},{icon:zn,title:"Community Empowerment",description:"Her work empowering local communities mirrors our commitment to empowering LGBTQ+ communities with the tools and knowledge they need to stay safe.",color:"from-purple-500 to-pink-600"},{icon:pi,title:"Compassionate Action",description:"Jane's compassionate approach to all living beings guides our empathetic, human-centered approach to safety intelligence and community support.",color:"from-red-500 to-rose-600"}],y=[{year:"1934",title:"Born in London",description:"Valerie Jane Morris-Goodall was born on April 3, 1934, in London, England, beginning a life that would change our understanding of the natural world."},{year:"1960",title:"Journey to Gombe",description:"At age 26, Jane arrived at what is now Gombe Stream National Park in Tanzania to study chimpanzees, beginning her groundbreaking research."},{year:"1960s",title:"Revolutionary Discoveries",description:"Jane observed chimpanzees making and using tools, fundamentally changing our understanding of what makes humans unique."},{year:"1977",title:"Founded Jane Goodall Institute",description:"Established the Jane Goodall Institute to continue research and conservation work, expanding her impact globally."},{year:"1991",title:"Roots & Shoots Program",description:"Launched the youth program that now operates in over 65 countries, empowering young people to become environmental stewards."},{year:"2002",title:"UN Messenger of Peace",description:"Appointed as a UN Messenger of Peace, recognizing her global influence in conservation and humanitarian work."},{year:"2024",title:"Eternal Legacy",description:"Dr. Jane Goodall passed away peacefully, leaving behind an unparalleled legacy of compassion, scientific discovery, and hope for our planet's future."}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-green-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse animation-delay-2000"}),l.jsx("div",{className:"absolute -bottom-8 left-40 w-96 h-96 bg-emerald-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse animation-delay-4000"})]}),l.jsxs("div",{className:"relative z-10 text-center px-4 max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-12",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsx("div",{className:"w-64 h-64 rounded-full mx-auto border-4 border-white/20 shadow-2xl overflow-hidden bg-gradient-to-br from-green-100 to-emerald-200",children:l.jsx("img",{src:"/images/jane-goodall-portrait.png",alt:"Dr. Jane Goodall",className:"w-full h-full object-cover object-center scale-110 hover:scale-125 transition-transform duration-500",style:{objectPosition:"center 20%"}})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(va,{className:"w-4 h-4 text-white"})})]})}),l.jsx("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-6 leading-tight",children:"In Loving Memory of"}),l.jsx("h2",{className:"text-4xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r from-green-400 via-emerald-400 to-blue-400 bg-clip-text text-transparent mb-8",children:"Dr. Jane Goodall"}),l.jsx("div",{className:"text-2xl md:text-3xl text-gray-300 mb-8 font-light",children:"April 3, 1934 - December 2024"}),l.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-4xl mx-auto leading-relaxed",children:["Primatologist, Conservationist, and Champion for All Living Beings",l.jsx("br",{}),l.jsx("span",{className:"text-green-400 font-semibold",children:"Her legacy lives on in every act of compassion and conservation"})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8 mb-12 max-w-4xl mx-auto",children:[l.jsx(IN,{className:"w-12 h-12 text-green-400 mx-auto mb-6"}),l.jsxs("blockquote",{className:"text-2xl md:text-3xl text-white mb-6 italic font-light leading-relaxed",children:['"',p[r].text,'"']}),l.jsx("p",{className:"text-green-400 font-medium",children:p[r].context}),l.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:p.map((v,w)=>l.jsx("button",{onClick:()=>t(w),className:`w-3 h-3 rounded-full transition-all duration-300 ${w===r?"bg-green-400":"bg-gray-600"}`},w))})]})]})]}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-green-900/20 to-blue-900/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How Jane's Legacy Inspires Vector for Good"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Dr. Goodall's pioneering work in protecting vulnerable beings and empowering communities directly inspires our mission to protect LGBTQ+ individuals worldwide."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:x.map((v,w)=>{const j=v.icon;return l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8 hover:bg-black/40 transition-all duration-500 hover:scale-105",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${v.color} flex items-center justify-center mb-6 mx-auto`,children:l.jsx(j,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:v.title}),l.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:v.description})]},w)})})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"A Life of Extraordinary Impact"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From a young woman with a dream to study animals in Africa to a global icon of conservation and compassion."})]}),l.jsx("div",{className:"space-y-8",children:y.map((v,w)=>l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 flex items-center justify-center text-white font-bold text-lg",children:v.year})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-2xl p-6 flex-1 hover:bg-black/40 transition-all duration-300",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:v.title}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:v.description})]})]},w))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-emerald-900/20 to-green-900/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Visual Legacy"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Images that capture the essence of Dr. Goodall's remarkable life and enduring impact."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-6 hover:bg-black/40 transition-all duration-500",children:[l.jsx("img",{src:"/images/jane-goodall-nature.png",alt:"Jane in Nature",className:"w-full h-64 object-cover rounded-2xl mb-6"}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"In Her Element"}),l.jsx("p",{className:"text-gray-300",children:"Jane in the forests of Gombe, where she made her groundbreaking discoveries about chimpanzee behavior."})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-6 hover:bg-black/40 transition-all duration-500",children:[l.jsx("img",{src:"/images/jane-goodall-portrait.png",alt:"Jane Goodall Portrait",className:"w-full h-64 object-cover rounded-2xl mb-6"}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"The Scientist"}),l.jsx("p",{className:"text-gray-300",children:"A portrait of the woman who revolutionized our understanding of animal behavior and intelligence."})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-6 hover:bg-black/40 transition-all duration-500",children:[l.jsx("img",{src:"/images/jane-goodall-legacy.png",alt:"Jane's Legacy",className:"w-full h-64 object-cover rounded-2xl mb-6"}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Enduring Legacy"}),l.jsx("p",{className:"text-gray-300",children:"Her work continues to inspire new generations of conservationists and advocates worldwide."})]})]})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-900/20 to-blue-900/20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4",children:l.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-white/20 rounded-3xl p-12",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(pi,{className:"w-16 h-16 text-red-400 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Founder's Memorial Tribute"})]}),l.jsxs("blockquote",{className:"text-lg md:text-xl text-gray-300 leading-relaxed mb-8 italic",children:['"Jane Goodall was more than a global iconshe was my childhood hero. Her courage and wisdom shaped my understanding of compassion, advocacy, and what it means to make a difference. Jane personally influenced the course of my life, inspiring me to pursue causes that protect the vulnerable and empower change.',l.jsx("br",{}),l.jsx("br",{}),"Through her work, I learned that hope is powerful, empathy is revolutionary, and our dedication to justice must include every voice and life. Her legacy lives in my resolve and in the very foundation of IQSF and Vector For Good.",l.jsx("br",{}),l.jsx("br",{}),'Though she has left us, her spirit continues to guide every decision we make, every person we protect, and every community we serve. Thank you, Dame Jane, for showing meand countless othersthat every small action counts, and that dreams truly can change the world. Your legacy of compassion will live on forever."']}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-white font-semibold text-lg mb-2",children:" Levi Hankins"}),l.jsxs("div",{className:"text-gray-400 space-y-1",children:[l.jsx("div",{children:"Founder & CEO"}),l.jsx("div",{children:"IQSF (International Queer Safety Foundation 501c3)"}),l.jsx("div",{children:"Vector For Good PBC (Delaware, USA)"}),l.jsx("div",{children:"Vector For Good Ou (Estonia)"}),l.jsx("div",{children:"Future Vector For Good GmbH (Berlin, Germany)"})]})]})]})})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-12",children:[l.jsx(i_,{className:"w-16 h-16 text-yellow-400 mx-auto mb-8"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-8",children:"From All of Us at Vector for Good"}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed mb-8",children:["Dr. Jane Goodall's passing marks the end of an era, but her legacy of compassion, scientific rigor, and unwavering hope continues to inspire our work every day. She showed us that understanding leads to caring, caring leads to action, and action can change the world.",l.jsx("br",{}),l.jsx("br",{}),"At Vector for Good, we carry forward her mission of protecting the vulnerable and building bridges of understanding. Every safety report we generate, every community we protect, and every life we help save is a testament to the values she embodied.",l.jsx("br",{}),l.jsx("br",{}),"Rest in peace, Dr. Goodall. Your legacy lives on in every act of kindness, every moment of protection, and every step toward a more compassionate world."]}),l.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[l.jsx("img",{src:"/images/vector-logo-hero.png",alt:"Vector for Good",className:"h-12 w-auto"}),l.jsx("span",{className:"text-2xl text-white",children:"+"}),l.jsx("img",{src:"/images/iqsf-logo.png",alt:"IQSF",className:"h-12 w-auto"})]})]})})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-green-900/50 to-emerald-900/50",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8",children:"Continue Her Legacy"}),l.jsx("p",{className:"text-xl text-gray-300 mb-12",children:"Honor Dr. Goodall's memory by joining our mission to protect and empower LGBTQ+ communities worldwide. Every action, no matter how small, makes a difference."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[l.jsxs("a",{href:"/qsi-map",className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold shadow-2xl hover:shadow-green-500/50 transition-all duration-300 hover:scale-105 flex items-center justify-center",children:["Explore Safety Intelligence",l.jsx(mc,{className:"ml-2 w-5 h-5"})]}),l.jsx("a",{href:"/contact",className:"bg-white/10 backdrop-blur-sm text-white px-8 py-4 rounded-2xl text-lg font-semibold border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:"Join Our Mission"})]})]})})]})},fC=()=>{const[r,t]=$.useState("enterprise"),i=[{icon:Tt,title:"Advanced Threat Intelligence",description:"Real-time monitoring and analysis of global safety threats with predictive modeling and risk assessment.",benefits:["24/7 threat monitoring","Predictive risk modeling","Custom threat intelligence feeds","Automated alert systems"]},{icon:zn,title:"Employee Safety Management",description:"Comprehensive employee protection with travel safety, location monitoring, and emergency response coordination.",benefits:["Employee travel tracking","Emergency response protocols","Safety check-ins","Family notification systems"]},{icon:Jj,title:"Executive Dashboards",description:"Real-time analytics and reporting for C-suite executives with customizable KPIs and compliance metrics.",benefits:["Executive-level reporting","Custom KPI tracking","Compliance monitoring","ROI analytics"]},{icon:Un,title:"Global Operations Support",description:"Multi-region deployment with local compliance, cultural sensitivity, and regulatory adherence.",benefits:["Multi-region deployment","Local compliance","Cultural adaptation","Regulatory adherence"]}],a=[{id:"professional",name:"Professional",price:"$2,500",period:"per month",description:"For growing companies with 100-500 employees",features:["Up to 500 employee profiles","Basic threat intelligence","Standard reporting","Email support","API access","Mobile apps"],cta:"Start Free Trial",popular:!1},{id:"enterprise",name:"Enterprise",price:"$7,500",period:"per month",description:"For large organizations with 500-5000 employees",features:["Up to 5,000 employee profiles","Advanced threat intelligence","Executive dashboards","Priority support","Custom integrations","Dedicated success manager","Advanced analytics","Compliance reporting"],cta:"Contact Sales",popular:!0},{id:"fortune500",name:"Fortune 500",price:"Custom",period:"pricing",description:"For Fortune 500 companies with unlimited scale",features:["Unlimited employee profiles","Custom threat intelligence","White-label solutions","24/7 dedicated support","On-premise deployment","Custom development","Executive briefings","Global compliance suite"],cta:"Schedule Consultation",popular:!1}],c=[{company:"Global Tech Corp",industry:"Technology",logo:"",quote:"Vector for Good transformed our global employee safety program. The predictive analytics helped us prevent three major incidents last quarter.",author:"Sarah Chen",title:"Chief Security Officer",employees:"15,000+ employees"},{company:"International Finance Ltd",industry:"Financial Services",logo:"",quote:"The compliance reporting features saved us hundreds of hours during our regulatory audit. The ROI was immediate.",author:"Michael Rodriguez",title:"VP of Risk Management",employees:"8,000+ employees"},{company:"Global Manufacturing Inc",industry:"Manufacturing",logo:"",quote:"Having real-time safety intelligence for our operations in 40+ countries gives our leadership team unprecedented visibility.",author:"Jennifer Park",title:"Global Operations Director",employees:"25,000+ employees"}],h=[{name:"Salesforce",logo:""},{name:"Microsoft 365",logo:""},{name:"Slack",logo:""},{name:"ServiceNow",logo:""},{name:"Workday",logo:""},{name:"SAP",logo:""}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsxs("section",{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-purple-900 text-white py-24",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Enterprise Safety Intelligence",l.jsx("span",{className:"block text-blue-300",children:"Built for Fortune 500"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-4xl mx-auto",children:"Protect your global workforce with enterprise-grade safety intelligence, compliance reporting, and executive dashboards trusted by industry leaders."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[l.jsx(Hm,{className:"h-5 w-5"}),l.jsx("span",{children:"Schedule Demo"})]}),l.jsxs("button",{className:"border border-white/30 hover:bg-white/10 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[l.jsx(n_,{className:"h-5 w-5"}),l.jsx("span",{children:"Contact Sales"})]})]})]})})]}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Enterprise-Grade Features"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive safety intelligence platform designed for the unique needs of Fortune 500 companies."})]}),l.jsx("div",{className:"grid lg:grid-cols-2 gap-12",children:i.map((p,x)=>{const y=p.icon;return l.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:l.jsxs("div",{className:"flex items-start space-x-6",children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-xl",children:l.jsx(y,{className:"h-8 w-8 text-blue-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:p.title}),l.jsx("p",{className:"text-gray-600 mb-6",children:p.description}),l.jsx("ul",{className:"space-y-2",children:p.benefits.map((v,w)=>l.jsxs("li",{className:"flex items-center space-x-3",children:[l.jsx(_a,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{className:"text-gray-700",children:v})]},w))})]})]})},x)})})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Enterprise Pricing"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Flexible pricing options designed to scale with your organization's needs."})]}),l.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:a.map(p=>l.jsxs("div",{className:`relative bg-white rounded-2xl shadow-lg p-8 ${p.popular?"ring-2 ring-blue-600 scale-105":""}`,children:[p.popular&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"Most Popular"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.name}),l.jsx("p",{className:"text-gray-600 mb-4",children:p.description}),l.jsxs("div",{className:"mb-6",children:[l.jsx("span",{className:"text-4xl font-bold text-gray-900",children:p.price}),l.jsx("span",{className:"text-gray-600 ml-2",children:p.period})]})]}),l.jsx("ul",{className:"space-y-4 mb-8",children:p.features.map((x,y)=>l.jsxs("li",{className:"flex items-center space-x-3",children:[l.jsx(_a,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{className:"text-gray-700",children:x})]},y))}),l.jsx("button",{className:`w-full py-3 px-6 rounded-lg font-semibold transition-colors ${p.popular?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:p.cta})]},p.id))})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Trusted by Industry Leaders"})}),l.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:c.map((p,x)=>l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"text-4xl mr-4",children:p.logo}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:p.company}),l.jsx("p",{className:"text-gray-600",children:p.industry}),l.jsx("p",{className:"text-sm text-blue-600",children:p.employees})]})]}),l.jsxs("blockquote",{className:"text-gray-700 mb-6 italic",children:['"',p.quote,'"']}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("p",{className:"font-semibold text-gray-900",children:p.author}),l.jsx("p",{className:"text-gray-600",children:p.title})]})]},x))})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Seamless Integrations"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect with your existing enterprise tools and workflows."})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:h.map((p,x)=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-gray-100 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-4 hover:bg-gray-200 transition-colors",children:l.jsx("span",{className:"text-3xl",children:p.logo})}),l.jsx("p",{className:"font-semibold text-gray-900",children:p.name})]},x))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Ready to Protect Your Global Workforce?"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join Fortune 500 companies who trust Vector for Good to keep their employees safe worldwide."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[l.jsx(Hm,{className:"h-5 w-5"}),l.jsx("span",{children:"Schedule Enterprise Demo"})]}),l.jsxs(Nt,{to:"/contact",className:"border border-white/30 hover:bg-white/10 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[l.jsx(e_,{className:"h-5 w-5"}),l.jsx("span",{children:"Contact Sales Team"})]})]})]})})]})},mC=()=>{const[r,t]=$.useState("all"),i=[{id:1,title:"Senior Full-Stack Engineer",department:"Engineering",location:"Remote / San Francisco",type:"Full-time",experience:"5+ years",description:"Build scalable systems that protect LGBTQ+ communities worldwide. Work with React, Node.js, and cutting-edge privacy technologies.",requirements:["5+ years full-stack development","React/Node.js expertise","Experience with privacy-preserving technologies","Passion for social impact"],featured:!0},{id:2,title:"AI/ML Research Scientist",department:"AI Research",location:"Remote / Boston",type:"Full-time",experience:"3+ years",description:"Develop AI agents and machine learning models for safety intelligence and threat detection.",requirements:["PhD in ML/AI or equivalent","Experience with LLMs","Python/PyTorch expertise","Research publication record"],featured:!0},{id:3,title:"Product Designer",department:"Design",location:"Remote / New York",type:"Full-time",experience:"4+ years",description:"Design intuitive interfaces for complex safety intelligence tools used by Fortune 500 companies.",requirements:["4+ years product design","Figma/Sketch expertise","Enterprise UX experience","Portfolio of complex products"],featured:!1},{id:4,title:"DevOps Engineer",department:"Engineering",location:"Remote / Seattle",type:"Full-time",experience:"3+ years",description:"Build and maintain secure, scalable infrastructure for global safety intelligence platform.",requirements:["3+ years DevOps experience","AWS/GCP expertise","Kubernetes/Docker","Security-first mindset"],featured:!1},{id:5,title:"Sales Director - Enterprise",department:"Sales",location:"Remote / Chicago",type:"Full-time",experience:"7+ years",description:"Lead enterprise sales efforts targeting Fortune 500 companies and government organizations.",requirements:["7+ years enterprise sales","SaaS/B2B experience","Fortune 500 relationships","Track record of $10M+ deals"],featured:!1},{id:6,title:"Data Privacy Counsel",department:"Legal",location:"Remote / Washington DC",type:"Full-time",experience:"5+ years",description:"Ensure compliance with global privacy regulations and advise on zero-knowledge architecture.",requirements:["JD with privacy law focus","5+ years privacy counsel","GDPR/CCPA expertise","Tech company experience"],featured:!1}],a=[{icon:pi,title:"Mission-Driven Work",description:"Make a real impact protecting LGBTQ+ communities worldwide"},{icon:wN,title:"Remote-First Culture",description:"Work from anywhere with flexible hours and async collaboration"},{icon:qm,title:"Competitive Compensation",description:"Top-tier salaries, equity, and comprehensive benefits package"},{icon:oN,title:"Professional Development",description:"$5,000 annual learning budget and conference attendance"},{icon:zn,title:"Inclusive Team",description:"Diverse, welcoming team committed to equality and justice"},{icon:AN,title:"Top-Tier Equipment",description:"Latest MacBook Pro, monitor, and home office setup allowance"}],c=[{icon:Tt,title:"Privacy First",description:"We believe privacy is a fundamental human right and build accordingly."},{icon:Un,title:"Global Impact",description:"Our work protects vulnerable communities in 195+ countries worldwide."},{icon:Oo,title:"Innovation",description:"We push the boundaries of technology to solve complex social problems."},{icon:pi,title:"Empathy",description:"We center human dignity and compassion in everything we build."}],h=[{number:"50+",label:"Team Members",icon:zn},{number:"15+",label:"Countries",icon:Un},{number:"95%",label:"Employee Satisfaction",icon:va},{number:"2x",label:"Annual Growth",icon:dr}],p=r==="all"?i:i.filter(y=>y.department.toLowerCase()===r.toLowerCase()),x=["all","Engineering","AI Research","Design","Sales","Legal"];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsxs("section",{className:"relative bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 text-white py-24",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Join Our Mission",l.jsx("span",{className:"block text-blue-300",children:"Build the Future of Safety"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-4xl mx-auto",children:"Help us create technology that protects LGBTQ+ communities worldwide. Work with cutting-edge AI, privacy tech, and passionate people changing the world."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("a",{href:"#openings",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"View Open Positions"}),l.jsx(mc,{className:"h-5 w-5"})]}),l.jsx(Nt,{to:"/about",className:"border border-white/30 hover:bg-white/10 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Learn About Us"})]})]})})]}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:h.map((y,v)=>{const w=y.icon;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-white w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:l.jsx(w,{className:"h-8 w-8 text-blue-600"})}),l.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:y.number}),l.jsx("div",{className:"text-gray-600 font-medium",children:y.label})]},v)})})})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Our Values"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide everything we do and the culture we're building together."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map((y,v)=>{const w=y.icon;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(w,{className:"h-10 w-10 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:y.title}),l.jsx("p",{className:"text-gray-600",children:y.description})]},v)})})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Why Work With Us"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We believe in taking care of our team so they can do their best work changing the world."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((y,v)=>{const w=y.icon;return l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[l.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-xl flex items-center justify-center mb-6",children:l.jsx(w,{className:"h-6 w-6 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:y.title}),l.jsx("p",{className:"text-gray-600",children:y.description})]},v)})})]})}),l.jsx("section",{id:"openings",className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Open Positions"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join our team and help build technology that makes the world safer for everyone."})]}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:x.map(y=>l.jsx("button",{onClick:()=>t(y),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${r===y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y==="all"?"All Departments":y},y))}),l.jsx("div",{className:"space-y-6",children:p.map(y=>l.jsx("div",{className:`bg-white border rounded-2xl p-8 hover:shadow-lg transition-shadow ${y.featured?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:y.title}),y.featured&&l.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Featured"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(zn,{className:"h-4 w-4"}),l.jsx("span",{children:y.department})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pc,{className:"h-4 w-4"}),l.jsx("span",{children:y.location})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(W0,{className:"h-4 w-4"}),l.jsx("span",{children:y.type})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qm,{className:"h-4 w-4"}),l.jsx("span",{children:y.experience})]})]}),l.jsx("p",{className:"text-gray-700 mb-4",children:y.description}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.requirements.slice(0,3).map((v,w)=>l.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:v},w)),y.requirements.length>3&&l.jsxs("span",{className:"text-gray-500 text-sm",children:["+",y.requirements.length-3," more"]})]})]}),l.jsx("div",{className:"mt-6 lg:mt-0 lg:ml-8",children:l.jsxs("button",{className:"w-full lg:w-auto bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"Apply Now"}),l.jsx(mc,{className:"h-4 w-4"})]})})]})},y.id))}),p.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-600 text-lg",children:"No positions found in this department."}),l.jsx("button",{onClick:()=>t("all"),className:"text-blue-600 hover:text-blue-700 font-medium mt-2",children:"View all positions"})]})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Don't See Your Role?"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"We're always looking for exceptional people who share our mission. Send us your resume and tell us how you'd like to contribute."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Nt,{to:"/contact",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Get In Touch"}),l.jsx(Nt,{to:"/about",className:"border border-white/30 hover:bg-white/10 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Learn More About Us"})]})]})})]})},pC=()=>{const[r,t]=$.useState(""),[i,a]=$.useState("all"),c=[{id:"all",name:"All Resources",icon:_v},{id:"documentation",name:"Documentation",icon:X0},{id:"tutorials",name:"Tutorials",icon:t2},{id:"api",name:"API Reference",icon:bv},{id:"research",name:"Research Papers",icon:_v},{id:"tools",name:"Tools & SDKs",icon:gm}],h=[{id:1,title:"Getting Started with Vector for Good API",category:"documentation",type:"Documentation",description:"Complete guide to integrating Vector for Good safety intelligence into your applications.",readTime:"15 min",difficulty:"Beginner",downloads:2500,rating:4.9,featured:!0,tags:["API","Integration","Getting Started"],link:"/docs/api-getting-started"},{id:2,title:"Zero-Knowledge Privacy Architecture",category:"research",type:"Research Paper",description:"Technical deep-dive into our zero-knowledge proof implementation for privacy-preserving safety intelligence.",readTime:"45 min",difficulty:"Advanced",downloads:1200,rating:4.8,featured:!0,tags:["Zero-Knowledge","Privacy","Cryptography"],link:"/research/zk-privacy-architecture.pdf"},{id:3,title:"Building Safety-First Applications",category:"tutorials",type:"Video Tutorial",description:"Step-by-step video guide to building applications that prioritize user safety and privacy.",readTime:"30 min",difficulty:"Intermediate",downloads:3200,rating:4.9,featured:!1,tags:["Tutorial","Safety","Best Practices"],link:"/tutorials/safety-first-apps"},{id:4,title:"QSi Map Integration SDK",category:"tools",type:"SDK",description:"JavaScript SDK for embedding interactive safety maps into your web applications.",readTime:"10 min",difficulty:"Beginner",downloads:5600,rating:4.7,featured:!0,tags:["SDK","JavaScript","Maps"],link:"/tools/qsi-map-sdk"},{id:5,title:"AI Agent API Reference",category:"api",type:"API Documentation",description:"Complete reference for interacting with our AI agents for safety analysis and recommendations.",readTime:"25 min",difficulty:"Intermediate",downloads:1800,rating:4.8,featured:!1,tags:["API","AI Agents","Reference"],link:"/docs/ai-agent-api"},{id:6,title:"Global Safety Data Analysis",category:"research",type:"Research Report",description:"Comprehensive analysis of global LGBTQ+ safety trends and patterns from our 2024 dataset.",readTime:"60 min",difficulty:"Intermediate",downloads:980,rating:4.9,featured:!1,tags:["Research","Data Analysis","Global Trends"],link:"/research/global-safety-analysis-2024.pdf"},{id:7,title:"Enterprise Integration Guide",category:"documentation",type:"Documentation",description:"Best practices for integrating Vector for Good into enterprise environments and workflows.",readTime:"35 min",difficulty:"Advanced",downloads:750,rating:4.8,featured:!1,tags:["Enterprise","Integration","Best Practices"],link:"/docs/enterprise-integration"},{id:8,title:"Mobile App Development Kit",category:"tools",type:"Development Kit",description:"Native iOS and Android SDKs for building mobile applications with safety intelligence.",readTime:"20 min",difficulty:"Intermediate",downloads:2100,rating:4.6,featured:!1,tags:["Mobile","iOS","Android","SDK"],link:"/tools/mobile-sdk"}],p=[{title:"API Documentation",description:"Complete API reference and guides",icon:bv,link:"/docs/api",color:"from-blue-500 to-cyan-500"},{title:"Safety Intelligence Guide",description:"Understanding our safety data and metrics",icon:Tt,link:"/docs/safety-intelligence",color:"from-green-500 to-emerald-500"},{title:"Privacy & Security",description:"Zero-knowledge architecture and security",icon:Un,link:"/docs/privacy-security",color:"from-purple-500 to-pink-500"},{title:"AI Agents Guide",description:"Working with our AI agent system",icon:Oo,link:"/docs/ai-agents",color:"from-orange-500 to-red-500"}],x=h.filter(v=>{const w=v.title.toLowerCase().includes(r.toLowerCase())||v.description.toLowerCase().includes(r.toLowerCase())||v.tags.some(T=>T.toLowerCase().includes(r.toLowerCase())),j=i==="all"||v.category===i;return w&&j}),y=v=>{switch(v){case"Beginner":return"text-green-600 bg-green-100";case"Intermediate":return"text-yellow-600 bg-yellow-100";case"Advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsxs("section",{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-purple-900 text-white py-24",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Developer Resources",l.jsx("span",{className:"block text-blue-300",children:"Build with Vector for Good"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-4xl mx-auto",children:"Everything you need to integrate safety intelligence into your applications. Documentation, tutorials, SDKs, and research papers."}),l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx(wv,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search resources, tutorials, documentation...",value:r,onChange:v=>t(v.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl text-gray-900 bg-white/95 backdrop-blur-sm border-0 focus:ring-2 focus:ring-blue-500 text-lg"})]})})]})})]}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Quick Start Guides"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Jump right into the most popular resources and get started quickly."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:p.map((v,w)=>{const j=v.icon;return l.jsxs(Nt,{to:v.link,className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105",children:[l.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${v.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`,children:l.jsx(j,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-blue-600 transition-colors",children:v.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:v.description}),l.jsxs("div",{className:"flex items-center text-blue-600 font-semibold group-hover:translate-x-2 transition-transform",children:[l.jsx("span",{children:"Get Started"}),l.jsx(mc,{className:"h-4 w-4 ml-2"})]})]},w)})})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"lg:w-1/4",children:l.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[l.jsx(gN,{className:"h-5 w-5 mr-2"}),"Categories"]}),l.jsx("div",{className:"space-y-2",children:c.map(v=>{const w=v.icon;return l.jsxs("button",{onClick:()=>a(v.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${i===v.id?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(w,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:v.name})]},v.id)})})]})}),l.jsxs("div",{className:"lg:w-3/4",children:[l.jsx("div",{className:"flex items-center justify-between mb-8",children:l.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[x.length," Resources Found"]})}),l.jsx("div",{className:"space-y-6",children:x.map(v=>l.jsx("div",{className:`bg-white border rounded-2xl p-8 hover:shadow-lg transition-shadow ${v.featured?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v.title}),v.featured&&l.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Featured"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[l.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:v.type}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y(v.difficulty)}`,children:v.difficulty}),l.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[l.jsx(W0,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:v.readTime})]}),l.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[l.jsx(gm,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:v.downloads.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center space-x-1 text-yellow-500",children:[l.jsx(va,{className:"h-4 w-4 fill-current"}),l.jsx("span",{className:"text-sm text-gray-600",children:v.rating})]})]}),l.jsx("p",{className:"text-gray-700 mb-4",children:v.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:v.tags.map((w,j)=>l.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:w},j))})]}),l.jsx("div",{className:"mt-6 lg:mt-0 lg:ml-8",children:l.jsxs("a",{href:v.link,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:[v.type==="Video Tutorial"?l.jsx(iN,{className:"h-4 w-4"}):v.type.includes("PDF")||v.type.includes("Report")?l.jsx(gm,{className:"h-4 w-4"}):l.jsx(J0,{className:"h-4 w-4"}),l.jsx("span",{children:v.type==="Video Tutorial"?"Watch":v.type.includes("PDF")||v.type.includes("Report")?"Download":"View"})]})})]})},v.id))}),x.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(wv,{className:"h-16 w-16 mx-auto"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No resources found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or selecting a different category."}),l.jsx("button",{onClick:()=>{t(""),a("all")},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]})]})]})})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Need Help Getting Started?"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Our developer support team is here to help you integrate Vector for Good into your applications successfully."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Nt,{to:"/contact",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Contact Support"}),l.jsx(Nt,{to:"/docs/api",className:"border border-white/30 hover:bg-white/10 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"View API Docs"})]})]})})]})},gC=()=>{const[r,t]=$.useState(!1),[i,a]=$.useState(0);$.useEffect(()=>{t(!0);const x=setInterval(()=>{a(y=>(y+1)%c.length)},4e3);return()=>clearInterval(x)},[]);const c=[{icon:pi,title:"Empathy-Centered Technology",description:"QI systems prioritize authentic human experiences, ensuring that voices from the queer community shape how data is interpreted and applied.",color:"from-red-500 to-pink-600"},{icon:Tt,title:"Safety & Privacy",description:"Tailored to protect queer users from harassment, discrimination, and surveillance, QI integrates privacy-first methodologies.",color:"from-blue-500 to-cyan-600"},{icon:zn,title:"Cultural Competency",description:"Deep understanding of intersectional identities makes QI uniquely equipped to navigate complex social dynamics.",color:"from-purple-500 to-indigo-600"},{icon:dr,title:"Advocacy & Empowerment",description:"Beyond technology, QI fuels advocacy initiatives that promote equality, inclusion, and visibility worldwide.",color:"from-yellow-500 to-orange-600"}],h=[{icon:Qd,title:"Intersectional Awareness",description:"Understanding the complexity of multiple identities and how they intersect with technology and society."},{icon:xs,title:"Digital Sovereignty",description:"Empowering queer communities to control their own data, narratives, and digital presence."},{icon:Un,title:"Global Perspective",description:"Recognizing diverse queer experiences across cultures, countries, and communities worldwide."},{icon:ON,title:"Innovation with Purpose",description:"Creating technology solutions that directly address real challenges faced by LGBTQ+ individuals."}],p=[{title:"Safety Intelligence",description:"AI-powered risk assessment for LGBTQ+ travelers and communities",icon:""},{title:"Identity Protection",description:"Zero-knowledge systems that protect personal information while enabling community connection",icon:""},{title:"Cultural Navigation",description:"Context-aware guidance for navigating different social and legal environments",icon:""},{title:"Community Empowerment",description:"Tools that amplify queer voices and facilitate grassroots organizing",icon:""},{title:"Healthcare Access",description:"Intelligent systems for finding LGBTQ+-affirming healthcare providers",icon:""},{title:"Legal Advocacy",description:"AI-assisted legal research and advocacy for LGBTQ+ rights",icon:""}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-pink-900",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),l.jsx("div",{className:"absolute -bottom-8 left-40 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),l.jsxs("div",{className:"relative z-10 text-center px-4 max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-12",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-8",children:l.jsx(Oo,{className:"w-16 h-16 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:l.jsx(Zm,{className:"w-6 h-6 text-white"})})]})}),l.jsx("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-8 leading-tight",children:"Introducing"}),l.jsx("h2",{className:"text-4xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-8",children:"Queer Intelligence"}),l.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-300 mb-12",children:"(QI)"}),l.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-4xl mx-auto leading-relaxed",children:["In a world shaped by artificial intelligence and data, ",l.jsx("span",{className:"text-purple-400 font-semibold",children:"Queer Intelligence (QI)"})," emerges as a revolutionary paradigmwhere technology meets lived experience, culture, and community empowerment."]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[l.jsxs("a",{href:"#learn-more",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold shadow-2xl hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105 flex items-center justify-center",children:["Explore QI Framework",l.jsx(mc,{className:"ml-2 w-5 h-5"})]}),l.jsx("a",{href:"/contact",className:"bg-white/10 backdrop-blur-sm text-white px-8 py-4 rounded-2xl text-lg font-semibold border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:"Join the Revolution"})]})]})]}),l.jsx("section",{id:"learn-more",className:"py-20 bg-gradient-to-r from-blue-900/50 to-purple-900/50",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"What is Queer Intelligence?"})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-12 mb-16",children:[l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed mb-8",children:["Queer Intelligence (QI) is a ",l.jsx("span",{className:"text-purple-400 font-semibold",children:"pioneering framework"})," that fuses advanced AI capabilities with the unique perspectives, needs, and voices of the LGBTQ+ community. It leverages cutting-edge technology to create safer spaces, empower marginalized identities, and advocate for social justice with empathy and nuance."]}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed",children:["Unlike conventional artificial intelligence, QI is driven by values of ",l.jsx("span",{className:"text-pink-400 font-semibold",children:"inclusivity, intersectionality, and cultural understanding"}),". It's designed to anticipate and respond to challenges in queer safety, identity protection, and community solidarityempowering a future where technology uplifts, not erases, queer lives."]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-3xl font-bold text-white mb-12",children:"Why Queer Intelligence Matters"}),l.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-white/20 rounded-3xl p-12 max-w-4xl mx-auto",children:[l.jsx("div",{className:"mb-8",children:c.map((x,y)=>{const v=x.icon;return l.jsxs("div",{className:`transition-all duration-1000 ${y===i?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-8 absolute"}`,style:{display:y===i?"block":"none"},children:[l.jsx("div",{className:`w-20 h-20 rounded-2xl bg-gradient-to-r ${x.color} flex items-center justify-center mb-6 mx-auto`,children:l.jsx(v,{className:"w-10 h-10 text-white"})}),l.jsx("h4",{className:"text-2xl font-bold text-white mb-4",children:x.title}),l.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:x.description})]},y)})}),l.jsx("div",{className:"flex justify-center space-x-3",children:c.map((x,y)=>l.jsx("button",{onClick:()=>a(y),className:`w-4 h-4 rounded-full transition-all duration-300 ${y===i?"bg-purple-400 scale-125":"bg-gray-600"}`},y))})]})]})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Core Principles of QI"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"The foundational values that guide Queer Intelligence development and implementation."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:h.map((x,y)=>{const v=x.icon;return l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8 hover:bg-black/40 transition-all duration-500 hover:scale-105",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center mb-6 mx-auto",children:l.jsx(v,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:x.title}),l.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:x.description})]},y)})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-900/30 to-pink-900/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"QI in Action"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-world applications of Queer Intelligence transforming how technology serves LGBTQ+ communities."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map((x,y)=>l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-3xl p-8 hover:bg-black/40 transition-all duration-500 hover:scale-105",children:[l.jsx("div",{className:"text-4xl mb-6 text-center",children:x.icon}),l.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:x.title}),l.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:x.description})]},y))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-900/50 to-purple-900/50",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Our Vision"})}),l.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-white/20 rounded-3xl p-12",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("img",{src:"/images/vector-logo-hero.png",alt:"Vector for Good",className:"h-16 w-auto"}),l.jsx("span",{className:"text-3xl text-white self-center",children:"+"}),l.jsx("img",{src:"/images/iqsf-logo.png",alt:"IQSF",className:"h-16 w-auto"})]})}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed mb-8 text-center",children:["At ",l.jsx("span",{className:"text-purple-400 font-semibold",children:"International Queer Safety Foundation"})," and ",l.jsx("span",{className:"text-pink-400 font-semibold",children:"Vector for Good"}),", we harness Queer Intelligence to build platforms and tools that safeguard queer communities. QI is the future of intentional, inclusive technologya cornerstone for digital sovereignty and social justice in the 21st century."]}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed text-center",children:["Join us as we redefine intelligence and create safer, smarter spaces for all queer lives. Together, with ",l.jsx("span",{className:"text-blue-400 font-semibold",children:"Queer Intelligence"}),", we envision a world where every identity is respected, protected, and celebrated."]})]})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8",children:"Ready to Shape the Future?"}),l.jsx("p",{className:"text-xl text-gray-300 mb-12",children:"Be part of the Queer Intelligence revolution. Together, we're building technology that truly serves our community."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[l.jsxs("a",{href:"/contact",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold shadow-2xl hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105 flex items-center justify-center",children:["Get Involved",l.jsx(pi,{className:"ml-2 w-5 h-5"})]}),l.jsx("a",{href:"/ai-agents",className:"bg-white/10 backdrop-blur-sm text-white px-8 py-4 rounded-2xl text-lg font-semibold border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:"Experience QI Technology"})]})]})})]})},yC="https://bgfcvbfsckdvxittlwdt.supabase.co",xC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnZmN2YmZzY2tkdnhpdHRsd2R0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4ODg2NjcsImV4cCI6MjA3MDQ2NDY2N30.QgdXSjhhoRzSCGJcAizjVgbX7k0dUo0922paoP0925U";og(yC,xC);const ow="https://bgfcvbfsckdvxittlwdt.supabase.co",lw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnZmN2YmZzY2tkdnhpdHRsd2R0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4ODg2NjcsImV4cCI6MjA3MDQ2NDY2N30.QgdXSjhhoRzSCGJcAizjVgbX7k0dUo0922paoP0925U",Pm=og(ow,lw);class vC{constructor(){this.isGenerating=!1,this.generationQueue=[],this.edgeFunctionUrl=`${ow}/functions/v1/ai-agent-orchestrator`,this.priorityCities=[{country:"Germany",city:"Berlin",priority:"high"},{country:"Estonia",city:"Tallinn",priority:"high"},{country:"United States",city:"Las Vegas",state:"Nevada",priority:"high"},{country:"United States",city:"Des Moines",state:"Iowa",priority:"high"},{country:"United States",city:"St. Louis",state:"Missouri",priority:"high"},{country:"United States",city:"Omaha",state:"Nebraska",priority:"high"},{country:"United States",city:"Tuscaloosa",state:"Alabama",priority:"high"},{country:"United States",city:"New York",state:"New York",priority:"critical"},{country:"United States",city:"San Francisco",state:"California",priority:"critical"},{country:"Canada",city:"Toronto",priority:"high"},{country:"United Kingdom",city:"London",priority:"critical"},{country:"Netherlands",city:"Amsterdam",priority:"high"},{country:"Spain",city:"Madrid",priority:"high"},{country:"Australia",city:"Sydney",priority:"high"},{country:"Brazil",city:"So Paulo",priority:"medium"},{country:"South Africa",city:"Cape Town",priority:"medium"},{country:"Thailand",city:"Bangkok",priority:"medium"},{country:"Japan",city:"Tokyo",priority:"medium"},{country:"India",city:"Mumbai",priority:"low"},{country:"Russia",city:"Moscow",priority:"critical"}]}async generateQSiData(t,i=!1){try{if(console.log(` Generating QSi data for ${t.city}, ${t.country} using triple-LLM system`),!i){const p=await this.getExistingQSiData(t);if(p&&this.isDataRecent(p.last_updated))return console.log(` Using existing recent data for ${t.city}`),p}const a=await this.generateTripleLLMSafetyAnalysis(t);if(!a.success)throw new Error(`Triple-LLM analysis failed: ${a.error}`);const c=this.calculateQSiScores(a.analysis,t),h=await this.storeQSiData(t,c,a);return console.log(` QSi data generated for ${t.city}: Overall score ${c.overallScore}/100`),h}catch(a){return console.error(` QSi data generation failed for ${t.city}:`,a),{success:!1,error:a.message,location:t}}}async generateTripleLLMSafetyAnalysis(t){var i;try{const a=await fetch(this.edgeFunctionUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${lw}`},body:JSON.stringify({agentType:"safety_analysis",task:`Generate comprehensive Queer Safety Index (QSi) data for ${t.city}, ${t.country}. 

Analyze and provide specific scores (0-100) for:
1. Legal Protection Score: Marriage equality, anti-discrimination laws, hate crime legislation, gender recognition laws
2. Social Acceptance Score: Public opinion polls, Pride events, LGBTQ+ visibility, cultural attitudes
3. Healthcare Access Score: LGBTQ+-affirming healthcare, transition-related care, mental health support
4. Safety Score: Hate crime statistics, police relations, safe spaces availability, emergency resources

Also provide:
- Key legal protections and gaps
- Major LGBTQ+ organizations and resources
- Safe neighborhoods and venues
- Emergency contacts and support services
- Recent developments and trends
- Specific recommendations for LGBTQ+ travelers/residents

Use current 2024-2025 data and cite specific sources where possible.`,location:t,priority:"critical",nvidiaAccelerated:!0})});if(!a.ok)throw new Error(`Triple-LLM QSi analysis failed: ${a.status}`);const c=await a.json();return{success:!0,analysis:c.consensus,models:((i=c.multiLLMMetrics)==null?void 0:i.totalModels)||3,consensusScore:c.consensus.consensusScore,sessionId:c.sessionId,timestamp:c.timestamp}}catch(a){return console.error("Triple-LLM QSi analysis failed:",a),{success:!1,error:a.message}}}calculateQSiScores(t,i){const a=t.keyFindings||[];t.recommendations;let c=this.getBaseScores(i.country);const h=this.extractScore(a,"legal",c.legal),p=this.extractScore(a,"social",c.social),x=this.extractScore(a,"healthcare",c.healthcare),y=this.extractScore(a,"safety",c.safety),v=Math.round(h*.3+p*.25+x*.2+y*.25);return{overallScore:Math.max(0,Math.min(100,v)),legalProtectionScore:Math.max(0,Math.min(100,h)),socialAcceptanceScore:Math.max(0,Math.min(100,p)),healthcareAccessScore:Math.max(0,Math.min(100,x)),safetyScore:Math.max(0,Math.min(100,y)),confidenceLevel:t.consensusScore||.85,riskLevel:t.riskLevel||"MEDIUM"}}getBaseScores(t){return{Germany:{legal:85,social:80,healthcare:90,safety:82},Estonia:{legal:75,social:70,healthcare:75,safety:78},"United States":{legal:70,social:65,healthcare:60,safety:68},Canada:{legal:95,social:90,healthcare:85,safety:88},"United Kingdom":{legal:85,social:82,healthcare:80,safety:85},Netherlands:{legal:95,social:95,healthcare:90,safety:92},Spain:{legal:90,social:85,healthcare:85,safety:87},Australia:{legal:85,social:80,healthcare:82,safety:83},Brazil:{legal:60,social:55,healthcare:50,safety:45},"South Africa":{legal:85,social:40,healthcare:45,safety:35},Thailand:{legal:30,social:70,healthcare:40,safety:55},Japan:{legal:40,social:50,healthcare:60,safety:75},India:{legal:25,social:30,healthcare:35,safety:40},Russia:{legal:10,social:15,healthcare:20,safety:25}}[t]||{legal:50,social:50,healthcare:50,safety:50}}extractScore(t,i,a){const h={legal:["marriage","discrimination","law","legal","rights","protection"],social:["acceptance","social","pride","community","culture","attitude"],healthcare:["healthcare","medical","transition","therapy","treatment"],safety:["safety","crime","violence","police","security","threat"]}[i]||[];let p=0;return t.forEach(x=>{const y=x.toLowerCase();h.forEach(v=>{y.includes(v)&&(y.includes("excellent")||y.includes("strong")||y.includes("progressive")?p+=10:y.includes("good")||y.includes("positive")?p+=5:y.includes("poor")||y.includes("limited")||y.includes("restrictive")?p-=10:(y.includes("dangerous")||y.includes("illegal")||y.includes("criminalized"))&&(p-=20))})}),Math.max(0,Math.min(100,a+p))}async storeQSiData(t,i,a){try{const c={country_code:this.getCountryCode(t.country),city:t.city,state_province:t.state||null,safety_score:i.overallScore,legal_protection_score:i.legalProtectionScore,social_acceptance_score:i.socialAcceptanceScore,healthcare_access_score:i.healthcareAccessScore,risk_level:i.riskLevel,confidence_level:i.confidenceLevel,data_sources:{ai_models:["GPT-4","Gemini Pro","Hermes"],consensus_score:a.consensusScore,session_id:a.sessionId,analysis_timestamp:a.timestamp,key_findings:a.analysis.keyFindings,recommendations:a.analysis.recommendations},last_updated:new Date().toISOString()},{data:h,error:p}=await Pm.from("safety_intelligence").upsert(c,{onConflict:"country_code,city",ignoreDuplicates:!1}).select().single();if(p)throw new Error(`Database storage failed: ${p.message}`);return{success:!0,data:h,location:t,scores:i,tripleLLMGenerated:!0}}catch(c){return console.error("QSi data storage failed:",c),{success:!1,error:c.message}}}async generateAllPriorityData(){console.log(" Starting QSi data generation for all priority cities using triple-LLM system"),this.isGenerating=!0;const t=[];try{const i=this.priorityCities.sort((h,p)=>{const x={critical:0,high:1,medium:2,low:3};return x[h.priority]-x[p.priority]});for(const h of i)try{console.log(` Processing ${h.city}, ${h.country} (Priority: ${h.priority})`);const p=await this.generateQSiData(h,!1);t.push(p),await this.delay(2e3)}catch(p){console.error(` Failed to process ${h.city}:`,p),t.push({success:!1,location:h,error:p.message})}const a=t.filter(h=>h.success).length,c=t.filter(h=>!h.success).length;return console.log(` QSi data generation complete: ${a} successful, ${c} failed`),{success:!0,totalProcessed:t.length,successful:a,failed:c,results:t}}finally{this.isGenerating=!1}}async getExistingQSiData(t){try{const{data:i,error:a}=await Pm.from("safety_intelligence").select("*").eq("country_code",this.getCountryCode(t.country)).eq("city",t.city).single();if(a&&a.code!=="PGRST116")throw a;return i}catch(i){return console.error("Error getting existing QSi data:",i),null}}isDataRecent(t){if(!t)return!1;const i=new Date(t);return(new Date-i)/(1e3*60*60*24)<7}async getAllQSiData(){try{const{data:t,error:i}=await Pm.from("safety_intelligence").select("*").order("safety_score",{ascending:!1});if(i)throw i;return{success:!0,data:t,totalCities:t.length,lastUpdated:new Date().toISOString()}}catch(t){return console.error("Error getting all QSi data:",t),{success:!1,error:t.message}}}getCountryCode(t){return{Germany:"DEU",Estonia:"EST","United States":"USA",Canada:"CAN","United Kingdom":"GBR",Netherlands:"NLD",Spain:"ESP",Australia:"AUS",Brazil:"BRA","South Africa":"ZAF",Thailand:"THA",Japan:"JPN",India:"IND",Russia:"RUS"}[t]||"UNK"}delay(t){return new Promise(i=>setTimeout(i,t))}getGenerationStatus(){return{isGenerating:this.isGenerating,queueLength:this.generationQueue.length,priorityCities:this.priorityCities.length,tripleLLMEnabled:!0,nvidiaAccelerated:!0}}}const gd=new vC,_C=()=>{const[r,t]=$.useState(!1),[i,a]=$.useState(null),[c,h]=$.useState([]),[p,x]=$.useState(""),[y,v]=$.useState({country:"",city:"",state:""}),[w,j]=$.useState([]);$.useEffect(()=>{T()},[]);const T=async()=>{try{const P=await gd.getAllQSiData();P.success&&(h(P.data),A(` Loaded ${P.data.length} existing QSi records`))}catch(P){A(` Error loading data: ${P.message}`)}},A=P=>{const R=new Date().toLocaleTimeString();j(X=>[...X.slice(-19),`[${R}] ${P}`])},C=async()=>{t(!0),a(null),A(" Starting triple-LLM QSi data generation for all priority cities");try{const P=await gd.generateAllPriorityData();a(P),P.success?(A(` Generation complete: ${P.successful}/${P.totalProcessed} cities processed`),await T()):A(` Generation failed: ${P.error}`)}catch(P){A(` Generation error: ${P.message}`)}finally{t(!1)}},M=async()=>{var P;if(!y.country||!y.city){A(" Please enter both country and city");return}t(!0),A(` Generating QSi data for ${y.city}, ${y.country}`);try{const R=await gd.generateQSiData(y,!0);R.success?(A(` Generated data for ${y.city}: Score ${(P=R.scores)==null?void 0:P.overallScore}/100`),await T()):A(` Failed to generate data for ${y.city}: ${R.error}`)}catch(R){A(` Error: ${R.message}`)}finally{t(!1)}},U=async P=>{var X;t(!0);const R={country:z(P.country_code),city:P.city,state:P.state_province};A(` Refreshing data for ${R.city}, ${R.country}`);try{const ae=await gd.generateQSiData(R,!0);ae.success?(A(` Refreshed ${R.city}: Score ${(X=ae.scores)==null?void 0:X.overallScore}/100`),await T()):A(` Failed to refresh ${R.city}: ${ae.error}`)}catch(ae){A(` Error: ${ae.message}`)}finally{t(!1)}},z=P=>({DEU:"Germany",EST:"Estonia",USA:"United States",CAN:"Canada",GBR:"United Kingdom",NLD:"Netherlands",ESP:"Spain",AUS:"Australia",BRA:"Brazil",ZAF:"South Africa",THA:"Thailand",JPN:"Japan",IND:"India",RUS:"Russia"})[P]||P,k=P=>P>=80?"text-green-600":P>=60?"text-yellow-600":P>=40?"text-orange-600":"text-red-600",B=P=>({LOW:"bg-green-100 text-green-800",MEDIUM:"bg-yellow-100 text-yellow-800",HIGH:"bg-orange-100 text-orange-800",CRITICAL:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800";return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:" QSi Data Generation Panel"}),l.jsx("p",{className:"text-xl text-purple-200",children:"Triple-LLM AI Agent Teams: GPT-4 + Gemini Pro + Hermes"}),l.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-4",children:[l.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm",children:" NVIDIA Inception Accelerated"}),l.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm",children:" Real-time Data Generation"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:" Data Generation"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("button",{onClick:C,disabled:r,className:`w-full py-3 px-6 rounded-lg font-semibold text-white transition-all ${r?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700"}`,children:r?" Generating...":" Generate All Priority Cities"}),l.jsx("p",{className:"text-purple-200 text-sm mt-2",children:"Generate QSi data for 20+ priority cities using triple-LLM collaboration"})]}),l.jsxs("div",{className:"border-t border-white/20 pt-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Generate Single City"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Country (e.g., United States)",value:y.country,onChange:P=>v(R=>({...R,country:P.target.value})),className:"w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-purple-200"}),l.jsx("input",{type:"text",placeholder:"City (e.g., Austin)",value:y.city,onChange:P=>v(R=>({...R,city:P.target.value})),className:"w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-purple-200"}),l.jsx("input",{type:"text",placeholder:"State/Province (optional)",value:y.state,onChange:P=>v(R=>({...R,state:P.target.value})),className:"w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-purple-200"}),l.jsx("button",{onClick:M,disabled:r||!y.country||!y.city,className:`w-full py-2 px-4 rounded-lg font-semibold text-white transition-all ${r||!y.country||!y.city?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700"}`,children:r?" Generating...":" Generate QSi Data"})]})]}),i&&l.jsxs("div",{className:"border-t border-white/20 pt-6 mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Generation Results"}),l.jsx("div",{className:"bg-black/20 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.successful}),l.jsx("div",{className:"text-sm text-purple-200",children:"Successful"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:i.failed}),l.jsx("div",{className:"text-sm text-purple-200",children:"Failed"})]})]})})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:" Live Generation Logs"}),l.jsx("div",{className:"bg-black/30 rounded-lg p-4 h-96 overflow-y-auto font-mono text-sm",children:w.length===0?l.jsx("div",{className:"text-purple-300",children:"Waiting for generation to start..."}):w.map((P,R)=>l.jsx("div",{className:"text-green-300 mb-1",children:P},R))})]})]}),l.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:" Current QSi Database"}),l.jsx("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:" Refresh"})]}),c.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-purple-200 text-lg",children:"No QSi data generated yet"}),l.jsx("div",{className:"text-purple-300 text-sm mt-2",children:'Click "Generate All Priority Cities" to start'})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((P,R)=>l.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white",children:P.city}),l.jsx("p",{className:"text-purple-200 text-sm",children:z(P.country_code)})]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs ${B(P.risk_level||"MEDIUM")}`,children:P.risk_level||"MEDIUM"})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-200 text-sm",children:"Overall Score:"}),l.jsxs("span",{className:`font-semibold ${k(P.safety_score)}`,children:[P.safety_score,"/100"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-200 text-sm",children:"Legal:"}),l.jsxs("span",{className:`font-semibold ${k(P.legal_protection_score)}`,children:[P.legal_protection_score,"/100"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-200 text-sm",children:"Social:"}),l.jsxs("span",{className:`font-semibold ${k(P.social_acceptance_score)}`,children:[P.social_acceptance_score,"/100"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-200 text-sm",children:"Healthcare:"}),l.jsxs("span",{className:`font-semibold ${k(P.healthcare_access_score)}`,children:[P.healthcare_access_score,"/100"]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-300",children:new Date(P.last_updated).toLocaleDateString()}),l.jsx("button",{onClick:()=>U(P),disabled:r,className:`text-xs px-3 py-1 rounded transition-colors ${r?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:" Refresh"})]})]},R))})]})]})})};function bC(){return l.jsx(W1,{children:l.jsxs(E1,{children:[l.jsx(sn,{path:"/",element:l.jsx(Bj,{})}),l.jsx(sn,{path:"/about",element:l.jsx(uC,{})}),l.jsx(sn,{path:"/iqsf-partnership",element:l.jsx(dC,{})}),l.jsx(sn,{path:"/contact",element:l.jsx(i2,{})}),l.jsx(sn,{path:"/privacy",element:l.jsx(s2,{})}),l.jsx(sn,{path:"/terms",element:l.jsx(a2,{})}),l.jsx(sn,{path:"/qsi-map",element:l.jsx(N2,{})}),l.jsx(sn,{path:"/zk-demo",element:l.jsx(O2,{})}),l.jsx(sn,{path:"/ai-agents",element:l.jsx(cC,{})}),l.jsx(sn,{path:"/jane-goodall-memorial",element:l.jsx(hC,{})}),l.jsx(sn,{path:"/enterprise",element:l.jsx(fC,{})}),l.jsx(sn,{path:"/careers",element:l.jsx(mC,{})}),l.jsx(sn,{path:"/resources",element:l.jsx(pC,{})}),l.jsx(sn,{path:"/queer-intelligence",element:l.jsx(gC,{})}),l.jsx(sn,{path:"/qsi-generation",element:l.jsx(_C,{})})]})})}PS.createRoot(document.getElementById("root")).render(l.jsx(Bn.StrictMode,{children:l.jsx(bC,{})}));
